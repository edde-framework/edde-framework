<?php
	/** Adminer - Compact database management
	 *
	 * @link https://www.adminer.org/
	 * @author Jakub Vrana, http://www.vrana.cz/
	 * @copyright 2007 Jakub Vrana
	 * @license http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0
	 * @license http://www.gnu.org/licenses/gpl-2.0.html GNU General Public License, version 2 (one or other)
	 * @version 4.2.5
	 */
	error_reporting(6135);
	$Hc = !preg_match('~^(unsafe_raw)?$~', ini_get("filter.default"));
	if ($Hc || ini_get("filter.default_flags")) {
		foreach ([
			         '_GET',
			         '_POST',
			         '_COOKIE',
			         '_SERVER',
		         ] as $X) {
			$Dh = filter_input_array(constant("INPUT$X"), FILTER_UNSAFE_RAW);
			if ($Dh) {
				$$X = $Dh;
			}
		}
	}
	if (function_exists("mb_internal_encoding")) {
		mb_internal_encoding("8bit");
	}
	if (isset($_GET["file"])) {
		if ($_SERVER["HTTP_IF_MODIFIED_SINCE"]) {
			header("HTTP/1.1 304 Not Modified");
			exit;
		}
		header("Expires: " . gmdate("D, d M Y H:i:s", time() + 365 * 24 * 60 * 60) . " GMT");
		header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
		if ($_GET["file"] == "favicon.ico") {
			header("Content-Type: image/x-icon");
			echo lzw_decompress("\0\0\0` \0�\0\n @\0�C��\"\0`E�Q����?�tvM'�Jd�d\\�b0\0�\"��fӈ��s5����A�XPaJ�0���8�#R�T��z`�#.��c�X��Ȁ?�-\0�Im?�.�M��\0ȯ(̉��/(%�\0");
		} elseif ($_GET["file"] == "default.css") {
			header("Content-Type: text/css; charset=utf-8");
			echo lzw_decompress("\n1̇�ٌ�l7��B1�4vb0��fs���n2B�ѱ٘�n:�#(�b.\rDc)��a7E����l�ñ��i1̎s���-4��f�	��i7������Fé�vt2���!�r0���t~�U�'3M��W�B�'c�P�:6T\rc�A�zr_�WK�\r-�VNFS%~�c���&�\\^�r����u�ŎÞ�ً4'7k����Q��h�'g\rFB\ryT7SS�P�1=ǤcI��:�d��m>�S8L�J��t.M���	ϋ`'C����889�� �Q����2�#8А����6m����j��h�<�����9/��:�J�)ʂ�\0d>!\0Z��v�n��o(���k�7��s��>��!�R\"*nS�\0@P\"��(�#[���@g�o���zn�9k�8�n���1�I*��=�n������0�c(�;�à��!���*c��>Ύ�E7D�LJ��1�J=���1L��?�s=#`�3\$4���uȱ��zG�C YAt�?;�Q�k&��YP�u��ǯ}UaHV%G;�s��<A\0\\��P�\\��&ª�V��\n�SU�t���r���2�	l^�Z6�ej����A�d�[�sն�JP����ҝ��8�=����6#˂74*���#e���!�7{�6��<o�C�9v[�M��-`��k�>�l�ڴ��I��H�3�x����w0t6��%MR%��jh�B�<�\0�AQ<P<:��u/�;\\>��-��ʈ��QH\nv�L+v�æ�<�\r��v����\\*����Ӵݢg��n˩��TЩ2P�\r��ߋ\"+z�8���:#�����2��J[�i����;z�����r�3#�ى�:�n�\r㽃e�pdݍ� �2c��4�k���\rG��E6_����މb��/��HB%�0�>���hoW�nxl֍�浃CQ^�������\r����4lK{�Z��:���Ã�.�p��Ă�J�B-�+B���(�T�%��J�0�l�T�`+�-��@B��ۄV��\0��C�,�0t���F���?Ġ�\na@Ɍ>��ZEC��O�-���^Q�&���)I)�����R�]\r��9�7_��\r�F80�Ob�	���>���\nR�_��8��٫�ov0�bCA�F!�t��ă%0�/�zAYO(4������	'�] I��8hH�05�3�@x&n��|T���)`�.�s6eY�D�z�����Jѓ��.��{GEb��Ӌ����2��{\$**��@�C��-:zYHZI��5F]��Y��C�O�A����`x'�.*9t'{�(�wP����=�*���*�xwr��*c���c|�D���V��\r�V.�0���V�d�?Ҁ��,E͝`T��6ۈ-����ڎT[ѐ�z��.Ar��̀P��n�c=a�9F�n�!�u��A���0iP��J6e�T]V�[\rX��a��v�k�\n+E���ܕ*\0�~���@g\"�NCI\$��Ɍ���x@W�y�*vuD�\0�v�댆V\0�V`G�u�E�֕��f�l�h�@�)0@�T��7���§RA�ٷ�3ۘ��/Q�]�,s�{VR�����F���A��<�vץ�%@9��F��5t�%�+�/�8;�W����J��o:�N�`�	����h��{ܣ�� �Ԑ8�Eu�&�W|Ɇ���U�&\r\"����|-uǆ�N��:nc��fV����#U20�>\"���>�`�k]�-��x�S�͇Т����c��B��}�&`��r+E��\$�yN���b,���Wx ��-9��r�,��`�+���ˊ��C��)��7�x\r��W�fM�SR�\\�z��Q�̓��uA���2���4�L&�Hi µ���S\$)e���g rȌ��\$]Z�iYs���kW�n>�7E1k8�d�r�k����E���w�wcm�Ty����a�\$tx\rB��=����*�<���l�f�K��N/���	�l���kH��8�.���?f�����6�ч�{gi/\"�@��K��@2��a|#,Z���	��w�d�������6w�^&��t��P�����]���.����T��kro����\ro=�%��h`:\0᱂����|ꊣ�a�Ԯ6*:��*��rO-^����n���M�}���Aya���\n�u^��rnO\r���`�T~</�w�y�}�:�|�����̡6������v�\rc<�b#������\$�s��|燇V)�h�TC��(Ľ���]6��1�!1M��@a�/�`�>ٸ�ߣ�����C/�6ഷ#p@p���`Z���ch��\0��\0o��4O�O�i\0-\n���/�\0�D�.� ���.�Đ\0fi��ȫ���\0��ID��\0��\r��0f��o�����G����eJ|\r���l	�3�~�iP��&���/�\0�9	^\0r�0]�� �o��.�\"�	���M���v�P�Z��mp�P���ڜ�ޏ���{��C?��k��ϼ}��d��ʏ�~=�.��- �	�m1>h���Е1;QI�OP�\r��c�pApV�k\rQ*�Q}���q>��u�15�BqQ[1f��l���ap���\0��*�J�Q=�����G��������_��b�GHF.�0��	= 2P��������P!�#(3 \n�!1&72f��`�/��\0��\"P�U�\$�\r0��,QrU&2f��_�X���]�9\"�S'�'�y�8\r����kW)O�)��*Ra%�\\i�%�&ҳ+r��3�S`�,�v��&2�L�&Pu*��-�0\"�%HĬԞ��@ؓ��H�B�P(��\$p&�,1M� �ح��;\rn�.�� I�.�',1�)�4���2�u+�3� `�S��pL\nt��_*�S3;6r�'h35�55䜋d2q+6�8�O7sC\"pm8ҭ��6��9�m\n@e0�<8B�8�<,(���8��\0�	�0�J�<@��I���R6pԭmG�\"11�6��.\"����5̂��:��8b�A1�;�';�?<*\$�,�̍o= �T��/3�#��҆�");
		} elseif ($_GET["file"] == "functions.js") {
			header("Content-Type: text/javascript; charset=utf-8");
			echo lzw_decompress("f:��gCI��\n0��S��a9��S`�����&�(��n0���QI��f��\$�At^ s�G��tf6e��y��()L�S��P'�����R'�fq]\"�s>	)�`�H2�Eq9��?�*)��t'��ϧ�\n	\r�s<�Pi2IN��*(=2�gX��.3�N�Y4�B<�L���i�̥2��z=�0H���'�ꌚ�u�tt:������e�]`pX9��o5�g��I��,2O4��х�M�S�(�a��#������|�G�b���x�^Z[��G��uTv�(ҝm@V�(���bN<��`��X�1�+��9J8�2\r�K�9�h�	���`�����I8䛱S���t�2�+,��I�� ��p�9m@�:����x�)���C��x�3��4P7��-�4�r\"p3Fh��-5��U4͉�\\6��<D\$�l�9�R4t7��dD3�p�Γk�:)\\;�����\r@�t�\$4O�<��!pd���QJ\r�H�}:&����Ȅ�5YWJ�����`�N��bKNS���a�����d>2W�ŅbDj:9[21c���ȝ�:X�@�q�#��4�L�'J��+DHe�3�.�O��K˰���pV��t2�wp;Ɠ���\r?�OzDq.���-�\"�Z�c�X3!/>P�F�s�ɲ��0�(��ʣ�����T63sVQo��SΑ�b�߅^r\$�@C� r2)��� �V�)+nܷz������l��{�K#��9�{�ۯl���m�Q��h�*ɗP�:�c�]�7���=��L���i;�2������<\\�J��b�n����n�_iӴ�J\n������C:���`N4�̖�'Aw:4}�ۣ�W\080��L3��J;�i�)\\�=/N�u=ZV6&cea��p��.[�v�tPZ��X`֔��+z�'��9�.\$\$���@\n\r�]_�ٮ��h�kk�Ms>`̖�j�%�\\9ж��('�jA�>BCd\"K\$	CA�����.².`��.E�洖��yy\0�D2�8t	�6��8�FL������B*��,�|\nx\\@��@��3r ����WKQb,%���DBf�ȳD|͌�E0/�2>�Y!Ć'��`�f�mH�<B�B0\r*\0Gx��n�Y4����,�L������%S�,�v�0���X�Q�1�HId`�!.�V��H/��×�H��0�U��0��`�LI�8��k��2�4JYN�&�8x�J�k:AK㝡nW�!�����I�;'��\":2��4�~�J�8�ᒑ��G��\"M�=\rZ'�n�i9F����r��R�t�3\0��Ҳ�2�y��B^��b'��z�ɲ(�#�d9It�&W�jNa��C(� j�Ė?h���j����քZ\$0��ү�J	A_�\n�!T�O�4�<{a��?��o ���-����?Hl�\"�2�y�=�먞�R��ф����͊�P&�G���4��%()�\r5M����LT�\0���xBI�=ltv�2Jhv���~/:��p��:8\"д5���0�#�*�7����\n�q�>�G\$���):	��\"�#�KfI�!�v�+?{����Qg��{�R�Q��C��}�#��iIb�g���X�����}��`�}3�%@��{_k�}0��ȗ�p�!�a��<7�e���F�?����X�D���, ��Ck���U��L>�1���܇����p0�#�\$���V)pY�s5A�:��U�(9�5��,F+�&�*{�-����:���:7��:ʙyP������X�+���\n�I;��\\s��P��1�����r��NJ�AT'-���k?��Y@�����f��b񎒔R�J�i�m�B~�K\rK��t�4��;O�Kc�9%H�5��d�3��e8j�P��[s�9,�Ę�bzK����W&e�d8���)����5�p�h������\"0�hL5\0�7 �ڌڇ�{��ݿ����<�k��\r+��X�b�l��/؝X��AC�s\na��l����}�~ݴ��drx(\r�3�nGr�T�+��Q��J��P�\n�'?��Ĵn~��:�����Q�8����`{�a�� �4:��L�:� ����uM���ߎM�I��,�`�BgN����\rB��\r\0��o��\"�/�2^D2)n�\raz�R\$�7�`������L�p�*�{`Oqt�z%%�Hg����0���K�f&�)\\�QW������\0dp��<Q\"�c���'�/�Q7>�+��j#\0��ȺБ_�ȍ�k3�J�(���%O���\0��Tm4�k:lʞ�mD\$����\0���'�~� Z@�����V��L\"�Hjn�5��Nl�������fj&�M��O��dbӰR����Odii�N�(�%�-4+�:HpR��?B�M0��JF��.����1M��f~U�T갊�lˠ0�����U��|��Ђ@�X4�bg� ]P�?@z `��<��R���`��-��F���I\0���㬦|О���ŬTkQk�F@0L��P�\r���#�u�����ܲpX�^ѱap\0\r y�Pt%\0^8��\r�����k��\0ǡ1�\n�d��B���.\n�Qjq\$\rM˾F��o���(︉ [� .#>��Q�`Y`�M��,�J���\n<��u�z�+I���!)��+�t��Ŋ�����lƜm\"\"17\"j�0#N�m���٢�O �pR�K#�R��7#C�&��!2\$��>�Ϝ�C�.R\"�r��\"P�y˰7��\r�ܼ�s)�%�#�U\rO�EЀ�����y�xCt@п��*H����+@���0�\r���I����L�������/ \\\rNR\r\0�@+�\$��/*w0�S\nt�\"�\0�r�/��P����\0�3L���%r�R�2R*�+�0�\"�-�3N1�D7(tb��/@�12��M6���d�(�c7�*��p�l�8���(t�0�Kp�2�-�����Fb�\$�R��(/�+2��,̲�l���8�����r�K!�6\"�Sa0bx��\$O\0\re� �\r\"8�'��t���\r��+�P�@Y1��Yb�R⹰�\\jK)��438�h�1�7�z`p�R�R�C��B���<������F	4�DtJ-�tV�D6\0NL�T�v_�0�\"qJ��I���*�.����q�R|��H�Πt]>�\0�OL(#�n�.�2Bn9Jm�@R�s2|��h��t�Nn6B�cO+�҆��e������BO=,��C:�6�:�M<��BV\\`�/B��ڧ�,w:�H�͸�2xp�M�nbn��Մ�0���	1�,4�V�#&�l����jKC�\n�g��l\r�IcY@�Y�h�3�\nU�]@�	���\rL�d�\\B����\"t\r�p'\n�'�O\\��RИֳ�5��S��b%�[��\$�L�u�`5�Y���u�[���\0|EMh���\\)�\\u�9�b�H.e@\r��!�e'�VP��C'c\"�f(RŇ&#~��\\qH�]�{^���g'O�<vz�6lp��g'8E�{�*�/�U�V�����p���o,�+���)X��k.�0`�s��0h�r��o^��𦆰�B\"�j�Ok-��%Ɓ0���g�x�+� �[�P7\"*hPP�\rc�<�[`��V���7�:`��U��(�I��s*d�;�>	�BGsG� t:��8d\0�@�jwLvj �ow7v b�	�p�����u-�\n��, u:)��\"ut�:�WB<S�b1��2�CײS��d�%)r��pտ{cpqM�!���#P��#@�E}c\"@|d%kr�\"*�x�� w}״uW��l&X~S�B'u�@6Ch�º..��'��+@��Ӄ�[T��1����b\"�\n\0�\n`�I\0��n+�/�\"lW1uƴ�Z�D�C�(�1�p�wм��� �^\0ZJ`��b�#�5�Ʉ��H���;���(���!`��#^»y�ߍ����VGr�|�_�pG�e�Q�jd'2I-���h��^�da)א�:H�H)�5q�X��FQ_��{8)~N~�\"`�\$1��� �������B_�������N^�h[�N��(�+��M�wϙP�'p�65b?�Ѵ���y&<�ZT�q,9Op�@2M���zĕPq4`eo���b\"fm�v�X@�c9a0�w Db �~������W\"u@�J�r�i8�0��0��#�}7+���ok�@���\n)l�r���%v�܇�!����n{�XYw*,��b���F�^\r1�y5��BY�՜#w:3&j�B������fY`���� ��BI��|�l�0��ӫ�O�r[rEa0bɋ��\n��	(�\r��GF��@ؼ��٭�߮�1��ГS��s+�X��%@u�g9zfS��#0 �DB�� _w��E�� B�>�{���*@�}k���Ƚ��\\P�,\"�-rC�rV��Yם���Z\r���[�S}\0Y�%k�cϖ2�vs\rK���O�T@��s��!��2��cw˒��v���,4&�rxr�؇�~��#�\"��X�\r�];SF��F�<ta/��M�&�U>��5s ��S���>�6��U{���p!\"y�7M�me�Z�D!*v�w�W�	��0�w0��1��|H\$&ԉ+{��GRH!rԁ-�24�l��\r��\r�\0���t<ƅ��f�:�DS�d�eQ��\r\\�a���E�bG����m �g�x-T����G�YKƢ�tp0�?��Frx	�2\\�V��2;'\n��+��b1��DG�5���l'(�/[�,N��(nG8��b�XQ*���-R�����\n4q#[U�<e��ĝ`�&&�o�@�u�%�5\0��`\0�E}#lʨU�x%m�Y&P�b�͕�.��ϡ�1<jn�ǃ�\nV~o��N�p\n���\$E�&�#��%G\0��=��ek���Q�C�<}�]�A��-Yb�;ฆ�[���� �U�Y�c��~��T.\\�<Wn\\oP����qƉ6P\ns��`�����c:�3�(�[��zX����{ P�\\�炫��W��Y�:߮:��#����9��Y�[�Y�t&l�9kޱ�Y_҉b�~��&�v�	�*1���`�f�8��S��V^��'���}��l��z8����� �ZGb��_���]�⢏��fpJ��Z�0��@V��'��u��y��	��C�R'N���?Y���k ��\$c��� �=�n�	�YJ�>P�R�J��]��.��짃����}�;�;S��]��@���:�����I~ۑ���ҝ�|;��Fy�ƃ��}`�/��-��#�1�@y��7���ys}�\$A�a�\\�<xG��֨BmamZx�3�,}ϝ:�\n�d9��΋�}�H��m�T,/K�Ϊ (���Sh��:����V�,N�\\����\r�B%�Y�v�i,��pyrrH��&�dL�%(�@L��5��T@1`٠�:���\nc�,b�O,��\"ԣr(�f�Y�O-���yk���*&�,k�yIP\n���rpE%��`��89��ׅ�l�UN6_�<E���d�L��K!���Zb�k�*���q���C\$��P�����sHnI���M�(���q��D@\"8��\n��r�f��C\rP��pKƣ஛�d�L!N��R9��cl�i�!a :��\r�\rPS�S��*���0a��,�бd4Q\r3v����L���ʘ�ðGn\"3�%Qd���)�i4�u�s����X�MP��^��5�O��	b�p� xy���TqDnBy�C�l�q\0X��2�E%	dF��,7G��&���Ri���#瀉CV��N��\$�LB!(<��*1|H\"Eu<��P0T|s��)C(oZ[ҵS�t�������m��\n�n�� ��6<�/>����'�|�#h����6�\r�.=(�v���;`\"O�Cܐ!�B�9�.B!UE�D�Ăd�����)�K���\0޻��mF~	B{O\0�ρ���_���u#��5 =�Lj��7�9 �6����lCV���Tp��08��	1��x'�0@gIw�Z�@9�Lᎎ\\v\0_(�\".ЯA[sń��7I(azl_�EЦ<��t�U��7`t��0��(��3�=��o\$[�h�!�B��[H�R���)�)nxaZ�#=H�8�뛥 ��%�@0w5J��	��A\"F:8N��\"X�- ����?pj@)iUj���\$̚-E����E��\n/��P�B�P@y8j�Y�K�9	0�H�Dd�&0���h�X \\��\$�(��`d\nEΤ��@�J�b*NRP\"(q.f#�d�G��D���M�n9:*��fЎt4��:p�M�(5%�Q\0e�Sb�4�1���eM�),�R�\"k�m?�\0rB�(��\\��ŕ�de<�\\�BM�i��L	(�h��R��D�e\"r�C��R�����)9EJ�QҘ>	�O´��`�A�#�bh|HN�\$�%Z#�4-� 2=�D���\\��0��Ȇ��\\�\"�aUR	�-I��k0\0��ق���H�H����~u�]Q��F�1')-�\0'�x��e��ѷ���p\$�Q�ea�#\"�Rǰ��@\\��F0Ѹ��#\"��&<�1�HЃ�\" B���.���#h����/���TmA[��\rR�(�¼@%�E8����&\$	`E���Ð,B]�(a{�@�6I��k3[�h�	�Ew\0�1�)%檘 @ڪ�\"�6���aJ�I8J+4q��a��0\nB�2ɗ�a�!{q�������g�1!9�:\0���&D8|8�\0�:�5P1���0��:y���FDH��Uk3���USLK��f�i�mB�Fk�@EP�M-�;1��%��82ls1��!&�5��Ra�������4��P%��eO�/������E�I@C=��MH���d���8@���9rI��Ѐ��*B,� �^����\r�ۀN猗4�B��ZCX���s!	*@EN�)�Д4�a\n� )���?`+��&�C01M�SqD��Q�B�\"��n)�M��!x\0��5��j3w\0⣂�0!\$\0`a7��2Q�Z�>I4��}�x���������Zu�\0���W�dd4J2��26\n�	���٠�Ņ�Oh�F�0Ț\0=΃�%�1�\r�A�ih@vM)�\0�`�&�a2��K�i�K�fhZU�\n��AM(i��P��W47�|�ZQ��:�5X>x#5��s=0R��>��7���i�'�ٞ\0ʙ��)`�h�R�����d`�ѵM�IQ\\V��V��4T���U��R%9F�a�h�47�]M�_`>P~_T!���N\0��.l��%�C(DZS�qu\0���in默2���H�qC�M`��A�MqQ�~�5p+�AZh���3����\n62�URbq%B(\n�T�󑜛F����>�8��GM �LpiȢEQf�M&�.©OQ\"=Z{��R���l�aO��ث���k}�� �-�~+�`�ew�W��T	�ը�2ߘ�.�1R�H8H��d���h@0�\0[�@r� j\"�����OZ���1r#��tQ@7��V5k�+����ʽVl���\r-���U��\$\$Xڼ�4����F6{�/��ǁ��P��Z�s�|��\rcӀf���f�?	�_��XՔ�����@����0�nl�܄Y�g:װ�S���s�~���9���F�t\0/�\n�0']y��^��#&�\rH��j�R0�:�⇣��D7J��~��52��l�D�}J�T�eΜ%���}��+R#��k3T���\0rYu�h��ތf���le���A�1S�T�P\"��Ph�E�N��VK`2Q�\0e�eK���>IFܚ-�7S�=����B���j�N5U�[�Xl'\0 2��j\0;�͑����J\"\r4hE��FX�mR�\0Q���*/X��K�{h�Wڑ���l��m'j8�ڎ�.��F��sUԩ�\"i�+b��B�Ul1 ��RCG�-���3�)3�\0�'�Nv�?��Pe����Z��/�i�O�]6b�|1�T����j�Hھ�@m��-k_T��P薯\\��\0��69��nU�{�-��5�!����G���ξ5��m�S ����\$룱�m3��%�`[��B�/�e�����Tm�i�N�o�!��.�\r��0�6�,l�\0���:&|\rֻ\"M��kw*�rHV��Ü5ۂ�j�� Ypғ�X\r�w{U߅qĒ�\$u���Ul{��\$׶�5m�(�`/�����4/nIp�j\\-���_3\\)��sז�W��m�t\n�JR�D�т%t�\n�*�Rz�2>��\"��a�\0�8�1���/s�@ۆJ�'l�Hu�k �Z����h�8�s}ȚP�)R*��b�e%��o��s���2aQ�J���հ�qk�6g.	�R�/({Ǥ~�E��;�\$��t�l��mI��GR:i�'���Ap��y��ۭD�M��/<��wº��p\r�\"���}\0�PS�'��܆��p��k`C��qEY�3�d���|p{��DJ;����cHT��WnW<)M5~�Y2��t9���k�R<��q#\0��ep7L�+�c� �\0u\0\0�m�W��c}[* <�ؾ�+��r7�@+��^/ķ��_�YƎ���/y�6پ��%�X�KR��o��S�\\�	m/�g�P��¾��V��%D��G�Oiu��t��N)��ί&��yS�0jn�rr�T�y�my�k!�8U��Dn�B�\0�l��PG�.[�z��|�8bG�x��\\s[�#�?>:�\0Xz	f�� f.����4�^  �9� |��\r��z+G�Z�D��?�5A��A]�1ϱ5�7bv�`|1��k.�LU���ڐ/`We�'��k���k�ܟ���I\0wvu�]�-��%�O�b3��j�b�͙T�A%��&�I��P��cB�9͋{yB�LtV�?��F:h�Ud[�Ѡ�k���8OSV�	k�Z�|�*�U�G��-k�&��I����ݔ�O9\0������eQ>7��p�e[�<���R�ݭ�h\$�?ύ������A�ǐ��-�!�i�|�ֿ��[U���fEƧ��S�tF�RU�H�?�Z���I@��Ñ���EY*��Y��Y��ZE�����=��:�+�@�V�6��^�ڽN�8VK2��� ��#�bɊ[2�-	��k2&*�EN�kV�2�y��W8+֜q��&9�1���+Z�D��\",������ʃ#-���4�5����c�xP��̕��lX� �s-P�χB���kF����\$5m�W@��\0���!��`@��߁��\"�O�a�7����14yo�us�,|d*+ɢee7�<Ŝ�:�ߘ���]�bg!���bs�H\nr��nՖ�@�@�r ���r�)0 ���\"\0\"΀�O4]�ސa�H*�o�,뀬.Cp���3>�u��x5�����	�暳��VZ�Ҁ,,\r�f�Hl�e���:�e�Z@�]��\rs@�%�\"\n!�k��hʴ�eȴ?��j�i: �>{ɚ�˟�! W.�EBV���	\0002�9���歚C��\r4�����P+.��=5\$Kb����h(5\0��I�C���� U���4'V��(-�!0	����ȕ:e��n�Û��:��-F���;/�#��T<���MVH/O����۹��Q��Ş4h-�D�5�U�\0�@\"��	�Fav��@��y���'�;�.HnrzxP�^���[��bE��D;SY���	P�� :1��N��i�wf�w��1�Y����|�F�DiZ��D|{�q�R��0\"���(�O��D�	�z`�)�`-���|�5Ql_c.�k��<�5�0�z�Җ������кe��d�\$��\"�J����S���\n\rHK�_ӄ�t�4�s�A\njV��!o�[l��OP�Q����w�ӆQ�9��!�5��\0�Ym�g���(@u���XO_��a~��&��#( =:��\0�����k4W��\0]I��+�f	F��j�C#�n7�?�����N�N풴)�&z݊��o���h��BlM�TU)5��p�t�����t�����\r�V.�]���͋�л�n�J���v��ض�t(��n�ѻ�ݜD2)m۞([�r����2z��e�����=�n*̍v�w8���x+�<`	2�GF��TB�=v�h=��};L/w������v[�c������)���nL��*�����7`7�ޑ���_��\n��{��B%Q\0ǃ@py��\0��Ȉn��'�^�庾&��6�\0����������̃%�EK��;,��Pe��l-�:���g�K��XT�EPVP. �P���R�l���s�Omt��h�������#�Uv�ϲ=}�a>\"���ƽ���o|R�t�M��<fM�S��Z�QB���*�o^�&��5����*D�Q�N�\$*�	�	BrD`��e��=��'�?��T Mxkk�Z��}�Q��[�~��Ռ�(qmQ:�{ދ����Ͳ�f}N@�lCa����\"N`��AP�cԀV0\0�B�f��������P\0Iu�5�4�������`�:*�`��Q�wR�(��������7Ȼ�jj�g�dc���6,�/%��2�#���iɻ8\\n�����q��Su۳nu4?W7\$�>-0ϵЁ�-7d}y��[�x��~��0�S�k�y{!�s���(@6p\$a:ʨ�Z5}\0��]B���g���uTT\"K@�u���<̞.�ugG���n��ڊ|a�x��������X5�E����@tçVw��?\0��ruY둹�.�?[�f��9��9�3���	I�\0�ذ�)�OuɈz*��b�+\$S�9��~�v��}+��񏄫�tw���\0\\�");
		} elseif ($_GET["file"] == "jush.js") {
			header("Content-Type: text/javascript; charset=utf-8");
			echo lzw_decompress("v0��F����==��FS	��_6MƳ���r:�E�CI��o:�C��Xc��\r�؄J(:=�E���a28�x�?�'�i�SANN���xs�NB��Vl0���S	��Ul�(D|҄��P��>�E�㩶yHch��-3Eb�� �b��pE�p�9.����~\n�?Kb�iw|�`��d.�x8EN��!��2��3���\r���Y���y6GFmY�8o7\n\r�0��\0�Dbc�!�Q7Шd8���~��N)�Eг`�Ns��`�S)�O���/�<�x�9�o�����3n��2�!r�:;�+�9�CȨ���\n<�`��b�\\�?�`�4\r#`�<�Be�B#�N ��\r.D`��j�4���p�ar��㢺�>�8�\$�c��1�c���c����{n7����A�N�RLi\r1���!�(�j´�+��62�X�8+����.\r����!x���h�'��6S�\0R����O�\n��1(W0���7q��:N�E:68n+��մ5_(�s�\r��/m�6P�@�EQ���9\n�V-���\"�.:�J��8we�q�|؇�X�]��Y X�e�zW�� �7��Z1��hQf��u�j�4Z{p\\AU�J<��k��@�ɍ��@�}&���L7U�wuYh��2��@�u� P�7�A�h����3Û��XEͅZ�]�l�@Mplv�)� ��HW���y>�Y�-�Y��/�������hC�[*��F�#~�!�`�\r#0P�C˝�f������\\���^�%B<�\\�f�ޱ�����&/�O��L\\jF��jZ�1�\\:ƴ>�N��XaF�A�������f�h{\"s\n�64������?�8�^p�\"띰�ȸ\\�e(�P�N��q[g��r�&�}Ph���W��*��r_s�P�h���\n���om������#���.�\0@�pdW �\$Һ�Q۽Tl0� ��HdH�)��ۏ��)P���H�g��U����B�e\r�t:��\0)\"�t�,�����[�(D�O\nR8!�Ƭ֚��lA�V��4�h��Sq<��@}���gK�]���]�=90��'����wA<����a�~��W��D|A���2�X�U2��yŊ��=�p)�\0P	�s��n�3�r�f\0�F���v��G��I@�%���+��_I`����\r.��N���KI�[�ʖSJ���aUf�Sz���M��%��\"Q|9��Bc�a�q\0�8�#�<a��:z1Uf��>�Z�l������e5#U@iUG��n�%Ұs���;gxL�pP�?B��Q�\\�b��龒Q�=7�:��ݡQ�\r:�t�:y(� �\n�d)���\n�X;����CaA�\r���P�GH�!���@�9\n\nAl~H���V\ns��ի�Ư�bBr���������3�\r�P�%�ф\r}b/�Α\$�5�P�C�\"w�B_��U�gAt��夅�^Q��U���j���Bvh졄4�)��+�)<�j^�<L��4U*���Bg�����*n�ʖ�-����	9O\$��طzyM�3�\\9���.o�����E(i������7	tߚ�-&�\nj!\r��y�y�D1g���]��yR�7\"������~����)TZ0E9M�YZtXe!�f�@�{Ȭyl	8�;���R{��8�Į�e�+UL�'�F�1���8PE5-	�_!�7��[2�J��;�HR��ǹ�8p痲݇@��0,ծpsK0\r�4��\$sJ���4�DZ��I��'\$cL�R��MpY&����i�z3G�zҚJ%��P�-��[�/x�T�{p��z�C�v���:�V'�\\��KJa��M�&���Ӿ\"�e�o^Q+h^��iT��1�OR�l�,5[ݘ\$��)��N�\n��[�b���|;���p�74�ܔ¢��I�C�\\��X��\n%�h�I��4�g�P:<���k�1Q�+\\��^咠�V��C���W��`83B-9F@�n�T>���ǉ-����&��`9q�������P�y6��\r.y�&���ả��E8�0����kA��V�T7�p��x�)ޡ~�M��΁�!�Et���P\\��ϗm~c�B�\\\n�m�v{���9`G[��~xsL�\\�I����Xwy\n��u����S�c���1?A�*���{�����Ϳ�|9޾/����E��4��/�W�[ȳ>��]�r����v�~B� PB`T�H>0�B��)�>�N!4\"���xW-�X)�0�BhA0�J2P@>�AA)�S��n��n�O�Q�����b�r���Ҧ�����h��@ȋ��(��\n�F��ϖ�ƙ�(�γ��P\0�N��o}��l�<�n������l�oq\0/Q\0of*ʑN��P�\r/�pA�Y\0p\\��~��b�Lh �!��	�P��d�.��y\no\0���ж�Ppt�P�ov�Ђkn��\0z+�l6������0���P�oF�N��F��Op��N`���\rog��0}P�\n��@���15\r�9\$M\r�\\�\ngg�����\$Q	\r��Dd���8\$��k�D�j֢Ԇ�&�������bѬ�갿��	�=\n0������Pؠ~ج6e���2%�x\"p�@X��~���?�цZelf\0�Z), ,^�`�\0�8&���٩��r�� ���kFJ��P>V��ԍp��8%2>�Bm���@�G(��s\$��d�̜v�\"�p�w��6��}(V�Kˠ�K�L ¾���W��q�\r���̤ʀQ�L%�P�dJ��H�NxK:\n��	 �%fn��%Ҍ�D�M� �[#�T\r��r�.�LL�&W/>h6@�E���LP�v�C��6O:Yh^mn6�n�j>7`z`N�\\�j\rg�\r�i2I\$\"@�[`�hM�3q3d��\0ֵ��ys\$`�D��\$\0�QOf1�&�\"~0��`��\"@ZG�)	Y:S��D.S%͈���3�� d��m�U5����<�S�SZ3�%r�����{�e3Cu6�o73�d�L\"�c7�LN��Y���k�>����.�p��2�Q�������3�VذWB�DtCq#C@�I�P�DT_D�:��Q<�UF�=�1�@\$��6�<c�r�f%��,|�27#w7�Tq��6s�l-1cP�m�q��\n@���5\0P!`\\\r@�\"C�-\0RR�tFH8�|N��-��d�g���\r��)F�*h�`���CK4�1�ʍkMKCRf@w4B�J��2\"䌴�\r1Q4�2,\"��'��x��y�R�%RēS�5K��IFz	#XP�>��f��-WX\r���pU��D�t&7@����?���� ���}O1�2��2�#UK*�)�긋�0o<>�]H���ƿr�LGN���W%��M^��9X:�ɥN�����s�E��@xy�(H�ƙMd�5<52B� �k!>\r^J`�I�S�N��4'ƚ*�*`�>��`|�0,�DJ�Fxb���4lTؕ�[��[�\\���Ԡ�\\{��6\\ޖ� ��(#mJԣ,�`�I��J�խ���l�� �j�j֟?֣kG�k�T9��]3ohuJ����W�\rk��)\0�3��@x�,�-�	5B����=��࣐#�gf��&���Z`�#�o��Xf��\r �Jh�����5rqnz���s�,6�o�tD�y���b��h��Ctn�9n���`�X�&�\r'tpL�7�Η�&���l�Z-��w�{r��@iUzM�{rxא�m�SB�\r@� H*BD.7�(��3XCV �<W�у�|d�q*@��@���+x��̼`��^�̘߬__��ND�X\0Q_D]}t�Y��p�f�w��\"�3�z�n«MY��ZR\0��Q�?�{�M3���*�1 ,�\"�g*U�*���̫zҌW5NV2O-|��ɍӁ�,�]�B�d�\r��/O�t��Á��0�xƆ���ЮOC�8�-0�\r���0���@]�X̊���\\\0�0N��у4�i�;��At�8X�x�\r����������݊��7�<�@Sl�'L��9W� �θ�Ϭ����ı��R����\r�Ϡ���|�X��a���7y���\rwe����Y!��E�������cRIdBOk�28[�m�J�+L ��ٸOXpf���9ѝDϛ��ߪw�@˓�Y�������\\y�Ac٣�Xg��%����1��j	�X�9Cc݇�R����QF�pd�=�C�����\n\r�Ց��dj�٫�xE��2FX��x_��ţ�5���}q���M%�ZM�:\n�zW�X7���:�Zi�npY;��>ʘ��Ɇ:6�;�Z�X0��̢#��c�MyU�i2,q�F˚�b�J @�gG�|4�g��mzW���	�)��r|�X`Sc�է�˙��c����!�B�����/}{4J�\0�Ýn�Kuz @�m�Ѯ�߭y͞�y�\"�)u�����Y睘s�c�y둶����y�����7�|��|��{Ϙ*)��4Y`ϵ[v������^NX�������W�����7�;�_��*x����\r�߼߉xm+�m����	����\$\n�l�);���|٠�ڙ�:�N��:���_�8N��U�5;�p+U�L��\\�9������O:I����zQ�����T��)�XG���J{w8���ŉ�U��\$������PxTY�pjh��J�À��J�{���@�ǂ����Z���s��h˘�X�\0ۖlӖ����θ����Y}�����^�@u2�S�#U��;È|�������P\\��#��|�<��\\����J۝�,����\\�̚E����]W�l��,���ɖ<�Ό�>Yn�),Ιr���Լ�⍺]��	�\$����q�DJ�=����X�I-�ŀ���a�ll�õ]\\�w(i�C�׃t��<i-u[uV�D֓�Q¸�xb�k�LI�.k��@����N��[�l<o=-]1`蔼�d���M�7�@�%C=]�����/|-�܏�����q�������*�C��O~�Q��s�`��(���D��ɲ��[���>�k�R�u��\\+>)3��P��P���6��M%���pԌ��A�3qmu2�fz�ۯ�4s�	��`ێ��-k�S%6\"IT5��~��\"���Ut_	Tuv�ֽ�Yw���0I7���L�\$��1M�?�e@3�q{,����\"&Vi����I�?��m����UWR��\"uiT��u�q��j\"�G�����(��-��By��5�c��?��w���T��`ei��Jtb�g�U�3����@��~�+���\0M�G�7`���\0�_�-��?\r�V��?�FO�6�`\no�ϚIn��*p���e���\"T{[Гp^��\nlh@l0[/���po�JK�X����<�=�9{Ǿ6�<eߏAx���ǂ���4x[͞L�~>!�OQx�{ZVFԎ`���~I�ߖ��L)�Q[�T��M����T�*BC�~	���\n��gÈŅp9zK���w��zO9di^�'�+���Dz4�gHA��Ly��\n�r�<I�jKQ�Sn�==\r.�o7½��%a;�k��mX��Zi%P�i�\r������/��L`pR0��&���I (��\\.�*m�*�(�֎��\$����\nw��Х�8a�\n&���Um� M֨P+\"Ly��?�M\n�2�	L\nbS �N���r�!w�jw`��\$��r���a�v�^�q�F��6���i*����_x��\n�f�I�:B&�6@�ɓKED����QD(V`.1\0Q\$��F��H��T���zІ��\r�jkzM����Y��(61��x�+�%dj��o\n¦�\rg��\"�Ɍ���?�1- 3h�X��)�yj�5r�N�#Q����w{_���G)���1i�� ��<�Z��pX���\$�?�=%.��Ү&��%\\�8w�!��a4�<JB[�ĺ�u4�%��47��%gѐ�&��Z(@	�E�{@��#��2�h@�#���џ���@\$�8\n\0U��j�A(ׁ�2�O��8ڀ�5����@��&'�\n�D�\$i#��#�t\n�P�Ts#]P*	�D�uc���P�O|pc���P	ގ�i#�}��:<��\0\0����ťlo#}�F�R�Tp@��'�	`Q�ycTp(Ɗ@�eh\0��Ձ8\nrx� c�<`N���:)DY\n*D��2{dZ)A��4�����cZL�2��<��\\�\$r#����7�����!�����N�{O�@\$�<	Ѣ��V�Z�ƞ52.�A�#D0��\0��I���\"P'�H	�_)�x@��*��AOh�hI)I�L1����%�JI�B���g�i\"p��K2}���(C���=�t�xC��&F�	r���o��@@'��%	 �H�T�Ꮘ	�Ԙ:=�)\0.�]��5 .���(p��L!�8�\0��	�R\0L�Ya�bk԰�6�)Y��� �Ԯ�	h�zZ����Ig�VO3o��Lg�3�Y2�ۉ�DoP�`3̸ec-�r7�2ԗD����B��Z���%�/I{M�\0p��́.`���o*�ԯ%�T��\0�&�iR\n�+�o���\r�^2q���\0\\�I@�	�K�#peC*!>�/�%|ȅ̒�ގ��\$�)���1P30(\r�+\nZ�z��))\0*�\0k����2��υ(�E86�s�t�f&������+;��76&�K�_�(�9f�,@-��4l\$ۂe7\0��:l�L��M7�.\0��|��o�J۩��Z�u�̺�'�y{�H,#\0vU@9!��	�'��&��G���@_-ٿ��t�;���:����u�<��L�i�Κ_ꀝأ@U6���#�_�L'~��/�m`\\T�']=I��t�Ǟ���)��q�s�9�a<RPº|�t��t&5��s�l�@�	�K�wS���l�:9�N�wS��|�g���O��AП<�BȀ\0�/�z@�	������=?=i�O��kӟ=\0E@i��\$BנhO\0�>D�P��U��цj�H��9F�BcCi��BwM��t�x�P��M�?p��=���8�����lg~���t�a��%]b\$��\r�r���a,6�t��W)�\0U��F�	|�쓢�vh�Q�*��O�l.C\$�\\��ցRR�<lc��&Cj3��%�ZM���z9GpY�⹣�\0i\$D��d��zt[')[)Q����k�pi0�#cþ��NE��(�C2L	�@9�h�EJ5�,�h{&Jz�0n�v��>[��j���[�]�K��R�J�>.;���F=Rڌ�<r��M�=�Ԓ��h�^Y\\Rmn��� Nn*g�����B��5^Q҉@O��x��HI�T���9�)(��&��}A)P�\\/��_�!́H��ڑ���\0�B��\$z4�TYu�J�v\0ꏃ���%@�32\0S�m�--�Gi@��Q�%�j�Y�+FuzlS����W3�ŷOr�U\$E��;�M��\\�Ա�u/��jeQ����,#J��XP�<UH�TVV�#U��Ub�OU�DZ�⢵��8��UJuS�����g)XDZK���B�\n�@2���x@d&�� ��eܫI�@�Fw�8��\$�'I�V�V�U\$�ET�_�*�d�/�FC�Ydp��vG��3���њ�L^(�`�j��2S���c�W��JQYi�HB���ck�R�\n��U\$j�\n�ZAi�U*wKDRxW�L�򭈀+f���@�A4��Gz�R\n�5�b�\\_�� ���0�C@�\$X\0+�]����\"?�n��+QIj\n�x\r��B`S��M�����\r�o�@��6X�\"{�\0��b��)��M��cM�W �D_�α�v@{c�:��%[%��C��1��;Aƈ��Tn� \0� a�p��e~�U5 s�V��e|M9��9 h�@�\0��~�@.�	�l�� Jv]��D�f�7�F�ᱳ���,/+:����XIi�\0U��@N���\r�ʢ,�.�i����m_�F�������YiU��J�!�g�Lj�����D�iKA��6����-U�Kf�_N�\0�-3����3+�d�i�D	\"���M�ml�L�X��㯸��>�&|U�с�`�h��2���n6����I+�né-nD��`�����ɔ�@�B!;X�smȯ��pC`�p5����O�%Z/��5���#CK`�X���cb�Q#��Qa������q��p���)��G+~ۖ��\"�lM_^z��!���E���Х������a���p86��n+o�J����,��󇢺w\n�]̓p��R��'�e�J�q��'ܨ%�'�nlO�h@>NBȊX5�,�����rGr���Z l\r(�ˑjI���l��%b�;s+�נ�Wg7�)�*e��1����3�L�e@(�p\0��Î�ds��A��D\0Í\\bD�\nu�/&1��XRץE楂5�T�\r�}7��������A٬���k�\\���͵����q�2܀��Z-wo���t�Z����]�-yq2j+Ն�խë���n�XA��\0�\0��+S�+�Y6_B�V�7z�nZ@̆�Էƴ]�-UMJc*������s\"�+\0��x�B3^���0\r������c��\\j��*�P-\\Q8�ʎ���l�c�%X��VB�}�,��;(�`*Q�	\$���r��{�K��C��%�\r��x	��Q���,�����/�v��\" p���~ ��� �J5e����E�-^�X;c�\\��׬m��7��?�6C*庮�,7�Hf�/�9e�0[@��!b����UБ=��i.Joc�j;��B�\0���]Ք��v�G��8�O\\\0�Ǌ�O��\$��.&	p��\\�H1b�p��:F\"8Ŷ�����Vx����R��x��=�3�f1��+|��\0�B��kb�P�Lђ��\$z����c	���i,Pcb,p�n(��,��`�'/�~��kֵ��p�q-��ȱ�V��܆��\r��	\0��dS�����+�\"�鈭1\0(�-��1~�tc��f���Bۑb}ؠ��0<1\r���L���\$��2d\"1�&�ƀBóN��\r��B\rr��\"?v�d�Z��.\".\0?w��9�o��\r�0�с�!��dR��뤶\0���H��ra�%Њ�+\0yr�H�sϒ4W#�,\$�� \0�*xB�\nP���|� 8@/�\0�2U���b�����Ϊx�!�d����N�3S�?��P���(�g\n8��pp����S9�@�'  �\0�y���\0�y4�6�H<�����\n`S������CY�����jp:\0N(Ӎ��X4�k���g�Dy��<�n4���rS<�����?�\n��B��f('���~dgәS��?<��Vg(1����2������)���f`�Z��a�>t{������>��\0��P�`O��\\s�<�?4�w�~���f@z���~hBW������xhA���O'=�P֌ײ����=��c[ys���g�|���掳%�M�,Q���8'X �hlUs���٢� �4��qD��x*�8g�NL�BȖ�;�}%e�@Y�v�ho!\$�NcCX��@�;YH'���@^ ���Rf^x�\0^os�_f���;��pj]�:�Ԥ��.mL�l\r���V�\0�@܀��\"���1%�!_��@-]8f����-����a�]Y�W�ψh`(���J�@���\r����Y	kB(�x��:5�B\\QkO[:�0�¼��uk�X�\\�P\0�[�x��Ů�`�RIG��k5�����Yz��Pҙ�=�l=���e�\0�2=k` �[K��B�����8��C��}k�c{#�آ��l�dfF.̵�-�A���6��K��������P�v�'��lHiA��8C���	G�`Gbyپ��- 0�Ĭ;[*_���m�lH{(;Uo���*�]�,ċ������X���80C��K	�!N���(I`��	V�Dv���w�rpc,�����\0���9~s�Xn������r[ec�4d�p�i	\\��e2���l��aZCk�gl�bB���7x%������Ż��k`�\n�(@ź���5�ݘ�ϭċ#t��ܖ��E�}ńs�Lv��E���\nQQ۔���76}��Or��j�b�%@7���۵�h�w͹�n�k�`V�q�����~���~���4��{�������ˁ;���8p2mP+ d�aX8&,=�n�}�!�/�K&\r��t�H��)/��Y���6@�=}���EU��lK��\\k�b[��1G����M�)�J�xX�E�T�	/�\"-��<4�xD�����p�(�3�ʟ�ߴ�'�+�\$\r��<r��n`H\\t\"��70=��Y�W�hs�\r�w�~�!�0@6l�\\� ��/�B�7������>F��܉\\��Rپ-�n���ܧ\n�?F~��a��+x�����\r�l,f�C�+���w�i�G����.X!�_�71ym�~���D��7���	��������G;g�w��b/89��x�@!R�9�éJq�Y�h�'3���Ĭ*��Xw�ˮ^���	�7���5�����`�:�#��+ۭ0����S��@0�o7:&~r(Z��G1z������p���d�N��`�/Fz@8�t0�Z�_ ���0��{��L�n��ׇoE�Í��=r���Gj]��H����ҷ���Af+���V����m��7���B����*q��}c�w��=ۄg��wE�-H�������&Rh4��M�Z��_L��]W��V'�զ���\"u�@-�aM�s�@9�L:�Ւ]�#��a�oyb�\n\0[��r�p*}Q�bw����?����;Vc���ʰ��	�.�s索X�ְ�y�R=�&d��r�O����2�j!�ux�����R{N�&��ѻ�5��}��vy۰�1o8Z#��{��N�r�����Q:B�HzW{��W{:�r����}D\$�j7)�P������CvV��X���d�D7�፮���,�h���_�]�^�qσܟxO�]���?p{�\"��O�8Q�?xw}�J�?�9k���x�5bu�&����o���^�����>�w�g]��h�#�?+���m�(�����/ng�	�5�5<�;����ȅ�˳��x�%���;�(��V�;��o-��˽���.e�nkp���_�F�X�9�Wj�Q���CBا�v3R=�솦;a�][y�Ȼ4�/�|��##v�	@_ǭ}U�M>����1���\rC�M�q��C����d�ĘU#[�ɦ�m\n\\�\r6�'�>���iI�;�R\0X��<rW0[�E�dHS�H\n^�\\��3��T���F�xB���\$�	�i��-��'�����Xf�}\0#ɤ	1�o�B��*�;�1�(\0�~@)���h>��{��~��w��H/vL\n9�?do���,�x)#>�#b`'�,�gT���~�t�	�Y�}��/�]-'���\0�(�� ��@ϡ�/����>��~��olH��������/q��D�T���~��o|��a����#|F8��d�ϥ�/�|��u���V��h�\n>����{�	�������_{�G� I�a�E���&{VN��od���F�B�X��׽���(I�N@Y����������9��ɿ\n-��{��@R�o۽�&�o^3Y���>�|������-������~��/��?*�`\n��?��S�!V���ϩ������>����}���O⟕���>��RM�������?b�@\nO�?��0�s\0��I�π��+��'���X���,���`'�����?�����\0�K௸��C�O��2�t��>��LO���L�v3�����\0��[��PΛ�l��H\nh���lr\$/��\0+���\0	�����	�\r@�?K�)<#P����s\0������?K�@�@\0���ꀱ���\0�%,p)?#����\$�\niL����3��[��3�����?����@��O�\0����A|P\0��D?�N@\$�,��/����\$B?0���\0�\$��\0V��Lhͅ���	�������>��#6�+��>��R:p�>�7#���\\�гlΓ�Ao���<3l��	pe#7�A@)������@��#�AV?h����	0*�Z\0��*�\\Au���_>k���b?>���\"��c�#6>�B������\"\0�>�\0ps��?�DPvA\\#��(>��3EP��>��:��<\n�O�\0��d\"�@A\0���Aꎐ�������5����	�� #��	� c���	���+�@��h؀����\$\0���:M3n��3c��`����T+I8�B�3@*����	@'\\pM�8Ol����������M��c�#�����7B�h`,	��6o��\\\\.�S>��D��C���0����ƣS\$2��B����@&A�>�L�k��4�A�ܭ3�����@�;��>p������\r�\n��3|�\0\nO�A�:6��\0�d7�@8��%`#É�[��=�D����\n����3u�L��C��9�BC�:`���\$!h�\$��;��B�20u�[�8��C�	�<�����篟��dP���|=q��2p�V>������	|*1\0��\r�E\0�dAov�P�t'?d,P�D*�@	/�#6��CP�BO\n��8�',5Ï��E� ��Lq\r?m�Eq\n�z�C@+��r60�C�?3�/�̓�\nP܏�lH�D����ͤ5\n��������i)D��1(���D��7���u>��\n�\$A��j4�\0�?�4��?��LK	A��>Ͻ?������qDI@��\$;��D��8	�&�?;�c���Jأb�P�����\0	�B�#3�`���)�����O�3CMZ50�EO6��C��\0���\\\$����p[�9B����#cj<�1�1B;c��DBh�?��@`*���.qb���X	o?;\0K�p�3�8	�RC��6/����\$>lͤpI��,!�*\0�+��>=�]�w��\nT^pgź�#�\0�?\$�J@�	\0*C�*�7�h\n�j?��:pAr��]Y����L���Dbь���B��4d@(D��c�E���@>\$��	4�ؑ����</��?\n�/ĺ>�gp�>������I6i8�;����Ɖc�1�AZ6�!�}<j��D��j�(F�?d���'���t\0��Te����1��� ���Av?lnos3���50�#�>���_���d�����Uк�Z�P��4D�|;�r���C���[9�ꤥ�5I�5�I��\0��EO�B\0{9q�C�|\"pU�Z�P�` �����Gc�QC�GP��JO���6(�B����z>�7��F���0I�:��vO�Ǒ�B�uE��,\\0�Ǹr8���qgA6>���74D�0q�G����>-SE@#����G���.�*\0i\n\\-`*\0q\n\\e�����\"�)qu����n��@`>D�8	\0/�@��_�ڀ��w#�Ǎl��G�>Ԅ��-+ߐ6�Wl%�6��l0�\$5�s��&�\r�*\0e!�r����qI�� \"���> Ș3EIL�\"��94G\$/�\0����\0� �-2>/���倘���Gg\n�/�L�q�B�P�\"#7�z��HMԅO��O\0̏�&���2L���T^P@Z�d��=�]Q�=��KC�E�\0�QO��\\��s0��>��q�Cz�����G�>������	��@?�0�?�\\o�¿����4Md1�9��\0��G�?m\rD���(ԴL�d��\\KJ8\rE���-24U�0VA���R=�E�e���5!�2m�q����AE���V\$��ϕ����I9���	C&�\\G�)D� �������4�I�#p��#������C��\\x���C(\$�H�:NI(J\0΋�\"w\0�,)P�Ǭ���ϋ4<��!�=���Go�����P��6��N�QD�\r[;��A|K�'AA�P\0�C:��ʄ̉�4��*To����D�F^����\$)Ϣ���\n������)�(S��\0���(�\$:�@���Y8��J��#�Ђ�+��\nQ5�+`a+ �i�`�6x𑤪��:�ڌ�.�T���:��a�\0��cv(�^X��¼H�O.\"J��O\r��>ex-��J���KP���rԂ-`2����_�7��-�!\"Jؐ����J�H.���o-�.��\$�<�BO�Ѐ`> �d�\n�H\"�؆o+���s�ؐ� 3��+�� �6�/��a.�\r���nd���˨��?���z1�\0����?�� 7����<��?���\$�\n`+Aw*MQ��<�P�o��?,)#P>����̄\0�?j��ē�Vq�?���\$�	9���-��2��I���D9��Lg1h[�ۏ�1��sC�1sީ9Lz?�	 LWd�ovL��#��9`ͨ0����ɦW���h>\0>���/)D����L������\$�a���9*�<:C+�J��KPJ�\"�L\\�*b��� 1���6�4ja+\0�%Qf ;K�E�����`�>�>7�t�Hw��MPn3I:f�D <L��R�'�.\$��BO\\�\n�	��5�86�̹D1�<\r��\$Z�����4�%r̃�������\$��˶���o�^�\\��\0�f[z�e��6|֓g�&�8+�M=6�5��\0�1Id�{�^fqd趈s7(|�tM.]HS�[���Ԡ��;7yC�����m���I|A��:`c����8\r��i������@��P`�~\rl�a=M3��f�<��R�\0�!��@��eثr��dO�t ��T��-�XY9A��:38��O��adХ��gL�fx�=4K\n&��u0K�ͨ�,��o7���Ć�,��3�:h|��Kb�)AN���`��:�Ό��;�����*sI&��Rs�>\rX\r!\0\n��BsVM63�K�O�:Į���c5�� ���X!A�Q9z%`�{:�H�D�E��cv!�Ν,����:X�)�(��%��2a&��,�l3�8j1�|�͇�=CRr��<�\$�\"KB3���'9�:|�)`Oj+��9	}-�S�>2��UU5��BUN������N���S�N����O���3�KN�Ў��� �@:/�7�āQ���!�@�.�(&v9��d���^����ج!�[.pGc K#?�f��pÝe�O��d��2\0k6)�,\r�65GmOFV�d�i�x,�a=O�@s��c6�`¤��\rJ\0�;��H�(�*�r�-��.�M�[�BΠ!(��M�LP�bU��pJ�:�1��E����!:�,�:�YB��*KRޤ�r�0جL�a6�;6+2��)�UB`JsV0�:�0_B�14/���AO�Ne��)A~\r�� ��̠�NP�w�,��C��3�殹���T3�q9}S�Q\$��A�P�D�;!�:�!���Y��s���6����Rԁ�Ft�#C�π�Q\\`rXr�<�'��72ؼ�O-�w9Ӥ��b8�5��3{�\0�7�\ra\"�\nh[j���F��a)��+��2�<%��M��|��m�|\n�54p��	&bUQ�8\0E��ѥ4A�AN,ˍ��˝FؕTo(�G`�O�GA����Gl�`:��=�\0<\0�������T�NϬ=.�� 6Ζ(��S�Bİ�\0,J��?�.�(��%���,�?B.<2�hM΃I`�Ό�4��*�˯G���'�I�����9����RX�E%�,O\r,ʈs��*�(�}<ڗ@c��R�j]D�`UR�γ,�.���d��r���	\\�N���l���R�-󓴵˚��k��Q�K����,�I�.����T�@1\0�K�4���/]04�K�K\nC�&�F,���SF0�ԵS.-����K�2��R�Le'���7L�0���oK�3T�S.�4T�:X̾4��9/:WR�9.�62���J6��S	.�c��Sv^ 0����O|L�MD%3�4z3Id\n�����#tPq5h{!7Z�ۻ2 ��thʠ!�K��7Y��1S�<���h�����-<��p���j����<4�ӹO�%@�OKB���S�!10ԇS�Ґ����YF�?UR4������!���~�Xl�=��H|�5QH�C�&�\"1M'�8�5a`�?�SPl�`0�\\�m��TM,8'1�eQaA&	\n�TR�I��G̿���Zx��6yQô��a�J������kU&�OXH��phQEN��=C�\"�Lɛ( ��Qe@\0;��Q��P��D\"�/��\rB༖t�T��\r<e��eS}Om��EP�P\r�ӫP5B�4U\rR==�BS�R}H��T�#�E\0���U�=Q�E�J<�S�` ۂ�1x\0�U:��O�/���+�N�J`P!t8�\rT��7 S�R58\nc>�ƺ��!���1{À�ӼuE��M4{֔4T��Ga;�|���5\"S���NkS�8�D��?Jc�U0կRtB�{�5qS�B��,�\0�p���j��!�\0006K�1� X@�D�V��_�.�(�_`-��`�D��ua .��X\rF�����R���FD���S�Rxh��<mXj�b��W�_G\nV�ĩ�S��\00074�\0�LR�\$Q�X�p������ ��\$�N��&83&a+��|l�Չ��Qs�A��CX��]�_X�]��\0�+8+Uz�sRP��Q\0�\08ՙP�O�MU��H6!�VX�5��X�a��V/kӏVF��`�T�Z\0D5F�OS�n�k��TMSվU\rTMZҺB���o���Eg�WG�f�ń-Y�(�}V7T0B���4����[9�5��X��m��Xh�t>�LU`4\n͌T����o9�v��F�Um��\"�u�DՀ	\rw+��\r`�V(�V��P���j�]K⏜4��oT.\$mDĵ�	S����e@3�׭;@7m�:�륥��d��!���Z���Q[����5P��7;S��/B�!Mc�G��T�W��(V����䯕<7�[l�t��^����\ri0�P���a�|VX���̃a[x9H��]�����^&m����Ҥ�\0�Xl㤫�����ހ�T���OXl0���(�,�`��oa��u���3��U#��'0+ӽ8�]�HT!XX\ry�W@�\$�MQb��-�)�X	o���\n|�`-q�-bٶU�Vc���� �3N=5�vAg\r���8<IGPB�9O^8.	Xk��;+\"C���Z/��UUo[i`�\$��d].��(s������`-��⽀�q��e�-�N�=#[�M�P���O^(B����6��_u��2:0mx��Yg^5�-�YG8��A��c�VV��d�6�\">\ra��^��Ю0�\"䱿R���,�3D�����2iG�5��?:\rT!�wg��M[7;[v{֪Cs\rU9d�`��yh\0h@��~��qT4��_Q�V�v���F5�P�s*�Mc]I�9�1T0m�V)S���X�[���*��c�dA+�1h�b�:�Ih�M@�s>P����9�vuT�>���ֽ`	�O5�cc�����jϏ?Q�Tmq\$���=(V�6F\rTr��~���\0�|m�C�)[ՂN���,d�+;�Qm�-Ň��\$�o��B-�s���R����N�:��/8�>�b.��40>����,�.tں�J�\r�\rk���6�	WMm�3[�x5���q����Lb�6�;`�Lm��4�I�6^d!5`7�:aO�h�4����-3��H�Um���ڒ�^�_��NTꍱ�[PH��؝a�=UH\rE��\rjM���S�PsN6�MXQ 5��	�\r�ۭYKqs�[�s-\0����]�a�N�d5?�+�Cf���Re^�+@�[�P�5���Ga���ҵoM@w\0QyoK��U��e}��[�_oK��@��n�wxV�pE���Puo5�R��8c�.��	Uo5�w\0�\n(%�Np��V֮�J���Aqt��Z�#Ո���k6���iE��V�R{q��f�{3l@�PqH�r!VS]��6��'q��@>R=E\0��S�+Uj�ʔ�Y�[źuUոջr���p��6��s]h't�	mJ��8�QUUuD��m2z�Є��B�K����v'P�l]AAf�ch�\"R�V�p���X��;U�5�܎���c�ְzPTuUQY���Z�5�U���Jen5��n��ov�s=Hu���Z�oa�it�oU�ڻuuH5n�=jS��UPZMN����QmobF�A>�]i\\�G\rT�v�ւ��\"��2��v4γ=]�2�z\n=:�\rh*s��f��w_���Ut8�[݄8]�+=���G��7z=n�ۗJ����u�8|��4u]�	ca��z�׀Yw��t]ܪ�����^���r��)w�]�%�i,�����e}w�0<�3��n�Lr��.��iy-�7(K&�\r_;f�[�̈\\\rX�+H����a=ܳb�n�c�	,c�!��8\$m�V�vR�J]�g -�W�Os��R(���5]WHVC\\5@D�!s%Β�^�sd�%N��9��7�փ{U��+��I-�ռ��P\0\"FЈS5��F��[��z��sk(7�Ez�����1-��@�x��̹�>M��g��WM��jԻn\n� �^�tL���Uc}A�VR����@;�X-<s�<�t��C8^!P}�3q�d�\\ζL�3u�����\\-\rSlX{s�L�Nl���L�ߟn���&Z�p��t6_[\r�����V�V��C~�I�E�?W%�U�ܫu�[�ATAW\r����\rd�w���V��k�����h,8�Ŋϔ���D��ػ���|a�6-_1O��`j��o?7>\n�Xs�Y�n�^c��{j�7�����:��]E\"JVJe~�.�QHg�T3r�c��V�Bce��3e^Հ�9�8�\n� �Z�(�䇪�	;t�z��Ս#	�q#�\0V.\n�S/Dk�/�k4������(iJ�`���uM5�l�G��'��\0�n`��54��\r�5��t�B�}���ZH�4i�:x4�ӊ�5����3���&�`ġ��amn�-��n\r��W���a����MXC���KQm4���Ȉ�5�A�XG���@'����:L�ԠY�3�\"�@W����Ǝ�,���M��Q�[apfJ�;���`�����c=Rް���~�V�o���韢��w�cXn�ч8K8t�j��'�t5��e�B�:��kx�ya�ࣾ�������Fn�	��� |:a09�\$�cu�f�\n����w>\"��a��!8~Z�\\��x��M��#،��J�\$��y�HhM�Q�H \$�\0�]���`@3bS��#���<KX�L��~Xf5S����haw����j�6����^ړ��߼�ճr�#����j\0%\0��%q�;)9��g�.�,bBD��DԀ~��:rX3��\nv��L��5�0�R�����/ͲN�n_����!�)SP�ء%�0�=��+�@B�9�of`��~)=�D�p�@L>�wЈ��?L�2YI�>��!�?,���@���[��G�>�����>�,ROs�*dR�cG��Q���G!��ù�s���q|��A��Xq���PP%��\\Px�ÿTI8�ŶΤs#磵#� Ş���#�ϏL<p_Ź�������>�lE�;C����;���#���Q}H_�LY��Jy�\$�KL/~=1J��(�����������0d/\$�Ae)l���E��/�mϡ�54)Qŀ���t��GdqQ���Q1E���p0���	�d13��t�!C��?�\$��^>Q���|�!B?�F9!c��� '�W�hA�LY��䅐p�1���K�\\��y*�&�M��A{���~d=���/����p�d�tPRj��EA��\\(Y:�\n,yP@iDy)9B\r�!�d��f=�Lĝ4p�d�>�>p�d��V��	�Kp��e�&PhBe�&Ap�d�'D&Y6es��U:Bd?�O��5\r�'�Ke�FD�de�FE��C�\0t(���|)-��#�)�!�m\n܊�l4?[�қI\rL^r5cU1����\r,R�r?�dR����s���7&�^�!���O1�F���[�-��,\0�)�\n����B�����}��?��^a��!�9pe?����f1n)�N΍����a�~��W��}�eS��>�����JO��B�\n��P��%\n�*AIleq�E،�^�}�QD2p	G��fmJ�������\$�}ҹ+��-��5E�g\0QTF6�Y�	#�c�*�ʃ�K4@[s��8L��aN)CX�D�[ImR�\0006N9f�z3��M=�~��9`%sg��=>���G9��ﶤ�T�것4�Z���tl��炳86!�_KthI����v��<L�C�7I/!6t�bQ�.��ԊM�f��zOF\\�2�gj\$��	�O��U@W��54���\$�v��P3-�,\\Q;���P͕4�����NGH72�T����6iSjg�#��̹T2���@9�7@l3�p\n�\r#<O�7�\0�Nu;���.���|��ag�q��W���r�O�=�ʩ�\$����y�L�b�(���]:�I�(nq���I`�����Ɇ��u@%!��5;���3�K��`ܛC,��dVq��X\0003N��>�Oo3x�S��Ɓ#���1��(�XIeV���x%UT�#q�Np ��#\$���L�)�f|C��3��˹M��b�MG��%d4��L�]K�����m�w�6�f酘� 8\rv��u9�r��A�x��\0h^��:bdghE4�R�}�x��AH�|�Eݤ9�|ZIVs�N��Cϗ.֑֢�nw<�ZN�D�C.������'IE�F=Q3?r�+K[T���F��4\r)�@�px�O�x3�4�̗�<��`�qD��0�ǥ�����[A�P��i����cX�I��Z�E�d���4YQY��\\��E���QE�viK\0B\0W�݈OZ?fOkE�ْ�B^dַ����L�1M��5�x���,�+WgSt�O\"L��6�SH=C���54ms:��eR�4�[�&�����:ݚ�j��#�m���ّtՖ6���lՎjbX5�.K�Yb�Igje��L��	)j��\n_VƦ��j�wL�Z�j��.�N�qT��n:�CIx@4ԗ�ctڬI��R��.1~�:�^w��c+j�s�����ӫ.�����~�vӺg���oJj������,��/!�d�q���%�\$Zb\rv���cOV%���׬EJ!g5�(���K��B�y�k)�R:��Ɵ�Z�a9~o͊�n�\0��T�޵�+�\\�\0000��܋���=�_�ު���hm�s��e���jKzлoX��`�D�گT�����U�K��-g�<N;�f���U\r5~:�i������QA�y��UC�r����QL�Z�6<m��*�q�D�|��Z�k��g\"�˭�k�Z���=0I�������M^�T��Z��1�Һ���^�U8l,&����}P6:�˫:vúI��f�{�?���%�lC�f�Wc<�`v��K�c��5{ޫ��ĵ9lh|j�t�>MNR���=���(�����Z�D�=S���l�,95M�7/q�ɘ��UA�C�S���a�^ne~�\0������m��)�(%�����P!�3��JF�;&�Ͳ���A[��Ks�l�F���1˧��V2�8�͔5�p!!l�	V�\0�m\"1�I�\r��&��Im3���5*�|��g�.Z��N�t�6�2倳qMZ��c��]\rt-�k���Z�/A��{Y�p���W�Лs�Ô _t��v��C��i;E��v��I�.ф�m�Q�𶂌Yܙ3#O���G��m�a�Z1��F�UJ��t!s\\��M���sܴ\r�ګ��1H�]=,���It��5(�5��x�X5o\\����Y�������VmARu�Y�Vsz�\";�ҿ?��;*P�Z�,�L�A3X�U^�!O�Rȑe�&�4�].q�e:M�i���f�	5c�3������}7t.���Ӟv��h��9���%�A�;���:���7z���h�d��W%S]h���Щ{�����׷D��;٥�e���]i��;�g&�V��]��YO⏹�,>������k��2���ۂ\"�-R@2�%����o\rTRS1�_�e�!C�_�E֖Uɋ��u�\\�yS�/˼��W�Nm�J�!����@����P\r`9M�ss#|X����nε���A��w^�t���t��Z?=���������_eB��\r���`�}�P]�Pe:��Xպ�I�UN˝�6�CS������R�o�Mۭ%ۖ��`��P�s>@C�!]EUj���N���l*B�{\n�SYŉ���uOP&��ԏ��DU\0^e\\\r�RL��޶�U��rV�i�5��f����~�=t��U'����<[k=�UCh�.�|��2�URk��I�CpG���!@���<�@����㷯�'�f�:?J0]T5�7Y�eG�I����f؜*U\rS \rz%�GuY�U'����!����P���K��6��/�M4<p���j3U�I�\"m�?]�7*Ѽ�|�s�KA���FW��5����L6U�\\�@����@]t]M�6���\ro[�m㞍�#��B�\"�+�?��O��o݀eoX�Mv��g��\n����-�u\0�S�\n�T<X_�O�Zߠ��][�p(�^�t�Uiiy�<�`8�U�����ÃNgF��2�W6{�d��E��˻���kn|pNM�<����G�Sqѫ��X�rq̷6U\n�#:q�=8A9л��_��Y;��@��r	nF�� 7Ms�z��^C��<���T>\\-�x�\\p���rq�CV�31LM�tԫj]���AX�����y�N���]�z��|\n]߲�AS�ѼU�ف���a'_w\$�EY+���F6]h�%��닸�>U��'ǎ��t�]�G*�o�]+'*w��\\�����T��Ŵ쬀1\0�as;Kr��`\"\0�Z���伵���W.T܂�q��\0�T!Ǥ��*��W��]l�rr�Ӌo��;*�z]!�u���O��6ծ\n`4/se�TDH.���CW?7E��%��X9\0�_g�<U_�x�KM�ab�AqOx��\\Urᴷ5���h��y��N�[&��qV��|⶿������kT�U_��Aw9���i7=���٭��_V�6��7;;8�NE�&�ep!\n��������Q�-��`��4Ѿ\r�8֠`�-�t\0����c���:l�C�g���@�aB�����_o@�H(7�_@`��*��>I�s���>��`ׄ�LM4(�n�'��+٭�&ӣO�VtZ��	\r>��#Od�^��m:ah�)Nd).)�T�t�O=�;�p�fWt���`���;l=)�����u[��|��t�Ұ�\r��%��\r���ҕj�2�,�J�4�0�{bI*t��r����Ppk�:�?��ĝ<��ӷJ|\\t���#�4[}���8��j\\\n뺝?�/��Z��\n��G}�m�S�=E���x@X�\0�_J=K�z�G�\n�h�WR05y����s��>=0س�|�C��NG�~���R�]��/�b��	�PЂ�5��Z��B�\n��qҤ���-Yv����|ɢ��g�����`�*��vHO�D�4���ۑ�GQE�vbo��W����׌\0����\0003�Q��'_>@���~��k�O���_#�����`���&<�u��쎰]Ƞ������'�:�NE���H[���-�p+���I��H���hў�~�D��F�/g1��w�&0��Ed��l���hݜ�}�{q��\0��FZ�|��v��9��������H R4���@r	ȝl���#>?\$r�3���61�IA�62»%�lp��o\"4\\�>J@����ȡ\"��qyI��rD�U�I�iw���I\0�\$�C���I%<0�fIe�T�2W�f�Z�~�;&BDC����7�e�t5O�ɣ&���FB���D�NI����]~@�Q,�?)�a1,3� �a8J��h\"3pRs-����N�8��RYh\\�����{�3F��u5�D!?{�S���\$��19|�E�̧-�ʹ����\"�Ӵ5�sy��51�6'y<Ck�O�7w]0��ͨ�S� S�K�9t�yÅ	ha�:�M�0R��n�\$��K;;� ���Gʰl&B\n���4\$�iE6���l�x�\"`���\"�huU��:5��#����*�(�4�[7���,?��{Y��TMs!�܅{���P\0,���)\$~S�����c�����G4���Y����2s98A�W�e~����P�SU�p�Q��пi�;|�]�����P9P�3S���:e��5�W6���#�}_!tpYX^�����Dd��H����4�Pn�\\���f��>M�c�䵶���م�:���\$�@���gO�g�Iu�\\wB��叕�^�VÞT%j�#�[��ɍ���������#q�voρe;�8�u�bI\0��q[����>3��l�0���\r��CJ&��1��=������D�2\r�e�5}���8.���њ�^xYѸ'�.��*��Cy��7S�f�� \r�)8#G�g�%�V*\0a���L�f(s� \0b�\$��z0�\0�h���9�2�`���ߤ�8\0j�ޒ�2�\0\0k闤\0�A�Ǥ`\0o�̀�S�\0\0z}闧�z��@���迥��zk�B�\0\0s�` zW���\0m�ߤ��n��z��� \0n�Ϫ �m�G�~�������zq�\"��\0o�7�\0��鿮~�z��g�`�r��޹�Fϭ���j��>�,�귰�z5��>��F��-�\0��~����Ϥ\0����ޱz��ܾ�\0a쇴��z���޽�;헫>����k>���ϥ����G��\0s�߳>��d��������������\0�_�o��\0k����z��w���{��o����q�w���z��״~�{@�B@1� ��~۱_��z�������ף>�z��Ǯ^�z��o��\0s폵��z����~����G�^���駽���g�紞��9�Ϫ޽\0s�穾��!췵 {��\$���q�\0�\0��\$���I�\0�������}�h {��ǰ��z��?�_\rz���~�N%����z��'��{�������/���U�G��z��������O���{i�w��|��/ɟ{��w���������\0i������?��\n\0i�ϯ��|W����Q�w�+�A���?������{_���� ���^����o�������οR|#����|�����i�o�?2|\r�'Ǟ�{����z���&{��_C�������?�~�z��7���!�7�����Xaz���z����i���������?_���O�޼�E�Ҿ�\0g�@mz�����|?�O�� {��ק�5�����>��_���za�_�V�_��^�N%������1�O���}\r�w�~����	�y}�?�>�{����_\r���؞�{�����~!�\$���g���?��������c�Ǯ���Y������Ɵ�z��?zU�o�~�|���_!}����@~_�>��5���^�{��ǧߠ���g�_b~w�ǳ������ھ����_�_yz���k2z��О�z��O���{S��I�Y�Oɟ�\0m��̞�}���^��{�w��&|����\r���~��泇�?����W�����?�ߨ{-釸�}%�O�>�~g�?��=�y��D|���_��k��؟6�����߼}S��?\r����_;�i����t~��o�_8Q�ש_{Y�O��u|Q���z����>������~��O��|���Ϳ����/�_0{C�﬿�}q���E{%�/���}����s���/q�I��\0j������������|0�����g�/��b>�{&���S�G��Y�=�}��ݷ+���0���z��-�{�7�ϫ_�@\$�Y���7܏F��=~}���������`=��<���'��H��Y���\0�q'�o��ŀ�E8��W����\0002�,���C�Wޏ`^��:z���k���K�`��{j�5���o��~f�Q�c�Ǫ�����~@������O��6�M{�q���ϙ_-�,z������W��`?3z��E�����o�����|H��'���@|D�a���̯M^�=p�H���s�(/s���r{\0������/���@R\r�퇧��_>�'�I]���ׯ���:���F����W���>e|`���g�O�߬�yz���S��\n�p��@r|��i����6ް��}�������0�j�H~s}�ј\r�����{\0!��կH��>4{�\0\r��G��R���|����#��z��A{~����\r��>�zT�]���O�`=��|����#���e����|P���[؈\"/���������O���=A����'���ޑ?{|���{�Ǐ��->|\\�y�C�7���^�@RzaU�3��C�G�z��I����0�?ۂdە8��h�9@�>�%��-�����w��{�F�4�P��~�!����O�_=��#���֨J��|r���)H0�V�˿w�������!O��,���+�������`��|��>�҇���}a)��7���໽�zk\0v�h!�t4A6�.K�\n����_0=V~���3�x\nO��{@B��U�����H`�Ad�p�����Pߠ��z����Ǩ�p��=Lz5Y�+�����>Iz��������O>����	s�'���^н�~N�-�w�O�^��Z�9���>�>�9��V�}�����ߖ%|b���;�8A�F����}M�{�8� q@����(��߬��y��������Qѵ��#�|D�R�H�!���E�<��3�����#�x�!	�'Z)!��Fo�\n�I���KA�|�	���0�\\�Juԅ��,t<D���1�E���/��F�ݶ�R��	�*T�9�o2\\E\n��8M�k����@�	�4D^р�����[�5�D��G��A&�ւ\$�i������	��*����\ndh}�t)�whh�lBK��}qrp\n`QD��I�	U�J���;��P�����W��Y��c@|.�8MН϶\"�%B~ܒ�Q�a-�C�%�x6SF0㈂yad��dR��}��,��ƥ�J�p��Z,�C���G�����L.��#�\$,:��r��>��u�	���5C��	�!>v�~�\0��@��������'��t�Ǻ���\$��H?,0pp���C\nG��F['�`���2ׅ�Z��{@aQ��B����ȟ ' ��fK�\rP��(_�p�/ �Ba��`S�\$�!�2چj��\n8\0j�ّ�TXnD��Vr��ءs�+�҉�4hQ(�\0�,J�]�-�ĭ��C1E�M\0������!hF\0���Wt ��r��Z��\$!@R{�F���PH�Q���9Q+�afb��\0(e���/�\$*��T�\nE�U`��楏^���B��BL\0P�Y*8T����C�I<��9t�h,��\"�#hJ�\0���\"ZQN�(C\\{���5��SC��^Ʋ����P�!OB���N�:Hx'�Q91�\$ǉ!��0�����Cy\nS(U�����u\r3/t\\�8���#8�@���\n�р9�ybH��*7]R_3^8���>�'�g aY~�EC`�\0+��j��\r�8��@���V`\n\"3D\$�p؀��	8DD�*5DG��ᎁ�w�IQ��	S�\$�FY�1̈Q� H����Dx���۲Bc��+�FK�f[BEL�\0����O��@&��҃�?�*�T�Z�TD:C�t��\$�g���J��\r�!�\$xX(�b#!�����\"�}fE��\0PD�\r���Ʌ�*�T���	:<�r�Rv�C����[%�J���-Cm��Ŕ#�@�1PB����Qq\"Hl�yb7�؈d�\$F���C�@����L���ď\$ފ\\EX�Ĝ��@�\nْ����v;�=��\0ID9\$lb*�T�;\n~\$l%4�O�2�����2	&@(�!D��n�R!k%�\$�-\"`��?;%S&����_BRC�~�ET4.R���?bG\"&������DQd��� ���R6 ���|.'\"�Q9�6(��B%�'8���r\"*��6'D(s�\n��D�=��lET�,az�Ê�&H��QP��U��˂t3���PB�����t�H�&Q����6Fd��CdVqas2�3|�!�1�H1a�§�_�	�(3�1�0�L�U�\"z+x�(L���#��Q�T#�\"�����p�DE舌p�1\0I��Fh�}�u�C��,N萱F�MDsF��\0LGh��PZ\"G��*�U���u2����OZQ�j��R+\$I�eQ\$�EyH^%A�Ȯ�^�N��La%W8����L�t>��+�J蟑,��L>�A�9����/�Y�����~,�9�=��P�D�BOv+�Lx����뤂��	F�h��b�D����:,��I\"��A�����N��bq�t����F���q�¸�j+�4fW�<�᠅�f�&.�~Ȟ��b�ˉ��,�SSP��¤��\r�C��\\l��E�C7���Pخ�Cл��H#�(�!T�qE����Ǧ!�Rl�\"m3��g.)A�8��:��B���Z0;j3�e%�%���ن\$o����k4�PѲ�AM\0�T���b1��c�J12(��z����?�B)�H���\":Ea�sA�4G�vт��EwE�\n�XD:�_\0#�HA\$~�\$���q��%�\$�#�,ј�ō�c�2�\"h�Q��E��h{�/k��(G�]��dM�/��1��Yŧ���2-Td赤��^ŰC�q�[H��2�\$ŷC|%��L,�P�ԋq^�!���SE���44�sc,�&��Z'dU��юc73H�	J4�]Hw��L�\r���+iFDp�#L�\$��.5�����@�E�B��~|k�0!<\"���Lmh��y\$�A����#��60	 �	ib���AH�l;(��\0/��AH�H���d���z}\rѢ�I0�b� rE�v7jD��.�cvq��Pt,����&��JH�%#t)P	h8�&�>�ʆ\\+d�)J϶P\0�k�7�i�b�B�\$�Zde3����B�A���W���B�?C	z7�n�W��͢#��6���h�#���f��/�+���@'�ca�!�,?�>#�!]�i�\$�.\0	�x�Cc�18�0��F�u�l��	�A�2WK��>����㯻:F��)	��f�~P�%������h�	p�l��4F��ܘ��@�S�\$�(���C�#k��|T�0h���1�EȎ���(����G��(���c�p�b���4f0�y��h�!����\"S��菏G�\0��=.h�������F� |.�=��مG�Hopt=r���2���=�z�_Q���:я�2�>���oL�ǷFh�5/�&���#�\"	HA�}��D�\"��Dj-1��^Q�R2�N�6�~?dw�1\"Pt�\0�҄�<�������G�BZ�F?�&�\0��!0��q\\�p�!У{��?��4�\"��)^(W�H��H\n���'�\08ސ��\0_BZ�p>��鰝�\$n��^A\"3�;����G�A ��<k��Q.�1F� ���2a�\"A�&���tm#d\$F�\0�L�z;8�ɏ�\$#��!1B3��aQ�=�-�;��g�����J�!���������Cz�Ѝ�\$Gߏ�	�C�*t`ȑd5�b��M	�! ���_\0S��\r^�����ĵC]\\��jB�6��\$cwG�w��9j&��aO�\$�4��@RE�^��D��L4,7�܈�㐟{=ʔ?K%�IU���*G\rP��0�{�.Y`3	D�BD�'h�N��C�\$�G���h\$c�Z��!�9�0VR3Q����~6CԀ�2�u��0��4,MXrG�����\0��:�9��P\$�JH��/��y��dw��@=�1N(�@a@()\n3#�[�y���\"�Ls�G�~�^�l��HDԈ.<y`\n\0�\"\"�eИ�H�}(�`�	�,F��j�yh	С\"	D�vI<|v([\$\n��#~�\$�,;<d�حE��\\h�0zY'�!ತ@J�u!(_0����@��2\n>(E��ϨGVD�\"�či)6\$y fd~�fC4d:� �3�����JRWH�F�A����C T��Z@�%��q2.(�rF���9���	P�Q#G��FRbA���?�ِ�\"�!`\nȟ��GiG8����4�Q�HCA�bL�(�h8��G��8M,�4�H�d�%N�~Yܜ����.�;@q&��s��5k3B�@�%u���6(�\$נؐU%�7�'�Hg�Ϥ�	I��6!9��L1	ҟȑ\$�&�\$�95L�#nò#6{����E��� �-'v@Q��8䅢\0�:?GN7T@�^�h�Hɣ�,�\n;Hcv-@)�bfK�5�>@���I�\0�%�Kh��0����jFs)��|P0�U#��yxZ�-��CC������g��/.O:ItF����CM�]���P`X�3�b��\0.&ll��3ҋ��46<h��4�F(�-K+�t��\$q��A�0\0001�d\0^	�3���Ö7�\0\\���O��+\0000z&o}��m�u�2��JX6��R��YK���,�/\n�\0�SciҘ�\0006����S3�M�e0�8��)|-��2��5�yH�S�٩KR�C�Д�)�TR���5J�_)T��B�)���4�%)�R���Q��%J=Е/)�R�yS�_�ʣ���U4�IP��:@V~�*�Ut��cҡ�>ʉ~�*����W��T�@�*�Tl�8(���J��~\n�U���@�-+.U���Aү@��n��+\n�)Z򰀒�v��)�\n��[�`o�0�R�U��YX2�#�Ĕ�+D��yYR�%N>G��+�S��ySR�%fJ�+�S��9KO��oJ����W�iX�_�U�\n�',2WL��ap%T�d�u,1|�i]ұ�I���+�T�i^��%:K��,�W�iZ�å0K��,�S̱i`��%xK�,�V<	\\��\0/� �#,rYl�Ig�H%���;2X��Yi\$�eT��/,�RԴ�cr��<�N��-Z��YU0	��T��\0�Z������/�O,�Z4�����y�O,�Yĩ8����j��-nUD�ǩR�e��n{y-v[�)j٠\0Kx~w.[d��k�o%�Km��n\\4�9q���Kx��.Z\\�H ��e�=���.��iq2�@/��.*\\#֩r���\0_,�->[쥩u��%~˯�?)�]|��u����ʜ�_.�]\$��n����Kw�y.�Y��B̒�%�K�S/.]��	yr����H��-*^���{2��ݾ���*^��yz�N�T�|�a/_4�X����J��.�]\$�iw��%�K��9/�^�г���%F唹/�_ܦ)�>%i�8)+�`1`2�%�J��q�[���r����_0<�Ը)]R��[�w/Z`��its%�L��0r]d�����f\n���0�at���V�4�3��0�_��9�r�ޘL5�y0�a��r���iz��2l©��&#=�{z��_����w�S��Jb����Sf?3��0e������[�1\0s{�1���Ƃ^�=�l�e/��|�Ɇ�&�p�w0���Ɉ&!Lp�Y1*`S��K�A�s��d�y�A�{�1�d<���Y&4>Y�+-Nd��i�J̊��rd����\$&M̒���rcCֹ�3&&S̚���eL��X�T̢�g2�e|�i��R�4=�{2�e����f^̲�2��e��i��.&a̺�Y�cC�ɚ30&g�2�f��i���fh�ʙ�32f���_&2�����g<�`7`I&:����3�a)�P\$�7��L�a3����Y�� 1?x��3��Lϩ�OI����	3jh\$��=�L���.Vh3֙gs=�~��#0�h��7�9^���pRb<�ɡ�I��L嘥4Fb�҉��8�-�(��4�c҉��b&�L��1�h��9��f��}�4�hC��8ߠ�;�F��i���ܓD�\r��|i3�d\$�\0�T&���{�5Bj�קC{�.g\0��	1�Wܒ�&������kհYY@�A:~E3�jS�ɪRfu̔�#2Zk�ҹ��h&r̜��5e�y��M&��tz�50���)�SD^�L�z�6:j��׺�c���Jz�6:j;�i���f����4E�ٹ��:ޟL噡4Ff�ډ�SR��ͦ�#6�j�ɵQ��e��6�gD�h\n�@�+M�wZhDi�a��M��GZl4��NA:��pRk�i��E\r�A:�|q�\$�)�pN�zA:��4Bn�����SX|=Z��76h��ӏ�f�K��u4vo|ݹuS{���%	��8��YGN�#�dp|�4�c���qƥAM�\\_x�Qg� ���ut����� ��� >Dd��`\"�F��0%�p��X�H}�Iƙf9-�2CX���P�\0KJy:?L�h�IV�5�z�(�Xx�1o#I2�|�:.8�,�cT�x��\n�M�d�n�Yc̜��rTf�D�Y���unȺ1	��A((�E�\$�t�DcXV�(!^¥�[\n�%%�Чb,�/�&)�)T%����t����|=Js�##�	G.\\�`x��'���	&2�EX�̘g��A�8QERS0���ĭ>�8�����s��u\$�@'8�\n�T91gΤ#i8������BgUE�#�Gr%��9Ց�c�N�?-8�(L;x�ѐ�\\Ɠ�q�p���P�D�C��r\$P�����_��\$��(LP6PNg'Nќ�;Fts\$);��'XE	�̃�p�.H����-Dne	.�ا��!�t��9�/r�α]#�y�Ȏ\\�\\���(�f΁��;�pD��s�\"�2�����\\�(���'N��&��+\$���Ӧ�P��#:^x��\0s��xț��:�+����]'V��?:�I�ZYƑ�\\ò=���u�︷��a�N�c�9\n.3!��=\"�\0Y��\"�w�^�Xs�g�OA��=/j�Q3�\"�2����:5�5�)��a��f�{�2CV�!����5	�3T*0��Ț�~�\n5�7hq1;�h��\$�H�.�e0�	C�wj�NJ�=�+pʑͥC����(��t�6Ć�� Zo�yL�gŷO�|X��5�\$��g�n�7��d�*2�'�gB���o��i��#��V�)�>Y>�P'���#^�>���Ӌ�70m`[P9ii��~�r0~}디��	\\�}VX���5@>@��ө�?5K�4)���g��kj�R~j��N��[���W���\$��r�S�Z]�K��v��{[P��'��O�i�x���O��mJf%�\0����S�������'�p� ,�K<՘RP����`\\Գ@]g�yR\\8h� `R�'�7���H��Bc(7�f��1��c\0wMo3�sG@��`7zg��FP\"(�@�m��Ɛ�H�:N3>eK:t%,�(���L�ME�AV�O�M:q��5E����%-��)@�jچSL��ME>dA�es�������Az��7D�\nه��.J�\r�5�l�K��\0n��t@\n2��:�?V�����\"���5lɭ�&�S���Q[�	}\0س�K�>tG0T������:��\n�j!Y�+!¶��� ��(-m��j!\n�jʹ(E�Щ�!5@J��}6��҅��T+A&��b�Z��VE6iΞ�K�8B�caY(_�'Q��W�	%`�\$�}n\\3���-4N�ԡ����5�EP�ᎆ�sJ\"ܽP*	h҇+?��S���Ubwf�H�t'/\\x��\nr�\riF��T=�y�5�P�A�<J�<�P�b�d*�P���P�F��\re8'P��+�f�'���ӴD@0��DmN�\")��7� �,E7X6\$dU��\r�V&0��%f�@�4�U�P�g�)�a��i�Ӆ��Nd�7a<�(���tJ\",�襯���>d�E�:��(��RPQ S-�84����OU?ʹ�3�x`G�=�gK��Pb��	�'���xBk8.b4�F�V%U��XkJ��xQ�������\nǃ/T�F�����a�\0m_eF\"���!ꚇ\rYm1F2R�p I��hĵG���(�z�Z3��hϸ�m>��hss4dsфQf�q�\0N��Q2��X�5ݠ�DՎ��5��ш�T�p���k-B��\"��ʜ�_ѹ^n}�ަ�th��qqG8��S-s��QĢ�>|+:-�˓∖hU-�x4�IΓ���m�G������h���G���0�����U���>���B��������4.ZM�9[�������I`P:��C���b����s\nu�(V�����\n��s�%T�֣P�'B�|�3�D�R�Q\n�]?����6�aT_O̤x�C90����Q�5�I\n,�T�T��qC @*5J����M��IT��I����y����>�J��i&\n[I1����M\rc���夘j��y�c��y��:�N㞗B�M*t6ieϫ\nӱ����yz\nj�R\"t����J/�; �h�>�|���f�\0��Z��r��C�ez&k`��p� ��\0s.�\$�t�\$�S��#DM4xC�U��)W҄\0�J���*jV��\0*�\0\0�J���lb���\0�`Z��ףvT�M�=��I�'����D��_��ZW�෍糸P��+��\n�2N�GS\"���f\$�j��6�V�6��5pT�>���3Z�Xk�");
		} else {
			header("Content-Type: image/gif");
			switch ($_GET["file"]) {
				case"plus.gif":
					echo "GIF89a\0\0�\0001���\0\0����\0\0\0!�\0\0\0,\0\0\0\0\0\0!�����M��*)�o��) q��e���#��L�\0;";
					break;
				case"cross.gif":
					echo "GIF89a\0\0�\0001���\0\0����\0\0\0!�\0\0\0,\0\0\0\0\0\0#�����#\na�Fo~y�.�_wa��1�J�G�L�6]\0\0;";
					break;
				case"up.gif":
					echo "GIF89a\0\0�\0001���\0\0����\0\0\0!�\0\0\0,\0\0\0\0\0\0 �����MQN\n�}��a8�y�aŶ�\0��\0;";
					break;
				case"down.gif":
					echo "GIF89a\0\0�\0001���\0\0����\0\0\0!�\0\0\0,\0\0\0\0\0\0 �����M��*)�[W�\\��L&ٜƶ�\0��\0;";
					break;
				case"arrow.gif":
					echo "GIF89a\0\n\0�\0\0������!�\0\0\0,\0\0\0\0\0\n\0\0�i������Ӳ޻\0\0;";
					break;
			}
		}
		exit;
	}
	function connection() {
		global $g;
		return $g;
	}

	function adminer() {
		global $b;
		return $b;
	}

	function idf_unescape($t) {
		$Nd = substr($t, -1);
		return str_replace($Nd . $Nd, $Nd, substr($t, 1, -1));
	}

	function escape_string($X) {
		return substr(q($X), 1, -1);
	}

	function number($X) {
		return preg_replace('~[^0-9]+~', '', $X);
	}

	function remove_slashes($Ef, $Hc = false) {
		if (get_magic_quotes_gpc()) {
			while (list($x, $X) = each($Ef)) {
				foreach ($X as $Ed => $W) {
					unset($Ef[$x][$Ed]);
					if (is_array($W)) {
						$Ef[$x][stripslashes($Ed)] = $W;
						$Ef[] =& $Ef[$x][stripslashes($Ed)];
					} else {
						$Ef[$x][stripslashes($Ed)] = ($Hc ? $W : stripslashes($W));
					}
				}
			}
		}
	}

	function bracket_escape($t, $Ma = false) {
		static $qh = [
			':' => ':1',
			']' => ':2',
			'[' => ':3',
		];
		return strtr($t, ($Ma ? array_flip($qh) : $qh));
	}

	function charset($g) {
		return (version_compare($g->server_info, "5.5.3") >= 0 ? "utf8mb4" : "utf8");
	}

	function h($P) {
		return str_replace("\0", "&#0;", htmlspecialchars($P, ENT_QUOTES, 'utf-8'));
	}

	function nbsp($P) {
		return (trim($P) != "" ? h($P) : "&nbsp;");
	}

	function nl_br($P) {
		return str_replace("\n", "<br>", $P);
	}

	function checkbox($C, $Y, $cb, $Ld = "", $Le = "", $hb = "") {
		$J = "<input type='checkbox' name='$C' value='" . h($Y) . "'" . ($cb ? " checked" : "") . ($Le ? ' onclick="' . h($Le) . '"' : '') . ">";
		return ($Ld != "" || $hb ? "<label" . ($hb ? " class='$hb'" : "") . ">$J" . h($Ld) . "</label>" : $J);
	}

	function optionlist($Re, $pg = null, $Lh = false) {
		$J = "";
		foreach ($Re as $Ed => $W) {
			$Se = [$Ed => $W];
			if (is_array($W)) {
				$J .= '<optgroup label="' . h($Ed) . '">';
				$Se = $W;
			}
			foreach ($Se as $x => $X) {
				$J .= '<option' . ($Lh || is_string($x) ? ' value="' . h($x) . '"' : '') . (($Lh || is_string($x) ? (string)$x : $X) === $pg ? ' selected' : '') . '>' . h($X);
			}
			if (is_array($W)) {
				$J .= '</optgroup>';
			}
		}
		return $J;
	}

	function html_select($C, $Re, $Y = "", $Ke = true) {
		if ($Ke) {
			return "<select name='" . h($C) . "'" . (is_string($Ke) ? ' onchange="' . h($Ke) . '"' : "") . ">" . optionlist($Re, $Y) . "</select>";
		}
		$J = "";
		foreach ($Re as $x => $X) {
			$J .= "<label><input type='radio' name='" . h($C) . "' value='" . h($x) . "'" . ($x == $Y ? " checked" : "") . ">" . h($X) . "</label>";
		}
		return $J;
	}

	function select_input($Ia, $Re, $Y = "", $rf = "") {
		return ($Re ? "<select$Ia><option value=''>$rf" . optionlist($Re, $Y, true) . "</select>" : "<input$Ia size='10' value='" . h($Y) . "' placeholder='$rf'>");
	}

	function confirm() {
		return " onclick=\"return confirm('" . 'Opravdu?' . "');\"";
	}

	function print_fieldset($hd, $Sd, $Wh = false, $Le = "") {
		echo "<fieldset><legend><a href='#fieldset-$hd' onclick=\"" . h($Le) . "return !toggle('fieldset-$hd');\">$Sd</a></legend><div id='fieldset-$hd'" . ($Wh ? "" : " class='hidden'") . ">\n";
	}

	function bold($Ua, $hb = "") {
		return ($Ua ? " class='active $hb'" : ($hb ? " class='$hb'" : ""));
	}

	function odd($J = ' class="odd"') {
		static $s = 0;
		if (!$J) {
			$s = -1;
		}
		return ($s++ % 2 ? $J : '');
	}

	function js_escape($P) {
		return addcslashes($P, "\r\n'\\/");
	}

	function json_row($x, $X = null) {
		static $Ic = true;
		if ($Ic) {
			echo "{";
		}
		if ($x != "") {
			echo ($Ic ? "" : ",") . "\n\t\"" . addcslashes($x, "\r\n\"\\/") . '": ' . ($X !== null ? '"' . addcslashes($X, "\r\n\"\\/") . '"' : 'undefined');
			$Ic = false;
		} else {
			echo "\n}\n";
			$Ic = true;
		}
	}

	function ini_bool($rd) {
		$X = ini_get($rd);
		return (preg_match('~^(on|true|yes)$~i', $X) || (int)$X);
	}

	function sid() {
		static $J;
		if ($J === null) {
			$J = (SID && !($_COOKIE && ini_bool("session.use_cookies")));
		}
		return $J;
	}

	function set_password($Sh, $N, $V, $G) {
		$_SESSION["pwds"][$Sh][$N][$V] = ($_COOKIE["adminer_key"] && is_string($G) ? [encrypt_string($G, $_COOKIE["adminer_key"])] : $G);
	}

	function get_password() {
		$J = get_session("pwds");
		if (is_array($J)) {
			$J = ($_COOKIE["adminer_key"] ? decrypt_string($J[0], $_COOKIE["adminer_key"]) : false);
		}
		return $J;
	}

	function q($P) {
		global $g;
		return $g->quote($P);
	}

	function get_vals($H, $e = 0) {
		global $g;
		$J = [];
		$I = $g->query($H);
		if (is_object($I)) {
			while ($K = $I->fetch_row()) {
				$J[] = $K[$e];
			}
		}
		return $J;
	}

	function get_key_vals($H, $h = null, $gh = 0) {
		global $g;
		if (!is_object($h)) {
			$h = $g;
		}
		$J = [];
		$h->timeout = $gh;
		$I = $h->query($H);
		$h->timeout = 0;
		if (is_object($I)) {
			while ($K = $I->fetch_row()) {
				$J[$K[0]] = $K[1];
			}
		}
		return $J;
	}

	function get_rows($H, $h = null, $n = "<p class='error'>") {
		global $g;
		$tb = (is_object($h) ? $h : $g);
		$J = [];
		$I = $tb->query($H);
		if (is_object($I)) {
			while ($K = $I->fetch_assoc()) {
				$J[] = $K;
			}
		} elseif (!$I && !is_object($h) && $n && defined("PAGE_HEADER")) {
			echo $n . error() . "\n";
		}
		return $J;
	}

	function unique_array($K, $v) {
		foreach ($v as $u) {
			if (preg_match("~PRIMARY|UNIQUE~", $u["type"])) {
				$J = [];
				foreach ($u["columns"] as $x) {
					if (!isset($K[$x])) {
						continue
						2;
					}
					$J[$x] = $K[$x];
				}
				return $J;
			}
		}
	}

	function escape_key($x) {
		if (preg_match('(^([\w(]+)(' . str_replace("_", ".*", preg_quote(idf_escape("_"))) . ')([ \w)]+)$)', $x, $B)) {
			return $B[1] . idf_escape(idf_unescape($B[2])) . $B[3];
		}
		return idf_escape($x);
	}

	function where($Z, $p = []) {
		global $g, $w;
		$J = [];
		foreach ((array)$Z["where"] as $x => $X) {
			$x = bracket_escape($x, 1);
			$e = escape_key($x);
			$J[] = $e . (($w == "sql" && preg_match('~^[0-9]*\\.[0-9]*$~', $X)) || $w == "mssql" ? " LIKE " . q(addcslashes($X, "%_\\")) : " = " . unconvert_field($p[$x], q($X)));
			if ($w == "sql" && preg_match('~char|text~', $p[$x]["type"]) && preg_match("~[^ -@]~", $X)) {
				$J[] = "$e = " . q($X) . " COLLATE " . charset($g) . "_bin";
			}
		}
		foreach ((array)$Z["null"] as $x) {
			$J[] = escape_key($x) . " IS NULL";
		}
		return implode(" AND ", $J);
	}

	function where_check($X, $p = []) {
		parse_str($X, $ab);
		remove_slashes([&$ab]);
		return where($ab, $p);
	}

	function where_link($s, $e, $Y, $Ne = "=") {
		return "&where%5B$s%5D%5Bcol%5D=" . urlencode($e) . "&where%5B$s%5D%5Bop%5D=" . urlencode(($Y !== null ? $Ne : "IS NULL")) . "&where%5B$s%5D%5Bval%5D=" . urlencode($Y);
	}

	function convert_fields($f, $p, $M = []) {
		$J = "";
		foreach ($f as $x => $X) {
			if ($M && !in_array(idf_escape($x), $M)) {
				continue;
			}
			$Fa = convert_field($p[$x]);
			if ($Fa) {
				$J .= ", $Fa AS " . idf_escape($x);
			}
		}
		return $J;
	}

	function cookie($C, $Y, $Ud = 2592000) {
		global $ba;
		$F = [
			$C,
			(preg_match("~\n~", $Y) ? "" : $Y),
			($Ud ? time() + $Ud : 0),
			preg_replace('~\\?.*~', '', $_SERVER["REQUEST_URI"]),
			"",
			$ba,
		];
		if (version_compare(PHP_VERSION, '5.2.0') >= 0) {
			$F[] = true;
		}
		return call_user_func_array('setcookie', $F);
	}

	function restart_session() {
		if (!ini_bool("session.use_cookies")) {
			session_start();
		}
	}

	function stop_session() {
		if (!ini_bool("session.use_cookies")) {
			session_write_close();
		}
	}

	function&get_session($x) {
		return $_SESSION[$x][DRIVER][SERVER][$_GET["username"]];
	}

	function set_session($x, $X) {
		$_SESSION[$x][DRIVER][SERVER][$_GET["username"]] = $X;
	}

	function auth_url($Sh, $N, $V, $m = null) {
		global $Vb;
		preg_match('~([^?]*)\\??(.*)~', remove_from_uri(implode("|", array_keys($Vb)) . "|username|" . ($m !== null ? "db|" : "") . session_name()), $B);
		return "$B[1]?" . (sid() ? SID . "&" : "") . ($Sh != "server" || $N != "" ? urlencode($Sh) . "=" . urlencode($N) . "&" : "") . "username=" . urlencode($V) . ($m != "" ? "&db=" . urlencode($m) : "") . ($B[2] ? "&$B[2]" : "");
	}

	function is_ajax() {
		return ($_SERVER["HTTP_X_REQUESTED_WITH"] == "XMLHttpRequest");
	}

	function redirect($A, $ie = null) {
		if ($ie !== null) {
			restart_session();
			$_SESSION["messages"][preg_replace('~^[^?]*~', '', ($A !== null ? $A : $_SERVER["REQUEST_URI"]))][] = $ie;
		}
		if ($A !== null) {
			if ($A == "") {
				$A = ".";
			}
			header("Location: $A");
			exit;
		}
	}

	function query_redirect($H, $A, $ie, $Of = true, $uc = true, $Bc = false, $fh = "") {
		global $g, $n, $b;
		if ($uc) {
			$Eg = microtime(true);
			$Bc = !$g->query($H);
			$fh = format_time($Eg);
		}
		$Cg = "";
		if ($H) {
			$Cg = $b->messageQuery($H, $fh);
		}
		if ($Bc) {
			$n = error() . $Cg;
			return false;
		}
		if ($Of) {
			redirect($A, $ie . $Cg);
		}
		return true;
	}

	function queries($H) {
		global $g;
		static $If = [];
		static $Eg;
		if (!$Eg) {
			$Eg = microtime(true);
		}
		if ($H === null) {
			return [
				implode("\n", $If),
				format_time($Eg),
			];
		}
		$If[] = (preg_match('~;$~', $H) ? "DELIMITER ;;\n$H;\nDELIMITER " : $H) . ";";
		return $g->query($H);
	}

	function apply_queries($H, $S, $qc = 'table') {
		foreach ($S as $Q) {
			if (!queries("$H " . $qc($Q))) {
				return false;
			}
		}
		return true;
	}

	function queries_redirect($A, $ie, $Of) {
		list($If, $fh) = queries(null);
		return query_redirect($If, $A, $ie, $Of, false, !$Of, $fh);
	}

	function format_time($Eg) {
		return sprintf('%.3f s', max(0, microtime(true) - $Eg));
	}

	function remove_from_uri($ff = "") {
		return substr(preg_replace("~(?<=[?&])($ff" . (SID ? "" : "|" . session_name()) . ")=[^&]*&~", '', "$_SERVER[REQUEST_URI]&"), 0, -1);
	}

	function pagination($E, $Cb) {
		return " " . ($E == $Cb ? $E + 1 : '<a href="' . h(remove_from_uri("page") . ($E ? "&page=$E" . ($_GET["next"] ? "&next=" . urlencode($_GET["next"]) : "") : "")) . '">' . ($E + 1) . "</a>");
	}

	function get_file($x, $Ib = false) {
		$Fc = $_FILES[$x];
		if (!$Fc) {
			return null;
		}
		foreach ($Fc as $x => $X) {
			$Fc[$x] = (array)$X;
		}
		$J = '';
		foreach ($Fc["error"] as $x => $n) {
			if ($n) {
				return $n;
			}
			$C = $Fc["name"][$x];
			$nh = $Fc["tmp_name"][$x];
			$vb = file_get_contents($Ib && preg_match('~\\.gz$~', $C) ? "compress.zlib://$nh" : $nh);
			if ($Ib) {
				$Eg = substr($vb, 0, 3);
				if (function_exists("iconv") && preg_match("~^\xFE\xFF|^\xFF\xFE~", $Eg, $Uf)) {
					$vb = iconv("utf-16", "utf-8", $vb);
				} elseif ($Eg == "\xEF\xBB\xBF") {
					$vb = substr($vb, 3);
				}
				$J .= $vb . "\n\n";
			} else {
				$J .= $vb;
			}
		}
		return $J;
	}

	function upload_error($n) {
		$fe = ($n == UPLOAD_ERR_INI_SIZE ? ini_get("upload_max_filesize") : 0);
		return ($n ? 'Nepodařilo se nahrát soubor.' . ($fe ? " " . sprintf('Maximální povolená velikost souboru je %sB.', $fe) : "") : 'Soubor neexistuje.');
	}

	function repeat_pattern($pf, $y) {
		return str_repeat("$pf{0,65535}", $y / 65535) . "$pf{0," . ($y % 65535) . "}";
	}

	function is_utf8($X) {
		return (preg_match('~~u', $X) && !preg_match('~[\\0-\\x8\\xB\\xC\\xE-\\x1F]~', $X));
	}

	function shorten_utf8($P, $y = 80, $Lg = "") {
		if (!preg_match("(^(" . repeat_pattern("[\t\r\n -\x{FFFF}]", $y) . ")($)?)u", $P, $B)) {
			preg_match("(^(" . repeat_pattern("[\t\r\n -~]", $y) . ")($)?)", $P, $B);
		}
		return h($B[1]) . $Lg . (isset($B[2]) ? "" : "<i>...</i>");
	}

	function format_number($X) {
		return strtr(number_format($X, 0, ".", ' '), preg_split('~~u', '0123456789', -1, PREG_SPLIT_NO_EMPTY));
	}

	function friendly_url($X) {
		return preg_replace('~[^a-z0-9_]~i', '-', $X);
	}

	function hidden_fields($Ef, $kd = []) {
		while (list($x, $X) = each($Ef)) {
			if (!in_array($x, $kd)) {
				if (is_array($X)) {
					foreach ($X as $Ed => $W) {
						$Ef[$x . "[$Ed]"] = $W;
					}
				} else {
					echo '<input type="hidden" name="' . h($x) . '" value="' . h($X) . '">';
				}
			}
		}
	}

	function hidden_fields_get() {
		echo(sid() ? '<input type="hidden" name="' . session_name() . '" value="' . h(session_id()) . '">' : ''), (SERVER !== null ? '<input type="hidden" name="' . DRIVER . '" value="' . h(SERVER) . '">' : ""), '<input type="hidden" name="username" value="' . h($_GET["username"]) . '">';
	}

	function table_status1($Q, $Cc = false) {
		$J = table_status($Q, $Cc);
		return ($J ? $J : ["Name" => $Q]);
	}

	function column_foreign_keys($Q) {
		global $b;
		$J = [];
		foreach ($b->foreignKeys($Q) as $q) {
			foreach ($q["source"] as $X) {
				$J[$X][] = $q;
			}
		}
		return $J;
	}

	function enum_input($U, $Ia, $o, $Y, $kc = null) {
		global $b;
		preg_match_all("~'((?:[^']|'')*)'~", $o["length"], $ae);
		$J = ($kc !== null ? "<label><input type='$U'$Ia value='$kc'" . ((is_array($Y) ? in_array($kc, $Y) : $Y === 0) ? " checked" : "") . "><i>" . 'prázdné' . "</i></label>" : "");
		foreach ($ae[1] as $s => $X) {
			$X = stripcslashes(str_replace("''", "'", $X));
			$cb = (is_int($Y) ? $Y == $s + 1 : (is_array($Y) ? in_array($s + 1, $Y) : $Y === $X));
			$J .= " <label><input type='$U'$Ia value='" . ($s + 1) . "'" . ($cb ? ' checked' : '') . '>' . h($b->editVal($X, $o)) . '</label>';
		}
		return $J;
	}

	function input($o, $Y, $r) {
		global $g, $zh, $b, $w;
		$C = h(bracket_escape($o["field"]));
		echo "<td class='function'>";
		if (is_array($Y) && !$r) {
			$Da = [$Y];
			if (version_compare(PHP_VERSION, 5.4) >= 0) {
				$Da[] = JSON_PRETTY_PRINT;
			}
			$Y = call_user_func_array('json_encode', $Da);
			$r = "json";
		}
		$Xf = ($w == "mssql" && $o["auto_increment"]);
		if ($Xf && !$_POST["save"]) {
			$r = null;
		}
		$Sc = (isset($_GET["select"]) || $Xf ? ["orig" => 'původní'] : []) + $b->editFunctions($o);
		$Ia = " name='fields[$C]'";
		if ($o["type"] == "enum") {
			echo nbsp($Sc[""]) . "<td>" . $b->editInput($_GET["edit"], $o, $Ia, $Y);
		} else {
			$Ic = 0;
			foreach ($Sc as $x => $X) {
				if ($x === "" || !$X) {
					break;
				}
				$Ic++;
			}
			$Ke = ($Ic ? " onchange=\"var f = this.form['function[" . h(js_escape(bracket_escape($o["field"]))) . "]']; if ($Ic > f.selectedIndex) f.selectedIndex = $Ic;\" onkeyup='keyupChange.call(this);'" : "");
			$Ia .= $Ke;
			$ad = (in_array($r, $Sc) || isset($Sc[$r]));
			echo (count($Sc) > 1 ? "<select name='function[$C]' onchange='functionChange(this);'" . on_help("getTarget(event).value.replace(/^SQL\$/, '')", 1) . ">" . optionlist($Sc, $r === null || $ad ? $r : "") . "</select>" : nbsp(reset($Sc))) . '<td>';
			$td = $b->editInput($_GET["edit"], $o, $Ia, $Y);
			if ($td != "") {
				echo $td;
			} elseif ($o["type"] == "set") {
				preg_match_all("~'((?:[^']|'')*)'~", $o["length"], $ae);
				foreach ($ae[1] as $s => $X) {
					$X = stripcslashes(str_replace("''", "'", $X));
					$cb = (is_int($Y) ? ($Y >> $s) & 1 : in_array($X, explode(",", $Y), true));
					echo " <label><input type='checkbox' name='fields[$C][$s]' value='" . (1 << $s) . "'" . ($cb ? ' checked' : '') . "$Ke>" . h($b->editVal($X, $o)) . '</label>';
				}
			} elseif (preg_match('~blob|bytea|raw|file~', $o["type"]) && ini_bool("file_uploads")) {
				echo "<input type='file' name='fields-$C'$Ke>";
			} elseif (($dh = preg_match('~text|lob~', $o["type"])) || preg_match("~\n~", $Y)) {
				if ($dh && $w != "sqlite") {
					$Ia .= " cols='50' rows='12'";
				} else {
					$L = min(12, substr_count($Y, "\n") + 1);
					$Ia .= " cols='30' rows='$L'" . ($L == 1 ? " style='height: 1.2em;'" : "");
				}
				echo "<textarea$Ia>" . h($Y) . '</textarea>';
			} elseif ($r == "json") {
				echo "<textarea$Ia cols='50' rows='12' class='jush-js'>" . h($Y) . '</textarea>';
			} else {
				$he = (!preg_match('~int~', $o["type"]) && preg_match('~^(\\d+)(,(\\d+))?$~', $o["length"], $B) ? ((preg_match("~binary~", $o["type"]) ? 2 : 1) * $B[1] + ($B[3] ? 1 : 0) + ($B[2] && !$o["unsigned"] ? 1 : 0)) : ($zh[$o["type"]] ? $zh[$o["type"]] + ($o["unsigned"] ? 0 : 1) : 0));
				if ($w == 'sql' && $g->server_info >= 5.6 && preg_match('~time~', $o["type"])) {
					$he += 7;
				}
				echo "<input" . ((!$ad || $r === "") && preg_match('~(?<!o)int~', $o["type"]) ? " type='number'" : "") . " value='" . h($Y) . "'" . ($he ? " maxlength='$he'" : "") . (preg_match('~char|binary~', $o["type"]) && $he > 20 ? " size='40'" : "") . "$Ia>";
			}
		}
	}

	function process_input($o) {
		global $b;
		$t = bracket_escape($o["field"]);
		$r = $_POST["function"][$t];
		$Y = $_POST["fields"][$t];
		if ($o["type"] == "enum") {
			if ($Y == -1) {
				return false;
			}
			if ($Y == "") {
				return "NULL";
			}
			return +$Y;
		}
		if ($o["auto_increment"] && $Y == "") {
			return null;
		}
		if ($r == "orig") {
			return ($o["on_update"] == "CURRENT_TIMESTAMP" ? idf_escape($o["field"]) : false);
		}
		if ($r == "NULL") {
			return "NULL";
		}
		if ($o["type"] == "set") {
			return array_sum((array)$Y);
		}
		if ($r == "json") {
			$r = "";
			$Y = json_decode($Y, true);
			if (!is_array($Y)) {
				return false;
			}
			return $Y;
		}
		if (preg_match('~blob|bytea|raw|file~', $o["type"]) && ini_bool("file_uploads")) {
			$Fc = get_file("fields-$t");
			if (!is_string($Fc)) {
				return false;
			}
			return q($Fc);
		}
		return $b->processInput($o, $Y, $r);
	}

	function fields_from_edit() {
		global $Ub;
		$J = [];
		foreach ((array)$_POST["field_keys"] as $x => $X) {
			if ($X != "") {
				$X = bracket_escape($X);
				$_POST["function"][$X] = $_POST["field_funs"][$x];
				$_POST["fields"][$X] = $_POST["field_vals"][$x];
			}
		}
		foreach ((array)$_POST["fields"] as $x => $X) {
			$C = bracket_escape($x, 1);
			$J[$C] = [
				"field" => $C,
				"privileges" => [
					"insert" => 1,
					"update" => 1,
				],
				"null" => 1,
				"auto_increment" => ($x == $Ub->primary),
			];
		}
		return $J;
	}

	function search_tables() {
		global $b, $g;
		$_GET["where"][0]["op"] = "LIKE %%";
		$_GET["where"][0]["val"] = $_POST["query"];
		$Oc = false;
		foreach (table_status('', true) as $Q => $R) {
			$C = $b->tableName($R);
			if (isset($R["Engine"]) && $C != "" && (!$_POST["tables"] || in_array($Q, $_POST["tables"]))) {
				$I = $g->query("SELECT" . limit("1 FROM " . table($Q), " WHERE " . implode(" AND ", $b->selectSearchProcess(fields($Q), [])), 1));
				if (!$I || $I->fetch_row()) {
					if (!$Oc) {
						echo "<ul>\n";
						$Oc = true;
					}
					echo "<li>" . ($I ? "<a href='" . h(ME . "select=" . urlencode($Q) . "&where[0][op]=" . urlencode($_GET["where"][0]["op"]) . "&where[0][val]=" . urlencode($_GET["where"][0]["val"])) . "'>$C</a>\n" : "$C: <span class='error'>" . error() . "</span>\n");
				}
			}
		}
		echo ($Oc ? "</ul>" : "<p class='message'>" . 'Žádné tabulky.') . "\n";
	}

	function dump_headers($id, $re = false) {
		global $b;
		$J = $b->dumpHeaders($id, $re);
		$df = $_POST["output"];
		if ($df != "text") {
			header("Content-Disposition: attachment; filename=" . $b->dumpFilename($id) . ".$J" . ($df != "file" && !preg_match('~[^0-9a-z]~', $df) ? ".$df" : ""));
		}
		session_write_close();
		ob_flush();
		flush();
		return $J;
	}

	function dump_csv($K) {
		foreach ($K as $x => $X) {
			if (preg_match("~[\"\n,;\t]~", $X) || $X === "") {
				$K[$x] = '"' . str_replace('"', '""', $X) . '"';
			}
		}
		echo implode(($_POST["format"] == "csv" ? "," : ($_POST["format"] == "tsv" ? "\t" : ";")), $K) . "\r\n";
	}

	function apply_sql_function($r, $e) {
		return ($r ? ($r == "unixepoch" ? "DATETIME($e, '$r')" : ($r == "count distinct" ? "COUNT(DISTINCT " : strtoupper("$r(")) . "$e)") : $e);
	}

	function get_temp_dir() {
		$J = ini_get("upload_tmp_dir");
		if (!$J) {
			if (function_exists('sys_get_temp_dir')) {
				$J = sys_get_temp_dir();
			} else {
				$Gc = @tempnam("", "");
				if (!$Gc) {
					return false;
				}
				$J = dirname($Gc);
				unlink($Gc);
			}
		}
		return $J;
	}

	function password_file($i) {
		$Gc = get_temp_dir() . "/adminer.key";
		$J = @file_get_contents($Gc);
		if ($J || !$i) {
			return $J;
		}
		$Qc = @fopen($Gc, "w");
		if ($Qc) {
			chmod($Gc, 0660);
			$J = rand_string();
			fwrite($Qc, $J);
			fclose($Qc);
		}
		return $J;
	}

	function rand_string() {
		return md5(uniqid(mt_rand(), true));
	}

	function select_value($X, $_, $o, $eh) {
		global $b, $ba;
		if (is_array($X)) {
			$J = "";
			foreach ($X as $Ed => $W) {
				$J .= "<tr>" . ($X != array_values($X) ? "<th>" . h($Ed) : "") . "<td>" . select_value($W, $_, $o, $eh);
			}
			return "<table cellspacing='0'>$J</table>";
		}
		if (!$_) {
			$_ = $b->selectLink($X, $o);
		}
		if ($_ === null) {
			if (is_mail($X)) {
				$_ = "mailto:$X";
			}
			if ($Gf = is_url($X)) {
				$_ = (($Gf == "http" && $ba) || preg_match('~WebKit~i', $_SERVER["HTTP_USER_AGENT"]) ? $X : "https://www.adminer.org/redirect/?url=" . urlencode($X));
			}
		}
		$J = $b->editVal($X, $o);
		if ($J !== null) {
			if ($J === "") {
				$J = "&nbsp;";
			} elseif (!is_utf8($J)) {
				$J = "\0";
			} elseif ($eh != "" && is_shortable($o)) {
				$J = shorten_utf8($J, max(0, +$eh));
			} else {
				$J = h($J);
			}
		}
		return $b->selectVal($J, $_, $o, $X);
	}

	function is_mail($hc) {
		$Ga = '[-a-z0-9!#$%&\'*+/=?^_`{|}~]';
		$Tb = '[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])';
		$pf = "$Ga+(\\.$Ga+)*@($Tb?\\.)+$Tb";
		return is_string($hc) && preg_match("(^$pf(,\\s*$pf)*\$)i", $hc);
	}

	function is_url($P) {
		$Tb = '[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])';
		return (preg_match("~^(https?)://($Tb?\\.)+$Tb(:\\d+)?(/.*)?(\\?.*)?(#.*)?\$~i", $P, $B) ? strtolower($B[1]) : "");
	}

	function is_shortable($o) {
		return preg_match('~char|text|lob|geometry|point|linestring|polygon|string~', $o["type"]);
	}

	function count_rows($Q, $Z, $zd, $Vc) {
		global $w;
		$H = " FROM " . table($Q) . ($Z ? " WHERE " . implode(" AND ", $Z) : "");
		return ($zd && ($w == "sql" || count($Vc) == 1) ? "SELECT COUNT(DISTINCT " . implode(", ", $Vc) . ")$H" : "SELECT COUNT(*)" . ($zd ? " FROM (SELECT 1$H$Wc) x" : $H));
	}

	function slow_query($H) {
		global $b, $T;
		$m = $b->database();
		$gh = $b->queryTimeout();
		if (support("kill") && is_object($h = connect()) && ($m == "" || $h->select_db($m))) {
			$Jd = $h->result("SELECT CONNECTION_ID()");
			echo '<script type="text/javascript">
var timeout = setTimeout(function () {
	ajax(\'', js_escape(ME), 'script=kill\', function () {
	}, \'token=', $T, '&kill=', $Jd, '\');
}, ', 1000 * $gh, ');
</script>
';
		} else {
			$h = null;
		}
		ob_flush();
		flush();
		$J = @get_key_vals($H, $h, $gh);
		if ($h) {
			echo "<script type='text/javascript'>clearTimeout(timeout);</script>\n";
			ob_flush();
			flush();
		}
		return array_keys($J);
	}

	function get_token() {
		$Lf = rand(1, 1e6);
		return ($Lf ^ $_SESSION["token"]) . ":$Lf";
	}

	function verify_token() {
		list($T, $Lf) = explode(":", $_POST["token"]);
		return ($Lf ^ $_SESSION["token"]) == $T;
	}

	function lzw_decompress($Qa) {
		$Pb = 256;
		$Ra = 8;
		$jb = [];
		$Zf = 0;
		$ag = 0;
		for ($s = 0; $s < strlen($Qa); $s++) {
			$Zf = ($Zf << 8) + ord($Qa[$s]);
			$ag += 8;
			if ($ag >= $Ra) {
				$ag -= $Ra;
				$jb[] = $Zf >> $ag;
				$Zf &= (1 << $ag) - 1;
				$Pb++;
				if ($Pb >> $Ra) {
					$Ra++;
				}
			}
		}
		$Ob = range("\0", "\xFF");
		$J = "";
		foreach ($jb as $s => $ib) {
			$gc = $Ob[$ib];
			if (!isset($gc)) {
				$gc = $ai . $ai[0];
			}
			$J .= $gc;
			if ($s) {
				$Ob[] = $ai . $gc[0];
			}
			$ai = $gc;
		}
		return $J;
	}

	function on_help($ob, $xg = 0) {
		return " onmouseover='helpMouseover(this, event, " . h($ob) . ", $xg);' onmouseout='helpMouseout(this, event);'";
	}

	function edit_form($a, $p, $K, $Gh) {
		global $b, $w, $T, $n;
		$Qg = $b->tableName(table_status1($a, true));
		page_header(($Gh ? 'Upravit' : 'Vložit'), $n, [
			"select" => [
				$a,
				$Qg,
			],
		], $Qg);
		if ($K === false) {
			echo "<p class='error'>" . 'Žádné řádky.' . "\n";
		}
		echo '<form action="" method="post" enctype="multipart/form-data" id="form">
';
		if (!$p) {
			echo "<p class='error'>" . 'Nemáte oprávnění editovat tuto tabulku.' . "\n";
		} else {
			echo "<table cellspacing='0' onkeydown='return editingKeydown(event);'>\n";
			foreach ($p as $C => $o) {
				echo "<tr><th>" . $b->fieldName($o);
				$Jb = $_GET["set"][bracket_escape($C)];
				if ($Jb === null) {
					$Jb = $o["default"];
					if ($o["type"] == "bit" && preg_match("~^b'([01]*)'\$~", $Jb, $Uf)) {
						$Jb = $Uf[1];
					}
				}
				$Y = ($K !== null ? ($K[$C] != "" && $w == "sql" && preg_match("~enum|set~", $o["type"]) ? (is_array($K[$C]) ? array_sum($K[$C]) : +$K[$C]) : $K[$C]) : (!$Gh && $o["auto_increment"] ? "" : (isset($_GET["select"]) ? false : $Jb)));
				if (!$_POST["save"] && is_string($Y)) {
					$Y = $b->editVal($Y, $o);
				}
				$r = ($_POST["save"] ? (string)$_POST["function"][$C] : ($Gh && $o["on_update"] == "CURRENT_TIMESTAMP" ? "now" : ($Y === false ? null : ($Y !== null ? '' : 'NULL'))));
				if (preg_match("~time~", $o["type"]) && $Y == "CURRENT_TIMESTAMP") {
					$Y = "";
					$r = "now";
				}
				input($o, $Y, $r);
				echo "\n";
			}
			if (!support("table")) {
				echo "<tr>" . "<th><input name='field_keys[]' onkeyup='keyupChange.call(this);' onchange='fieldChange(this);' value=''>" . "<td class='function'>" . html_select("field_funs[]", $b->editFunctions(["null" => isset($_GET["select"])])) . "<td><input name='field_vals[]'>" . "\n";
			}
			echo "</table>\n";
		}
		echo "<p>\n";
		if ($p) {
			echo "<input type='submit' value='" . 'Uložit' . "'>\n";
			if (!isset($_GET["select"])) {
				echo "<input type='submit' name='insert' value='" . ($Gh ? 'Uložit a pokračovat v editaci' . "' onclick='return !ajaxForm(this.form, \"" . 'Ukládá se' . '...", this)' : 'Uložit a vložit další') . "' title='Ctrl+Shift+Enter'>\n";
			}
		}
		echo($Gh ? "<input type='submit' name='delete' value='" . 'Smazat' . "'" . confirm() . ">\n" : ($_POST || !$p ? "" : "<script type='text/javascript'>focus(document.getElementById('form').getElementsByTagName('td')[1].firstChild);</script>\n"));
		if (isset($_GET["select"])) {
			hidden_fields([
				"check" => (array)$_POST["check"],
				"clone" => $_POST["clone"],
				"all" => $_POST["all"],
			]);
		}
		echo '<input type="hidden" name="referer" value="', h(isset($_POST["referer"]) ? $_POST["referer"] : $_SERVER["HTTP_REFERER"]), '">
<input type="hidden" name="save" value="1">
<input type="hidden" name="token" value="', $T, '">
</form>
';
	}

	global $b, $g, $Vb, $dc, $nc, $n, $Sc, $Xc, $ba, $sd, $w, $ca, $Md, $Je, $qf, $Ig, $bd, $T, $sh, $zh, $Fh, $ia;
	if (!$_SERVER["REQUEST_URI"]) {
		$_SERVER["REQUEST_URI"] = $_SERVER["ORIG_PATH_INFO"];
	}
	if (!strpos($_SERVER["REQUEST_URI"], '?') && $_SERVER["QUERY_STRING"] != "") {
		$_SERVER["REQUEST_URI"] .= "?$_SERVER[QUERY_STRING]";
	}
	$ba = $_SERVER["HTTPS"] && strcasecmp($_SERVER["HTTPS"], "off");
	@ini_set("session.use_trans_sid", false);
	session_cache_limiter("");
	if (!defined("SID")) {
		session_name("adminer_sid");
		$F = [
			0,
			preg_replace('~\\?.*~', '', $_SERVER["REQUEST_URI"]),
			"",
			$ba,
		];
		if (version_compare(PHP_VERSION, '5.2.0') >= 0) {
			$F[] = true;
		}
		call_user_func_array('session_set_cookie_params', $F);
		session_start();
	}
	remove_slashes([
		&$_GET,
		&$_POST,
		&$_COOKIE,
	], $Hc);
	if (get_magic_quotes_runtime()) {
		set_magic_quotes_runtime(false);
	}
	@set_time_limit(0);
	@ini_set("zend.ze1_compatibility_mode", false);
	@ini_set("precision", 20);
	function get_lang() {
		return 'cs';
	}

	function lang($rh, $Ae = null) {
		if (is_array($rh)) {
			$tf = ($Ae == 1 ? 0 : ($Ae && $Ae < 5 ? 1 : 2));
			$rh = $rh[$tf];
		}
		$rh = str_replace("%d", "%s", $rh);
		$Ae = format_number($Ae);
		return sprintf($rh, $Ae);
	}

	if (extension_loaded('pdo')) {
		class
		Min_PDO extends PDO {
			var $_result, $server_info, $affected_rows, $errno, $error;

			function __construct() {
				global $b;
				$tf = array_search("SQL", $b->operators);
				if ($tf !== false) {
					unset($b->operators[$tf]);
				}
			}

			function dsn($ac, $V, $G) {
				try {
					parent::__construct($ac, $V, $G);
				} catch (Exception$sc) {
					auth_error($sc->getMessage());
				}
				$this->setAttribute(13, ['Min_PDOStatement']);
				$this->server_info = $this->getAttribute(4);
			}

			function query($H, $_h = false) {
				$I = parent::query($H);
				$this->error = "";
				if (!$I) {
					list(, $this->errno, $this->error) = $this->errorInfo();
					return false;
				}
				$this->store_result($I);
				return $I;
			}

			function multi_query($H) {
				return $this->_result = $this->query($H);
			}

			function store_result($I = null) {
				if (!$I) {
					$I = $this->_result;
					if (!$I) {
						return false;
					}
				}
				if ($I->columnCount()) {
					$I->num_rows = $I->rowCount();
					return $I;
				}
				$this->affected_rows = $I->rowCount();
				return true;
			}

			function next_result() {
				if (!$this->_result) {
					return false;
				}
				$this->_result->_offset = 0;
				return @$this->_result->nextRowset();
			}

			function result($H, $o = 0) {
				$I = $this->query($H);
				if (!$I) {
					return false;
				}
				$K = $I->fetch();
				return $K[$o];
			}
		}

		class
		Min_PDOStatement extends PDOStatement {
			var $_offset = 0, $num_rows;

			function fetch_assoc() {
				return $this->fetch(2);
			}

			function fetch_row() {
				return $this->fetch(3);
			}

			function fetch_field() {
				$K = (object)$this->getColumnMeta($this->_offset++);
				$K->orgtable = $K->table;
				$K->orgname = $K->name;
				$K->charsetnr = (in_array("blob", (array)$K->flags) ? 63 : 0);
				return $K;
			}
		}
	}
	$Vb = [];

	class
	Min_SQL {
		var $_conn;

		function __construct($g) {
			$this->_conn = $g;
		}

		function select($Q, $M, $Z, $Vc, $Te = [], $z = 1, $E = 0, $Af = false) {
			global $b, $w;
			$zd = (count($Vc) < count($M));
			$H = $b->selectQueryBuild($M, $Z, $Vc, $Te, $z, $E);
			if (!$H) {
				$H = "SELECT" . limit(($_GET["page"] != "last" && +$z && $Vc && $zd && $w == "sql" ? "SQL_CALC_FOUND_ROWS " : "") . implode(", ", $M) . "\nFROM " . table($Q), ($Z ? "\nWHERE " . implode(" AND ", $Z) : "") . ($Vc && $zd ? "\nGROUP BY " . implode(", ", $Vc) : "") . ($Te ? "\nORDER BY " . implode(", ", $Te) : ""), ($z != "" ? +$z : null), ($E ? $z * $E : 0), "\n");
			}
			$Eg = microtime(true);
			$J = $this->_conn->query($H);
			if ($Af) {
				echo $b->selectQuery($H, format_time($Eg));
			}
			return $J;
		}

		function delete($Q, $Jf, $z = 0) {
			$H = "FROM " . table($Q);
			return queries("DELETE" . ($z ? limit1($H, $Jf) : " $H$Jf"));
		}

		function update($Q, $O, $Jf, $z = 0, $rg = "\n") {
			$Qh = [];
			foreach ($O as $x => $X) {
				$Qh[] = "$x = $X";
			}
			$H = table($Q) . " SET$rg" . implode(",$rg", $Qh);
			return queries("UPDATE" . ($z ? limit1($H, $Jf) : " $H$Jf"));
		}

		function insert($Q, $O) {
			return queries("INSERT INTO " . table($Q) . ($O ? " (" . implode(", ", array_keys($O)) . ")\nVALUES (" . implode(", ", $O) . ")" : " DEFAULT VALUES"));
		}

		function insertUpdate($Q, $L, $zf) {
			return false;
		}

		function begin() {
			return queries("BEGIN");
		}

		function commit() {
			return queries("COMMIT");
		}

		function rollback() {
			return queries("ROLLBACK");
		}
	}

	$Vb["sqlite"] = "SQLite 3";
	$Vb["sqlite2"] = "SQLite 2";
	if (isset($_GET["sqlite"]) || isset($_GET["sqlite2"])) {
		$wf = [
			(isset($_GET["sqlite"]) ? "SQLite3" : "SQLite"),
			"PDO_SQLite",
		];
		define("DRIVER", (isset($_GET["sqlite"]) ? "sqlite" : "sqlite2"));
		if (class_exists(isset($_GET["sqlite"]) ? "SQLite3" : "SQLiteDatabase")) {
			if (isset($_GET["sqlite"])) {
				class
				Min_SQLite {
					var $extension = "SQLite3", $server_info, $affected_rows, $errno, $error, $_link;

					function __construct($Gc) {
						$this->_link = new
						SQLite3($Gc);
						$Th = $this->_link->version();
						$this->server_info = $Th["versionString"];
					}

					function query($H) {
						$I = @$this->_link->query($H);
						$this->error = "";
						if (!$I) {
							$this->errno = $this->_link->lastErrorCode();
							$this->error = $this->_link->lastErrorMsg();
							return false;
						} elseif ($I->numColumns()) {
							return new
							Min_Result($I);
						}
						$this->affected_rows = $this->_link->changes();
						return true;
					}

					function quote($P) {
						return (is_utf8($P) ? "'" . $this->_link->escapeString($P) . "'" : "x'" . reset(unpack('H*', $P)) . "'");
					}

					function store_result() {
						return $this->_result;
					}

					function result($H, $o = 0) {
						$I = $this->query($H);
						if (!is_object($I)) {
							return false;
						}
						$K = $I->_result->fetchArray();
						return $K[$o];
					}
				}

				class
				Min_Result {
					var $_result, $_offset = 0, $num_rows;

					function __construct($I) {
						$this->_result = $I;
					}

					function fetch_assoc() {
						return $this->_result->fetchArray(SQLITE3_ASSOC);
					}

					function fetch_row() {
						return $this->_result->fetchArray(SQLITE3_NUM);
					}

					function fetch_field() {
						$e = $this->_offset++;
						$U = $this->_result->columnType($e);
						return (object)[
							"name" => $this->_result->columnName($e),
							"type" => $U,
							"charsetnr" => ($U == SQLITE3_BLOB ? 63 : 0),
						];
					}

					function __desctruct() {
						return $this->_result->finalize();
					}
				}
			} else {
				class
				Min_SQLite {
					var $extension = "SQLite", $server_info, $affected_rows, $error, $_link;

					function __construct($Gc) {
						$this->server_info = sqlite_libversion();
						$this->_link = new
						SQLiteDatabase($Gc);
					}

					function query($H, $_h = false) {
						$oe = ($_h ? "unbufferedQuery" : "query");
						$I = @$this->_link->$oe($H, SQLITE_BOTH, $n);
						$this->error = "";
						if (!$I) {
							$this->error = $n;
							return false;
						} elseif ($I === true) {
							$this->affected_rows = $this->changes();
							return true;
						}
						return new
						Min_Result($I);
					}

					function quote($P) {
						return "'" . sqlite_escape_string($P) . "'";
					}

					function store_result() {
						return $this->_result;
					}

					function result($H, $o = 0) {
						$I = $this->query($H);
						if (!is_object($I)) {
							return false;
						}
						$K = $I->_result->fetch();
						return $K[$o];
					}
				}

				class
				Min_Result {
					var $_result, $_offset = 0, $num_rows;

					function __construct($I) {
						$this->_result = $I;
						if (method_exists($I, 'numRows')) {
							$this->num_rows = $I->numRows();
						}
					}

					function fetch_assoc() {
						$K = $this->_result->fetch(SQLITE_ASSOC);
						if (!$K) {
							return false;
						}
						$J = [];
						foreach ($K as $x => $X) {
							$J[($x[0] == '"' ? idf_unescape($x) : $x)] = $X;
						}
						return $J;
					}

					function fetch_row() {
						return $this->_result->fetch(SQLITE_NUM);
					}

					function fetch_field() {
						$C = $this->_result->fieldName($this->_offset++);
						$pf = '(\\[.*]|"(?:[^"]|"")*"|(.+))';
						if (preg_match("~^($pf\\.)?$pf\$~", $C, $B)) {
							$Q = ($B[3] != "" ? $B[3] : idf_unescape($B[2]));
							$C = ($B[5] != "" ? $B[5] : idf_unescape($B[4]));
						}
						return (object)[
							"name" => $C,
							"orgname" => $C,
							"orgtable" => $Q,
						];
					}
				}
			}
		} elseif (extension_loaded("pdo_sqlite")) {
			class
			Min_SQLite extends Min_PDO {
				var $extension = "PDO_SQLite";

				function __construct($Gc) {
					$this->dsn(DRIVER . ":$Gc", "", "");
				}
			}
		}
		if (class_exists("Min_SQLite")) {
			class
			Min_DB extends Min_SQLite {
				function __construct() {
					parent::__construct(":memory:");
				}

				function select_db($Gc) {
					if (is_readable($Gc) && $this->query("ATTACH " . $this->quote(preg_match("~(^[/\\\\]|:)~", $Gc) ? $Gc : dirname($_SERVER["SCRIPT_FILENAME"]) . "/$Gc") . " AS a")) {
						parent::__construct($Gc);
						return true;
					}
					return false;
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function next_result() {
					return false;
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function insertUpdate($Q, $L, $zf) {
				$Qh = [];
				foreach ($L as $O) {
					$Qh[] = "(" . implode(", ", $O) . ")";
				}
				return queries("REPLACE INTO " . table($Q) . " (" . implode(", ", array_keys(reset($L))) . ") VALUES\n" . implode(",\n", $Qh));
			}
		}

		function idf_escape($t) {
			return '"' . str_replace('"', '""', $t) . '"';
		}

		function table($t) {
			return idf_escape($t);
		}

		function connect() {
			return new
			Min_DB;
		}

		function get_databases() {
			return [];
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return " $H$Z" . ($z !== null ? $rg . "LIMIT $z" . ($D ? " OFFSET $D" : "") : "");
		}

		function limit1($H, $Z) {
			global $g;
			return ($g->result("SELECT sqlite_compileoption_used('ENABLE_UPDATE_DELETE_LIMIT')") ? limit($H, $Z, 1) : " $H$Z");
		}

		function db_collation($m, $mb) {
			global $g;
			return $g->result("PRAGMA encoding");
		}

		function engines() {
			return [];
		}

		function logged_user() {
			return get_current_user();
		}

		function tables_list() {
			return get_key_vals("SELECT name, type FROM sqlite_master WHERE type IN ('table', 'view') ORDER BY (name = 'sqlite_sequence'), name", 1);
		}

		function count_tables($l) {
			return [];
		}

		function table_status($C = "") {
			global $g;
			$J = [];
			foreach (get_rows("SELECT name AS Name, type AS Engine FROM sqlite_master WHERE type IN ('table', 'view') " . ($C != "" ? "AND name = " . q($C) : "ORDER BY name")) as $K) {
				$K["Oid"] = 1;
				$K["Auto_increment"] = "";
				$K["Rows"] = $g->result("SELECT COUNT(*) FROM " . idf_escape($K["Name"]));
				$J[$K["Name"]] = $K;
			}
			foreach (get_rows("SELECT * FROM sqlite_sequence", null, "") as $K) {
				$J[$K["name"]]["Auto_increment"] = $K["seq"];
			}
			return ($C != "" ? $J[$C] : $J);
		}

		function is_view($R) {
			return $R["Engine"] == "view";
		}

		function fk_support($R) {
			global $g;
			return !$g->result("SELECT sqlite_compileoption_used('OMIT_FOREIGN_KEY')");
		}

		function fields($Q) {
			global $g;
			$J = [];
			$zf = "";
			foreach (get_rows("PRAGMA table_info(" . table($Q) . ")") as $K) {
				$C = $K["name"];
				$U = strtolower($K["type"]);
				$Jb = $K["dflt_value"];
				$J[$C] = [
					"field" => $C,
					"type" => (preg_match('~int~i', $U) ? "integer" : (preg_match('~char|clob|text~i', $U) ? "text" : (preg_match('~blob~i', $U) ? "blob" : (preg_match('~real|floa|doub~i', $U) ? "real" : "numeric")))),
					"full_type" => $U,
					"default" => (preg_match("~'(.*)'~", $Jb, $B) ? str_replace("''", "'", $B[1]) : ($Jb == "NULL" ? null : $Jb)),
					"null" => !$K["notnull"],
					"privileges" => [
						"select" => 1,
						"insert" => 1,
						"update" => 1,
					],
					"primary" => $K["pk"],
				];
				if ($K["pk"]) {
					if ($zf != "") {
						$J[$zf]["auto_increment"] = false;
					} elseif (preg_match('~^integer$~i', $U)) {
						$J[$C]["auto_increment"] = true;
					}
					$zf = $C;
				}
			}
			$Cg = $g->result("SELECT sql FROM sqlite_master WHERE type = 'table' AND name = " . q($Q));
			preg_match_all('~(("[^"]*+")+|[a-z0-9_]+)\s+text\s+COLLATE\s+(\'[^\']+\'|\S+)~i', $Cg, $ae, PREG_SET_ORDER);
			foreach ($ae as $B) {
				$C = str_replace('""', '"', preg_replace('~^"|"$~', '', $B[1]));
				if ($J[$C]) {
					$J[$C]["collation"] = trim($B[3], "'");
				}
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			global $g;
			if (!is_object($h)) {
				$h = $g;
			}
			$J = [];
			$Cg = $h->result("SELECT sql FROM sqlite_master WHERE type = 'table' AND name = " . q($Q));
			if (preg_match('~\bPRIMARY\s+KEY\s*\((([^)"]+|"[^"]*")++)~i', $Cg, $B)) {
				$J[""] = [
					"type" => "PRIMARY",
					"columns" => [],
					"lengths" => [],
					"descs" => [],
				];
				preg_match_all('~((("[^"]*+")+)|(\S+))(\s+(ASC|DESC))?(,\s*|$)~i', $B[1], $ae, PREG_SET_ORDER);
				foreach ($ae as $B) {
					$J[""]["columns"][] = idf_unescape($B[2]) . $B[4];
					$J[""]["descs"][] = (preg_match('~DESC~i', $B[5]) ? '1' : null);
				}
			}
			if (!$J) {
				foreach (fields($Q) as $C => $o) {
					if ($o["primary"]) {
						$J[""] = [
							"type" => "PRIMARY",
							"columns" => [$C],
							"lengths" => [],
							"descs" => [null],
						];
					}
				}
			}
			$Dg = get_key_vals("SELECT name, sql FROM sqlite_master WHERE type = 'index' AND tbl_name = " . q($Q), $h);
			foreach (get_rows("PRAGMA index_list(" . table($Q) . ")", $h) as $K) {
				$C = $K["name"];
				$u = ["type" => ($K["unique"] ? "UNIQUE" : "INDEX")];
				$u["lengths"] = [];
				$u["descs"] = [];
				foreach (get_rows("PRAGMA index_info(" . idf_escape($C) . ")", $h) as $hg) {
					$u["columns"][] = $hg["name"];
					$u["descs"][] = null;
				}
				if (preg_match('~^CREATE( UNIQUE)? INDEX ' . preg_quote(idf_escape($C) . ' ON ' . idf_escape($Q), '~') . ' \((.*)\)$~i', $Dg[$C], $Uf)) {
					preg_match_all('/("[^"]*+")+( DESC)?/', $Uf[2], $ae);
					foreach ($ae[2] as $x => $X) {
						if ($X) {
							$u["descs"][$x] = '1';
						}
					}
				}
				if (!$J[""] || $u["type"] != "UNIQUE" || $u["columns"] != $J[""]["columns"] || $u["descs"] != $J[""]["descs"] || !preg_match("~^sqlite_~", $C)) {
					$J[$C] = $u;
				}
			}
			return $J;
		}

		function foreign_keys($Q) {
			$J = [];
			foreach (get_rows("PRAGMA foreign_key_list(" . table($Q) . ")") as $K) {
				$q =& $J[$K["id"]];
				if (!$q) {
					$q = $K;
				}
				$q["source"][] = $K["from"];
				$q["target"][] = $K["to"];
			}
			return $J;
		}

		function view($C) {
			global $g;
			return ["select" => preg_replace('~^(?:[^`"[]+|`[^`]*`|"[^"]*")* AS\\s+~iU', '', $g->result("SELECT sql FROM sqlite_master WHERE name = " . q($C)))];
		}

		function collations() {
			return (isset($_GET["create"]) ? get_vals("PRAGMA collation_list", 1) : []);
		}

		function information_schema($m) {
			return false;
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function check_sqlite_name($C) {
			global $g;
			$Ac = "db|sdb|sqlite";
			if (!preg_match("~^[^\\0]*\\.($Ac)\$~", $C)) {
				$g->error = sprintf('Prosím použijte jednu z koncovek %s.', str_replace("|", ", ", $Ac));
				return false;
			}
			return true;
		}

		function create_database($m, $d) {
			global $g;
			if (file_exists($m)) {
				$g->error = 'Soubor existuje.';
				return false;
			}
			if (!check_sqlite_name($m)) {
				return false;
			}
			try {
				$_ = new
				Min_SQLite($m);
			} catch (Exception$sc) {
				$g->error = $sc->getMessage();
				return false;
			}
			$_->query('PRAGMA encoding = "UTF-8"');
			$_->query('CREATE TABLE adminer (i)');
			$_->query('DROP TABLE adminer');
			return true;
		}

		function drop_databases($l) {
			global $g;
			$g->__construct(":memory:");
			foreach ($l as $m) {
				if (!@unlink($m)) {
					$g->error = 'Soubor existuje.';
					return false;
				}
			}
			return true;
		}

		function rename_database($C, $d) {
			global $g;
			if (!check_sqlite_name($C)) {
				return false;
			}
			$g->__construct(":memory:");
			$g->error = 'Soubor existuje.';
			return @rename(DB, $C);
		}

		function auto_increment() {
			return " PRIMARY KEY" . (DRIVER == "sqlite" ? " AUTOINCREMENT" : "");
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			$Kh = ($Q == "" || $Kc);
			foreach ($p as $o) {
				if ($o[0] != "" || !$o[1] || $o[2]) {
					$Kh = true;
					break;
				}
			}
			$c = [];
			$bf = [];
			foreach ($p as $o) {
				if ($o[1]) {
					$c[] = ($Kh ? $o[1] : "ADD " . implode($o[1]));
					if ($o[0] != "") {
						$bf[$o[0]] = $o[1][0];
					}
				}
			}
			if (!$Kh) {
				foreach ($c as $X) {
					if (!queries("ALTER TABLE " . table($Q) . " $X")) {
						return false;
					}
				}
				if ($Q != $C && !queries("ALTER TABLE " . table($Q) . " RENAME TO " . table($C))) {
					return false;
				}
			} elseif (!recreate_table($Q, $C, $c, $bf, $Kc)) {
				return false;
			}
			if ($Ka) {
				queries("UPDATE sqlite_sequence SET seq = $Ka WHERE name = " . q($C));
			}
			return true;
		}

		function recreate_table($Q, $C, $p, $bf, $Kc, $v = []) {
			if ($Q != "") {
				if (!$p) {
					foreach (fields($Q) as $x => $o) {
						$p[] = process_field($o, $o);
						$bf[$x] = idf_escape($x);
					}
				}
				$_f = false;
				foreach ($p as $o) {
					if ($o[6]) {
						$_f = true;
					}
				}
				$Yb = [];
				foreach ($v as $x => $X) {
					if ($X[2] == "DROP") {
						$Yb[$X[1]] = true;
						unset($v[$x]);
					}
				}
				foreach (indexes($Q) as $Hd => $u) {
					$f = [];
					foreach ($u["columns"] as $x => $e) {
						if (!$bf[$e]) {
							continue
							2;
						}
						$f[] = $bf[$e] . ($u["descs"][$x] ? " DESC" : "");
					}
					if (!$Yb[$Hd]) {
						if ($u["type"] != "PRIMARY" || !$_f) {
							$v[] = [
								$u["type"],
								$Hd,
								$f,
							];
						}
					}
				}
				foreach ($v as $x => $X) {
					if ($X[0] == "PRIMARY") {
						unset($v[$x]);
						$Kc[] = "  PRIMARY KEY (" . implode(", ", $X[2]) . ")";
					}
				}
				foreach (foreign_keys($Q) as $Hd => $q) {
					foreach ($q["source"] as $x => $e) {
						if (!$bf[$e]) {
							continue
							2;
						}
						$q["source"][$x] = idf_unescape($bf[$e]);
					}
					if (!isset($Kc[" $Hd"])) {
						$Kc[] = " " . format_foreign_key($q);
					}
				}
				queries("BEGIN");
			}
			foreach ($p as $x => $o) {
				$p[$x] = "  " . implode($o);
			}
			$p = array_merge($p, array_filter($Kc));
			if (!queries("CREATE TABLE " . table($Q != "" ? "adminer_$C" : $C) . " (\n" . implode(",\n", $p) . "\n)")) {
				return false;
			}
			if ($Q != "") {
				if ($bf && !queries("INSERT INTO " . table("adminer_$C") . " (" . implode(", ", $bf) . ") SELECT " . implode(", ", array_map('idf_escape', array_keys($bf))) . " FROM " . table($Q))) {
					return false;
				}
				$wh = [];
				foreach (triggers($Q) as $uh => $hh) {
					$th = trigger($uh);
					$wh[] = "CREATE TRIGGER " . idf_escape($uh) . " " . implode(" ", $hh) . " ON " . table($C) . "\n$th[Statement]";
				}
				if (!queries("DROP TABLE " . table($Q))) {
					return false;
				}
				queries("ALTER TABLE " . table("adminer_$C") . " RENAME TO " . table($C));
				if (!alter_indexes($C, $v)) {
					return false;
				}
				foreach ($wh as $th) {
					if (!queries($th)) {
						return false;
					}
				}
				queries("COMMIT");
			}
			return true;
		}

		function index_sql($Q, $U, $C, $f) {
			return "CREATE $U " . ($U != "INDEX" ? "INDEX " : "") . idf_escape($C != "" ? $C : uniqid($Q . "_")) . " ON " . table($Q) . " $f";
		}

		function alter_indexes($Q, $c) {
			foreach ($c as $zf) {
				if ($zf[0] == "PRIMARY") {
					return recreate_table($Q, $Q, [], [], [], $c);
				}
			}
			foreach (array_reverse($c) as $X) {
				if (!queries($X[2] == "DROP" ? "DROP INDEX " . idf_escape($X[1]) : index_sql($Q, $X[0], $X[1], "(" . implode(", ", $X[2]) . ")"))) {
					return false;
				}
			}
			return true;
		}

		function truncate_tables($S) {
			return apply_queries("DELETE FROM", $S);
		}

		function drop_views($Vh) {
			return apply_queries("DROP VIEW", $Vh);
		}

		function drop_tables($S) {
			return apply_queries("DROP TABLE", $S);
		}

		function move_tables($S, $Vh, $Yg) {
			return false;
		}

		function trigger($C) {
			global $g;
			if ($C == "") {
				return ["Statement" => "BEGIN\n\t;\nEND"];
			}
			$t = '(?:[^`"\\s]+|`[^`]*`|"[^"]*")+';
			$vh = trigger_options();
			preg_match("~^CREATE\\s+TRIGGER\\s*$t\\s*(" . implode("|", $vh["Timing"]) . ")\\s+([a-z]+)(?:\\s+OF\\s+($t))?\\s+ON\\s*$t\\s*(?:FOR\\s+EACH\\s+ROW\\s)?(.*)~is", $g->result("SELECT sql FROM sqlite_master WHERE type = 'trigger' AND name = " . q($C)), $B);
			$Ce = $B[3];
			return [
				"Timing" => strtoupper($B[1]),
				"Event" => strtoupper($B[2]) . ($Ce ? " OF" : ""),
				"Of" => ($Ce[0] == '`' || $Ce[0] == '"' ? idf_unescape($Ce) : $Ce),
				"Trigger" => $C,
				"Statement" => $B[4],
			];
		}

		function triggers($Q) {
			$J = [];
			$vh = trigger_options();
			foreach (get_rows("SELECT * FROM sqlite_master WHERE type = 'trigger' AND tbl_name = " . q($Q)) as $K) {
				preg_match('~^CREATE\\s+TRIGGER\\s*(?:[^`"\\s]+|`[^`]*`|"[^"]*")+\\s*(' . implode("|", $vh["Timing"]) . ')\\s*(.*)\\s+ON\\b~iU', $K["sql"], $B);
				$J[$K["name"]] = [
					$B[1],
					$B[2],
				];
			}
			return $J;
		}

		function trigger_options() {
			return [
				"Timing" => [
					"BEFORE",
					"AFTER",
					"INSTEAD OF",
				],
				"Event" => [
					"INSERT",
					"UPDATE",
					"UPDATE OF",
					"DELETE",
				],
				"Type" => ["FOR EACH ROW"],
			];
		}

		function routine($C, $U) {
		}

		function routines() {
		}

		function routine_languages() {
		}

		function begin() {
			return queries("BEGIN");
		}

		function last_id() {
			global $g;
			return $g->result("SELECT LAST_INSERT_ROWID()");
		}

		function explain($g, $H) {
			return $g->query("EXPLAIN QUERY PLAN $H");
		}

		function found_rows($R, $Z) {
		}

		function types() {
			return [];
		}

		function schemas() {
			return [];
		}

		function get_schema() {
			return "";
		}

		function set_schema($lg) {
			return true;
		}

		function create_sql($Q, $Ka) {
			global $g;
			$J = $g->result("SELECT sql FROM sqlite_master WHERE type IN ('table', 'view') AND name = " . q($Q));
			foreach (indexes($Q) as $C => $u) {
				if ($C == '') {
					continue;
				}
				$J .= ";\n\n" . index_sql($Q, $u['type'], $C, "(" . implode(", ", array_map('idf_escape', $u['columns'])) . ")");
			}
			return $J;
		}

		function truncate_sql($Q) {
			return "DELETE FROM " . table($Q);
		}

		function use_sql($k) {
		}

		function trigger_sql($Q, $Jg) {
			return implode(get_vals("SELECT sql || ';;\n' FROM sqlite_master WHERE type = 'trigger' AND tbl_name = " . q($Q)));
		}

		function show_variables() {
			global $g;
			$J = [];
			foreach ([
				         "auto_vacuum",
				         "cache_size",
				         "count_changes",
				         "default_cache_size",
				         "empty_result_callbacks",
				         "encoding",
				         "foreign_keys",
				         "full_column_names",
				         "fullfsync",
				         "journal_mode",
				         "journal_size_limit",
				         "legacy_file_format",
				         "locking_mode",
				         "page_size",
				         "max_page_count",
				         "read_uncommitted",
				         "recursive_triggers",
				         "reverse_unordered_selects",
				         "secure_delete",
				         "short_column_names",
				         "synchronous",
				         "temp_store",
				         "temp_store_directory",
				         "schema_version",
				         "integrity_check",
				         "quick_check",
			         ] as $x) {
				$J[$x] = $g->result("PRAGMA $x");
			}
			return $J;
		}

		function show_status() {
			$J = [];
			foreach (get_vals("PRAGMA compile_options") as $Qe) {
				list($x, $X) = explode("=", $Qe, 2);
				$J[$x] = $X;
			}
			return $J;
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function support($Dc) {
			return preg_match('~^(columns|database|drop_col|dump|indexes|move_col|sql|status|table|trigger|variables|view|view_trigger)$~', $Dc);
		}

		$w = "sqlite";
		$zh = [
			"integer" => 0,
			"real" => 0,
			"numeric" => 0,
			"text" => 0,
			"blob" => 0,
		];
		$Ig = array_keys($zh);
		$Fh = [];
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"LIKE",
			"LIKE %%",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"NOT IN",
			"IS NOT NULL",
			"SQL",
		];
		$Sc = [
			"hex",
			"length",
			"lower",
			"round",
			"unixepoch",
			"upper",
		];
		$Xc = [
			"avg",
			"count",
			"count distinct",
			"group_concat",
			"max",
			"min",
			"sum",
		];
		$dc = [
			[],
			[
				"integer|real|numeric" => "+/-",
				"text" => "||",
			],
		];
	}
	$Vb["pgsql"] = "PostgreSQL";
	if (isset($_GET["pgsql"])) {
		$wf = [
			"PgSQL",
			"PDO_PgSQL",
		];
		define("DRIVER", "pgsql");
		if (extension_loaded("pgsql")) {
			class
			Min_DB {
				var $extension = "PgSQL", $_link, $_result, $_string, $_database = true, $server_info, $affected_rows, $error;

				function _error($oc, $n) {
					if (ini_bool("html_errors")) {
						$n = html_entity_decode(strip_tags($n));
					}
					$n = preg_replace('~^[^:]*: ~', '', $n);
					$this->error = $n;
				}

				function connect($N, $V, $G) {
					global $b;
					$m = $b->database();
					set_error_handler([
						$this,
						'_error',
					]);
					$this->_string = "host='" . str_replace(":", "' port='", addcslashes($N, "'\\")) . "' user='" . addcslashes($V, "'\\") . "' password='" . addcslashes($G, "'\\") . "'";
					$this->_link = @pg_connect("$this->_string dbname='" . ($m != "" ? addcslashes($m, "'\\") : "postgres") . "'", PGSQL_CONNECT_FORCE_NEW);
					if (!$this->_link && $m != "") {
						$this->_database = false;
						$this->_link = @pg_connect("$this->_string dbname='postgres'", PGSQL_CONNECT_FORCE_NEW);
					}
					restore_error_handler();
					if ($this->_link) {
						$Th = pg_version($this->_link);
						$this->server_info = $Th["server"];
						pg_set_client_encoding($this->_link, "UTF8");
					}
					return (bool)$this->_link;
				}

				function quote($P) {
					return "'" . pg_escape_string($this->_link, $P) . "'";
				}

				function select_db($k) {
					global $b;
					if ($k == $b->database()) {
						return $this->_database;
					}
					$J = @pg_connect("$this->_string dbname='" . addcslashes($k, "'\\") . "'", PGSQL_CONNECT_FORCE_NEW);
					if ($J) {
						$this->_link = $J;
					}
					return $J;
				}

				function close() {
					$this->_link = @pg_connect("$this->_string dbname='postgres'");
				}

				function query($H, $_h = false) {
					$I = @pg_query($this->_link, $H);
					$this->error = "";
					if (!$I) {
						$this->error = pg_last_error($this->_link);
						return false;
					} elseif (!pg_num_fields($I)) {
						$this->affected_rows = pg_affected_rows($I);
						return true;
					}
					return new
					Min_Result($I);
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return false;
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!$I || !$I->num_rows) {
						return false;
					}
					return pg_fetch_result($I->_result, 0, $o);
				}
			}

			class
			Min_Result {
				var $_result, $_offset = 0, $num_rows;

				function __construct($I) {
					$this->_result = $I;
					$this->num_rows = pg_num_rows($I);
				}

				function fetch_assoc() {
					return pg_fetch_assoc($this->_result);
				}

				function fetch_row() {
					return pg_fetch_row($this->_result);
				}

				function fetch_field() {
					$e = $this->_offset++;
					$J = new
					stdClass;
					if (function_exists('pg_field_table')) {
						$J->orgtable = pg_field_table($this->_result, $e);
					}
					$J->name = pg_field_name($this->_result, $e);
					$J->orgname = $J->name;
					$J->type = pg_field_type($this->_result, $e);
					$J->charsetnr = ($J->type == "bytea" ? 63 : 0);
					return $J;
				}

				function __destruct() {
					pg_free_result($this->_result);
				}
			}
		} elseif (extension_loaded("pdo_pgsql")) {
			class
			Min_DB extends Min_PDO {
				var $extension = "PDO_PgSQL";

				function connect($N, $V, $G) {
					global $b;
					$m = $b->database();
					$P = "pgsql:host='" . str_replace(":", "' port='", addcslashes($N, "'\\")) . "' options='-c client_encoding=utf8'";
					$this->dsn("$P dbname='" . ($m != "" ? addcslashes($m, "'\\") : "postgres") . "'", $V, $G);
					return true;
				}

				function select_db($k) {
					global $b;
					return ($b->database() == $k);
				}

				function close() {
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function insertUpdate($Q, $L, $zf) {
				global $g;
				foreach ($L as $O) {
					$Gh = [];
					$Z = [];
					foreach ($O as $x => $X) {
						$Gh[] = "$x = $X";
						if (isset($zf[idf_unescape($x)])) {
							$Z[] = "$x = $X";
						}
					}
					if (!(($Z && queries("UPDATE " . table($Q) . " SET " . implode(", ", $Gh) . " WHERE " . implode(" AND ", $Z)) && $g->affected_rows) || queries("INSERT INTO " . table($Q) . " (" . implode(", ", array_keys($O)) . ") VALUES (" . implode(", ", $O) . ")"))) {
						return false;
					}
				}
				return true;
			}
		}

		function idf_escape($t) {
			return '"' . str_replace('"', '""', $t) . '"';
		}

		function table($t) {
			return idf_escape($t);
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				if ($g->server_info >= 9) {
					$g->query("SET application_name = 'Adminer'");
				}
				return $g;
			}
			return $g->error;
		}

		function get_databases() {
			return get_vals("SELECT datname FROM pg_database ORDER BY datname");
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return " $H$Z" . ($z !== null ? $rg . "LIMIT $z" . ($D ? " OFFSET $D" : "") : "");
		}

		function limit1($H, $Z) {
			return " $H$Z";
		}

		function db_collation($m, $mb) {
			global $g;
			return $g->result("SHOW LC_COLLATE");
		}

		function engines() {
			return [];
		}

		function logged_user() {
			global $g;
			return $g->result("SELECT user");
		}

		function tables_list() {
			$H = "SELECT table_name, table_type FROM information_schema.tables WHERE table_schema = current_schema()";
			if (support('materializedview')) {
				$H .= "
UNION ALL
SELECT matviewname, 'MATERIALIZED VIEW'
FROM pg_matviews
WHERE schemaname = current_schema()";
			}
			$H .= "
ORDER BY 1";
			return get_key_vals($H);
		}

		function count_tables($l) {
			return [];
		}

		function table_status($C = "") {
			$J = [];
			foreach (get_rows("SELECT relname AS \"Name\", CASE relkind WHEN 'r' THEN 'table' WHEN 'mv' THEN 'materialized view' WHEN 'f' THEN 'foreign table' ELSE 'view' END AS \"Engine\", pg_relation_size(oid) AS \"Data_length\", pg_total_relation_size(oid) - pg_relation_size(oid) AS \"Index_length\", obj_description(oid, 'pg_class') AS \"Comment\", relhasoids::int AS \"Oid\", reltuples as \"Rows\"
FROM pg_class
WHERE relkind IN ('r','v','mv','f')
AND relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema())
" . ($C != "" ? "AND relname = " . q($C) : "ORDER BY relname")) as $K) {
				$J[$K["Name"]] = $K;
			}
			return ($C != "" ? $J[$C] : $J);
		}

		function is_view($R) {
			return in_array($R["Engine"], [
				"view",
				"materialized view",
			]);
		}

		function fk_support($R) {
			return true;
		}

		function fields($Q) {
			$J = [];
			$Ba = [
				'timestamp without time zone' => 'timestamp',
				'timestamp with time zone' => 'timestamptz',
			];
			foreach (get_rows("SELECT a.attname AS field, format_type(a.atttypid, a.atttypmod) AS full_type, d.adsrc AS default, a.attnotnull::int, col_description(c.oid, a.attnum) AS comment
FROM pg_class c
JOIN pg_namespace n ON c.relnamespace = n.oid
JOIN pg_attribute a ON c.oid = a.attrelid
LEFT JOIN pg_attrdef d ON c.oid = d.adrelid AND a.attnum = d.adnum
WHERE c.relname = " . q($Q) . "
AND n.nspname = current_schema()
AND NOT a.attisdropped
AND a.attnum > 0
ORDER BY a.attnum") as $K) {
				preg_match('~([^([]+)(\((.*)\))?([a-z ]+)?((\[[0-9]*])*)$~', $K["full_type"], $B);
				list(, $U, $y, $K["length"], $va, $Ea) = $B;
				$K["length"] .= $Ea;
				$bb = $U . $va;
				if (isset($Ba[$bb])) {
					$K["type"] = $Ba[$bb];
					$K["full_type"] = $K["type"] . $y . $Ea;
				} else {
					$K["type"] = $U;
					$K["full_type"] = $K["type"] . $y . $va . $Ea;
				}
				$K["null"] = !$K["attnotnull"];
				$K["auto_increment"] = preg_match('~^nextval\\(~i', $K["default"]);
				$K["privileges"] = [
					"insert" => 1,
					"select" => 1,
					"update" => 1,
				];
				if (preg_match('~(.+)::[^)]+(.*)~', $K["default"], $B)) {
					$K["default"] = ($B[1][0] == "'" ? idf_unescape($B[1]) : $B[1]) . $B[2];
				}
				$J[$K["field"]] = $K;
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			global $g;
			if (!is_object($h)) {
				$h = $g;
			}
			$J = [];
			$Rg = $h->result("SELECT oid FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema()) AND relname = " . q($Q));
			$f = get_key_vals("SELECT attnum, attname FROM pg_attribute WHERE attrelid = $Rg AND attnum > 0", $h);
			foreach (get_rows("SELECT relname, indisunique::int, indisprimary::int, indkey, indoption FROM pg_index i, pg_class ci WHERE i.indrelid = $Rg AND ci.oid = i.indexrelid", $h) as $K) {
				$Vf = $K["relname"];
				$J[$Vf]["type"] = ($K["indisprimary"] ? "PRIMARY" : ($K["indisunique"] ? "UNIQUE" : "INDEX"));
				$J[$Vf]["columns"] = [];
				foreach (explode(" ", $K["indkey"]) as $od) {
					$J[$Vf]["columns"][] = $f[$od];
				}
				$J[$Vf]["descs"] = [];
				foreach (explode(" ", $K["indoption"]) as $pd) {
					$J[$Vf]["descs"][] = ($pd & 1 ? '1' : null);
				}
				$J[$Vf]["lengths"] = [];
			}
			return $J;
		}

		function foreign_keys($Q) {
			global $Je;
			$J = [];
			foreach (get_rows("SELECT conname, pg_get_constraintdef(oid) AS definition
FROM pg_constraint
WHERE conrelid = (SELECT pc.oid FROM pg_class AS pc INNER JOIN pg_namespace AS pn ON (pn.oid = pc.relnamespace) WHERE pc.relname = " . q($Q) . " AND pn.nspname = current_schema())
AND contype = 'f'::char
ORDER BY conkey, conname") as $K) {
				if (preg_match('~FOREIGN KEY\s*\((.+)\)\s*REFERENCES (.+)\((.+)\)(.*)$~iA', $K['definition'], $B)) {
					$K['source'] = array_map('trim', explode(',', $B[1]));
					if (preg_match('~^(("([^"]|"")+"|[^"]+)\.)?"?("([^"]|"")+"|[^"]+)$~', $B[2], $Zd)) {
						$K['ns'] = str_replace('""', '"', preg_replace('~^"(.+)"$~', '\1', $Zd[2]));
						$K['table'] = str_replace('""', '"', preg_replace('~^"(.+)"$~', '\1', $Zd[4]));
					}
					$K['target'] = array_map('trim', explode(',', $B[3]));
					$K['on_delete'] = (preg_match("~ON DELETE ($Je)~", $B[4], $Zd) ? $Zd[1] : 'NO ACTION');
					$K['on_update'] = (preg_match("~ON UPDATE ($Je)~", $B[4], $Zd) ? $Zd[1] : 'NO ACTION');
					$J[$K['conname']] = $K;
				}
			}
			return $J;
		}

		function view($C) {
			global $g;
			return ["select" => $g->result("SELECT pg_get_viewdef(" . q($C) . ")")];
		}

		function collations() {
			return [];
		}

		function information_schema($m) {
			return ($m == "information_schema");
		}

		function error() {
			global $g;
			$J = h($g->error);
			if (preg_match('~^(.*\\n)?([^\\n]*)\\n( *)\\^(\\n.*)?$~s', $J, $B)) {
				$J = $B[1] . preg_replace('~((?:[^&]|&[^;]*;){' . strlen($B[3]) . '})(.*)~', '\\1<b>\\2</b>', $B[2]) . $B[4];
			}
			return nl_br($J);
		}

		function create_database($m, $d) {
			return queries("CREATE DATABASE " . idf_escape($m) . ($d ? " ENCODING " . idf_escape($d) : ""));
		}

		function drop_databases($l) {
			global $g;
			$g->close();
			return apply_queries("DROP DATABASE", $l, 'idf_escape');
		}

		function rename_database($C, $d) {
			return queries("ALTER DATABASE " . idf_escape(DB) . " RENAME TO " . idf_escape($C));
		}

		function auto_increment() {
			return "";
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			$c = [];
			$If = [];
			foreach ($p as $o) {
				$e = idf_escape($o[0]);
				$X = $o[1];
				if (!$X) {
					$c[] = "DROP $e";
				} else {
					$Ph = $X[5];
					unset($X[5]);
					if (isset($X[6]) && $o[0] == "") {
						$X[1] = ($X[1] == "bigint" ? " big" : " ") . "serial";
					}
					if ($o[0] == "") {
						$c[] = ($Q != "" ? "ADD " : "  ") . implode($X);
					} else {
						if ($e != $X[0]) {
							$If[] = "ALTER TABLE " . table($Q) . " RENAME $e TO $X[0]";
						}
						$c[] = "ALTER $e TYPE$X[1]";
						if (!$X[6]) {
							$c[] = "ALTER $e " . ($X[3] ? "SET$X[3]" : "DROP DEFAULT");
							$c[] = "ALTER $e " . ($X[2] == " NULL" ? "DROP NOT" : "SET") . $X[2];
						}
					}
					if ($o[0] != "" || $Ph != "") {
						$If[] = "COMMENT ON COLUMN " . table($Q) . ".$X[0] IS " . ($Ph != "" ? substr($Ph, 9) : "''");
					}
				}
			}
			$c = array_merge($c, $Kc);
			if ($Q == "") {
				array_unshift($If, "CREATE TABLE " . table($C) . " (\n" . implode(",\n", $c) . "\n)");
			} elseif ($c) {
				array_unshift($If, "ALTER TABLE " . table($Q) . "\n" . implode(",\n", $c));
			}
			if ($Q != "" && $Q != $C) {
				$If[] = "ALTER TABLE " . table($Q) . " RENAME TO " . table($C);
			}
			if ($Q != "" || $qb != "") {
				$If[] = "COMMENT ON TABLE " . table($C) . " IS " . q($qb);
			}
			if ($Ka != "") {
			}
			foreach ($If as $H) {
				if (!queries($H)) {
					return false;
				}
			}
			return true;
		}

		function alter_indexes($Q, $c) {
			$i = [];
			$Wb = [];
			$If = [];
			foreach ($c as $X) {
				if ($X[0] != "INDEX") {
					$i[] = ($X[2] == "DROP" ? "\nDROP CONSTRAINT " . idf_escape($X[1]) : "\nADD" . ($X[1] != "" ? " CONSTRAINT " . idf_escape($X[1]) : "") . " $X[0] " . ($X[0] == "PRIMARY" ? "KEY " : "") . "(" . implode(", ", $X[2]) . ")");
				} elseif ($X[2] == "DROP") {
					$Wb[] = idf_escape($X[1]);
				} else {
					$If[] = "CREATE INDEX " . idf_escape($X[1] != "" ? $X[1] : uniqid($Q . "_")) . " ON " . table($Q) . " (" . implode(", ", $X[2]) . ")";
				}
			}
			if ($i) {
				array_unshift($If, "ALTER TABLE " . table($Q) . implode(",", $i));
			}
			if ($Wb) {
				array_unshift($If, "DROP INDEX " . implode(", ", $Wb));
			}
			foreach ($If as $H) {
				if (!queries($H)) {
					return false;
				}
			}
			return true;
		}

		function truncate_tables($S) {
			return queries("TRUNCATE " . implode(", ", array_map('table', $S)));
			return true;
		}

		function drop_views($Vh) {
			return drop_tables($Vh);
		}

		function drop_tables($S) {
			foreach ($S as $Q) {
				$Fg = table_status($Q);
				if (!queries("DROP " . strtoupper($Fg["Engine"]) . " " . table($Q))) {
					return false;
				}
			}
			return true;
		}

		function move_tables($S, $Vh, $Yg) {
			foreach (array_merge($S, $Vh) as $Q) {
				$Fg = table_status($Q);
				if (!queries("ALTER " . strtoupper($Fg["Engine"]) . " " . table($Q) . " SET SCHEMA " . idf_escape($Yg))) {
					return false;
				}
			}
			return true;
		}

		function trigger($C) {
			if ($C == "") {
				return ["Statement" => "EXECUTE PROCEDURE ()"];
			}
			$L = get_rows('SELECT trigger_name AS "Trigger", condition_timing AS "Timing", event_manipulation AS "Event", \'FOR EACH \' || action_orientation AS "Type", action_statement AS "Statement" FROM information_schema.triggers WHERE event_object_table = ' . q($_GET["trigger"]) . ' AND trigger_name = ' . q($C));
			return reset($L);
		}

		function triggers($Q) {
			$J = [];
			foreach (get_rows("SELECT * FROM information_schema.triggers WHERE event_object_table = " . q($Q)) as $K) {
				$J[$K["trigger_name"]] = [
					$K["condition_timing"],
					$K["event_manipulation"],
				];
			}
			return $J;
		}

		function trigger_options() {
			return [
				"Timing" => [
					"BEFORE",
					"AFTER",
				],
				"Event" => [
					"INSERT",
					"UPDATE",
					"DELETE",
				],
				"Type" => [
					"FOR EACH ROW",
					"FOR EACH STATEMENT",
				],
			];
		}

		function routines() {
			return get_rows('SELECT p.proname AS "ROUTINE_NAME", p.proargtypes AS "ROUTINE_TYPE", pg_catalog.format_type(p.prorettype, NULL) AS "DTD_IDENTIFIER"
FROM pg_catalog.pg_namespace n
JOIN pg_catalog.pg_proc p ON p.pronamespace = n.oid
WHERE n.nspname = current_schema()
ORDER BY p.proname');
		}

		function routine_languages() {
			return get_vals("SELECT langname FROM pg_catalog.pg_language");
		}

		function last_id() {
			return 0;
		}

		function explain($g, $H) {
			return $g->query("EXPLAIN $H");
		}

		function found_rows($R, $Z) {
			global $g;
			if (preg_match("~ rows=([0-9]+)~", $g->result("EXPLAIN SELECT * FROM " . idf_escape($R["Name"]) . ($Z ? " WHERE " . implode(" AND ", $Z) : "")), $Uf)) {
				return $Uf[1];
			}
			return false;
		}

		function types() {
			return get_vals("SELECT typname
FROM pg_type
WHERE typnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema())
AND typtype IN ('b','d','e')
AND typelem = 0");
		}

		function schemas() {
			return get_vals("SELECT nspname FROM pg_namespace ORDER BY nspname");
		}

		function get_schema() {
			global $g;
			return $g->result("SELECT current_schema()");
		}

		function set_schema($kg) {
			global $g, $zh, $Ig;
			$J = $g->query("SET search_path TO " . idf_escape($kg));
			foreach (types() as $U) {
				if (!isset($zh[$U])) {
					$zh[$U] = 0;
					$Ig['Uživatelské typy'][] = $U;
				}
			}
			return $J;
		}

		function use_sql($k) {
			return "\connect " . idf_escape($k);
		}

		function show_variables() {
			return get_key_vals("SHOW ALL");
		}

		function process_list() {
			global $g;
			return get_rows("SELECT * FROM pg_stat_activity ORDER BY " . ($g->server_info < 9.2 ? "procpid" : "pid"));
		}

		function show_status() {
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function support($Dc) {
			global $g;
			return preg_match('~^(database|table|columns|sql|indexes|comment|view|' . ($g->server_info >= 9.3 ? 'materializedview|' : '') . 'scheme|processlist|sequence|trigger|type|variables|drop_col|kill)$~', $Dc);
		}

		function kill_process($X) {
			return queries("SELECT pg_terminate_backend(" . number($X) . ")");
		}

		function max_connections() {
			global $g;
			return $g->result("SHOW max_connections");
		}

		$w = "pgsql";
		$zh = [];
		$Ig = [];
		foreach ([
			         'Čísla' => [
				         "smallint" => 5,
				         "integer" => 10,
				         "bigint" => 19,
				         "boolean" => 1,
				         "numeric" => 0,
				         "real" => 7,
				         "double precision" => 16,
				         "money" => 20,
			         ],
			         'Datum a čas' => [
				         "date" => 13,
				         "time" => 17,
				         "timestamp" => 20,
				         "timestamptz" => 21,
				         "interval" => 0,
			         ],
			         'Řetězce' => [
				         "character" => 0,
				         "character varying" => 0,
				         "text" => 0,
				         "tsquery" => 0,
				         "tsvector" => 0,
				         "uuid" => 0,
				         "xml" => 0,
			         ],
			         'Binární' => [
				         "bit" => 0,
				         "bit varying" => 0,
				         "bytea" => 0,
			         ],
			         'Síť' => [
				         "cidr" => 43,
				         "inet" => 43,
				         "macaddr" => 17,
				         "txid_snapshot" => 0,
			         ],
			         'Geometrie' => [
				         "box" => 0,
				         "circle" => 0,
				         "line" => 0,
				         "lseg" => 0,
				         "path" => 0,
				         "point" => 0,
				         "polygon" => 0,
			         ],
		         ] as $x => $X) {
			$zh += $X;
			$Ig[$x] = array_keys($X);
		}
		$Fh = [];
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"~",
			"!~",
			"LIKE",
			"LIKE %%",
			"ILIKE",
			"ILIKE %%",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"NOT IN",
			"IS NOT NULL",
		];
		$Sc = [
			"char_length",
			"lower",
			"round",
			"to_hex",
			"to_timestamp",
			"upper",
		];
		$Xc = [
			"avg",
			"count",
			"count distinct",
			"max",
			"min",
			"sum",
		];
		$dc = [
			[
				"char" => "md5",
				"date|time" => "now",
			],
			[
				"int|numeric|real|money" => "+/-",
				"date|time" => "+ interval/- interval",
				"char|text" => "||",
			],
		];
	}
	$Vb["oracle"] = "Oracle";
	if (isset($_GET["oracle"])) {
		$wf = [
			"OCI8",
			"PDO_OCI",
		];
		define("DRIVER", "oracle");
		if (extension_loaded("oci8")) {
			class
			Min_DB {
				var $extension = "oci8", $_link, $_result, $server_info, $affected_rows, $errno, $error;

				function _error($oc, $n) {
					if (ini_bool("html_errors")) {
						$n = html_entity_decode(strip_tags($n));
					}
					$n = preg_replace('~^[^:]*: ~', '', $n);
					$this->error = $n;
				}

				function connect($N, $V, $G) {
					$this->_link = @oci_new_connect($V, $G, $N, "AL32UTF8");
					if ($this->_link) {
						$this->server_info = oci_server_version($this->_link);
						return true;
					}
					$n = oci_error();
					$this->error = $n["message"];
					return false;
				}

				function quote($P) {
					return "'" . str_replace("'", "''", $P) . "'";
				}

				function select_db($k) {
					return true;
				}

				function query($H, $_h = false) {
					$I = oci_parse($this->_link, $H);
					$this->error = "";
					if (!$I) {
						$n = oci_error($this->_link);
						$this->errno = $n["code"];
						$this->error = $n["message"];
						return false;
					}
					set_error_handler([
						$this,
						'_error',
					]);
					$J = @oci_execute($I);
					restore_error_handler();
					if ($J) {
						if (oci_num_fields($I)) {
							return new
							Min_Result($I);
						}
						$this->affected_rows = oci_num_rows($I);
					}
					return $J;
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return false;
				}

				function result($H, $o = 1) {
					$I = $this->query($H);
					if (!is_object($I) || !oci_fetch($I->_result)) {
						return false;
					}
					return oci_result($I->_result, $o);
				}
			}

			class
			Min_Result {
				var $_result, $_offset = 1, $num_rows;

				function __construct($I) {
					$this->_result = $I;
				}

				function _convert($K) {
					foreach ((array)$K as $x => $X) {
						if (is_a($X, 'OCI-Lob')) {
							$K[$x] = $X->load();
						}
					}
					return $K;
				}

				function fetch_assoc() {
					return $this->_convert(oci_fetch_assoc($this->_result));
				}

				function fetch_row() {
					return $this->_convert(oci_fetch_row($this->_result));
				}

				function fetch_field() {
					$e = $this->_offset++;
					$J = new
					stdClass;
					$J->name = oci_field_name($this->_result, $e);
					$J->orgname = $J->name;
					$J->type = oci_field_type($this->_result, $e);
					$J->charsetnr = (preg_match("~raw|blob|bfile~", $J->type) ? 63 : 0);
					return $J;
				}

				function __destruct() {
					oci_free_statement($this->_result);
				}
			}
		} elseif (extension_loaded("pdo_oci")) {
			class
			Min_DB extends Min_PDO {
				var $extension = "PDO_OCI";

				function connect($N, $V, $G) {
					$this->dsn("oci:dbname=//$N;charset=AL32UTF8", $V, $G);
					return true;
				}

				function select_db($k) {
					return true;
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function begin() {
				return true;
			}
		}

		function idf_escape($t) {
			return '"' . str_replace('"', '""', $t) . '"';
		}

		function table($t) {
			return idf_escape($t);
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				return $g;
			}
			return $g->error;
		}

		function get_databases() {
			return get_vals("SELECT tablespace_name FROM user_tablespaces");
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return ($D ? " * FROM (SELECT t.*, rownum AS rnum FROM (SELECT $H$Z) t WHERE rownum <= " . ($z + $D) . ") WHERE rnum > $D" : ($z !== null ? " * FROM (SELECT $H$Z) WHERE rownum <= " . ($z + $D) : " $H$Z"));
		}

		function limit1($H, $Z) {
			return " $H$Z";
		}

		function db_collation($m, $mb) {
			global $g;
			return $g->result("SELECT value FROM nls_database_parameters WHERE parameter = 'NLS_CHARACTERSET'");
		}

		function engines() {
			return [];
		}

		function logged_user() {
			global $g;
			return $g->result("SELECT USER FROM DUAL");
		}

		function tables_list() {
			return get_key_vals("SELECT table_name, 'table' FROM all_tables WHERE tablespace_name = " . q(DB) . "
UNION SELECT view_name, 'view' FROM user_views
ORDER BY 1");
		}

		function count_tables($l) {
			return [];
		}

		function table_status($C = "") {
			$J = [];
			$mg = q($C);
			foreach (get_rows('SELECT table_name "Name", \'table\' "Engine", avg_row_len * num_rows "Data_length", num_rows "Rows" FROM all_tables WHERE tablespace_name = ' . q(DB) . ($C != "" ? " AND table_name = $mg" : "") . "
UNION SELECT view_name, 'view', 0, 0 FROM user_views" . ($C != "" ? " WHERE view_name = $mg" : "") . "
ORDER BY 1") as $K) {
				if ($C != "") {
					return $K;
				}
				$J[$K["Name"]] = $K;
			}
			return $J;
		}

		function is_view($R) {
			return $R["Engine"] == "view";
		}

		function fk_support($R) {
			return true;
		}

		function fields($Q) {
			$J = [];
			foreach (get_rows("SELECT * FROM all_tab_columns WHERE table_name = " . q($Q) . " ORDER BY column_id") as $K) {
				$U = $K["DATA_TYPE"];
				$y = "$K[DATA_PRECISION],$K[DATA_SCALE]";
				if ($y == ",") {
					$y = $K["DATA_LENGTH"];
				}
				$J[$K["COLUMN_NAME"]] = [
					"field" => $K["COLUMN_NAME"],
					"full_type" => $U . ($y ? "($y)" : ""),
					"type" => strtolower($U),
					"length" => $y,
					"default" => $K["DATA_DEFAULT"],
					"null" => ($K["NULLABLE"] == "Y"),
					"privileges" => [
						"insert" => 1,
						"select" => 1,
						"update" => 1,
					],
				];
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			$J = [];
			foreach (get_rows("SELECT uic.*, uc.constraint_type
FROM user_ind_columns uic
LEFT JOIN user_constraints uc ON uic.index_name = uc.constraint_name AND uic.table_name = uc.table_name
WHERE uic.table_name = " . q($Q) . "
ORDER BY uc.constraint_type, uic.column_position", $h) as $K) {
				$md = $K["INDEX_NAME"];
				$J[$md]["type"] = ($K["CONSTRAINT_TYPE"] == "P" ? "PRIMARY" : ($K["CONSTRAINT_TYPE"] == "U" ? "UNIQUE" : "INDEX"));
				$J[$md]["columns"][] = $K["COLUMN_NAME"];
				$J[$md]["lengths"][] = ($K["CHAR_LENGTH"] && $K["CHAR_LENGTH"] != $K["COLUMN_LENGTH"] ? $K["CHAR_LENGTH"] : null);
				$J[$md]["descs"][] = ($K["DESCEND"] ? '1' : null);
			}
			return $J;
		}

		function view($C) {
			$L = get_rows('SELECT text "select" FROM user_views WHERE view_name = ' . q($C));
			return reset($L);
		}

		function collations() {
			return [];
		}

		function information_schema($m) {
			return false;
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function explain($g, $H) {
			$g->query("EXPLAIN PLAN FOR $H");
			return $g->query("SELECT * FROM plan_table");
		}

		function found_rows($R, $Z) {
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			$c = $Wb = [];
			foreach ($p as $o) {
				$X = $o[1];
				if ($X && $o[0] != "" && idf_escape($o[0]) != $X[0]) {
					queries("ALTER TABLE " . table($Q) . " RENAME COLUMN " . idf_escape($o[0]) . " TO $X[0]");
				}
				if ($X) {
					$c[] = ($Q != "" ? ($o[0] != "" ? "MODIFY (" : "ADD (") : "  ") . implode($X) . ($Q != "" ? ")" : "");
				} else {
					$Wb[] = idf_escape($o[0]);
				}
			}
			if ($Q == "") {
				return queries("CREATE TABLE " . table($C) . " (\n" . implode(",\n", $c) . "\n)");
			}
			return (!$c || queries("ALTER TABLE " . table($Q) . "\n" . implode("\n", $c))) && (!$Wb || queries("ALTER TABLE " . table($Q) . " DROP (" . implode(", ", $Wb) . ")")) && ($Q == $C || queries("ALTER TABLE " . table($Q) . " RENAME TO " . table($C)));
		}

		function foreign_keys($Q) {
			$J = [];
			$H = "SELECT c_list.CONSTRAINT_NAME as NAME,
c_src.COLUMN_NAME as SRC_COLUMN,
c_dest.OWNER as DEST_DB,
c_dest.TABLE_NAME as DEST_TABLE,
c_dest.COLUMN_NAME as DEST_COLUMN,
c_list.DELETE_RULE as ON_DELETE
FROM ALL_CONSTRAINTS c_list, ALL_CONS_COLUMNS c_src, ALL_CONS_COLUMNS c_dest
WHERE c_list.CONSTRAINT_NAME = c_src.CONSTRAINT_NAME
AND c_list.R_CONSTRAINT_NAME = c_dest.CONSTRAINT_NAME
AND c_list.CONSTRAINT_TYPE = 'R'
AND c_src.TABLE_NAME = " . q($Q);
			foreach (get_rows($H) as $K) {
				$J[$K['NAME']] = [
					"db" => $K['DEST_DB'],
					"table" => $K['DEST_TABLE'],
					"source" => [$K['SRC_COLUMN']],
					"target" => [$K['DEST_COLUMN']],
					"on_delete" => $K['ON_DELETE'],
					"on_update" => null,
				];
			}
			return $J;
		}

		function truncate_tables($S) {
			return apply_queries("TRUNCATE TABLE", $S);
		}

		function drop_views($Vh) {
			return apply_queries("DROP VIEW", $Vh);
		}

		function drop_tables($S) {
			return apply_queries("DROP TABLE", $S);
		}

		function last_id() {
			return 0;
		}

		function schemas() {
			return get_vals("SELECT DISTINCT owner FROM dba_segments WHERE owner IN (SELECT username FROM dba_users WHERE default_tablespace NOT IN ('SYSTEM','SYSAUX'))");
		}

		function get_schema() {
			global $g;
			return $g->result("SELECT sys_context('USERENV', 'SESSION_USER') FROM dual");
		}

		function set_schema($lg) {
			global $g;
			return $g->query("ALTER SESSION SET CURRENT_SCHEMA = " . idf_escape($lg));
		}

		function show_variables() {
			return get_key_vals('SELECT name, display_value FROM v$parameter');
		}

		function process_list() {
			return get_rows('SELECT sess.process AS "process", sess.username AS "user", sess.schemaname AS "schema", sess.status AS "status", sess.wait_class AS "wait_class", sess.seconds_in_wait AS "seconds_in_wait", sql.sql_text AS "sql_text", sess.machine AS "machine", sess.port AS "port"
FROM v$session sess LEFT OUTER JOIN v$sql sql
ON sql.sql_id = sess.sql_id
WHERE sess.type = \'USER\'
ORDER BY PROCESS
');
		}

		function show_status() {
			$L = get_rows('SELECT * FROM v$instance');
			return reset($L);
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function support($Dc) {
			return preg_match('~^(columns|database|drop_col|indexes|processlist|scheme|sql|status|table|variables|view|view_trigger)$~', $Dc);
		}

		$w = "oracle";
		$zh = [];
		$Ig = [];
		foreach ([
			         'Čísla' => [
				         "number" => 38,
				         "binary_float" => 12,
				         "binary_double" => 21,
			         ],
			         'Datum a čas' => [
				         "date" => 10,
				         "timestamp" => 29,
				         "interval year" => 12,
				         "interval day" => 28,
			         ],
			         'Řetězce' => [
				         "char" => 2000,
				         "varchar2" => 4000,
				         "nchar" => 2000,
				         "nvarchar2" => 4000,
				         "clob" => 4294967295,
				         "nclob" => 4294967295,
			         ],
			         'Binární' => [
				         "raw" => 2000,
				         "long raw" => 2147483648,
				         "blob" => 4294967295,
				         "bfile" => 4294967296,
			         ],
		         ] as $x => $X) {
			$zh += $X;
			$Ig[$x] = array_keys($X);
		}
		$Fh = [];
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"LIKE",
			"LIKE %%",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"NOT REGEXP",
			"NOT IN",
			"IS NOT NULL",
			"SQL",
		];
		$Sc = [
			"length",
			"lower",
			"round",
			"upper",
		];
		$Xc = [
			"avg",
			"count",
			"count distinct",
			"max",
			"min",
			"sum",
		];
		$dc = [
			[
				"date" => "current_date",
				"timestamp" => "current_timestamp",
			],
			[
				"number|float|double" => "+/-",
				"date|timestamp" => "+ interval/- interval",
				"char|clob" => "||",
			],
		];
	}
	$Vb["mssql"] = "MS SQL";
	if (isset($_GET["mssql"])) {
		$wf = [
			"SQLSRV",
			"MSSQL",
		];
		define("DRIVER", "mssql");
		if (extension_loaded("sqlsrv")) {
			class
			Min_DB {
				var $extension = "sqlsrv", $_link, $_result, $server_info, $affected_rows, $errno, $error;

				function _get_error() {
					$this->error = "";
					foreach (sqlsrv_errors() as $n) {
						$this->errno = $n["code"];
						$this->error .= "$n[message]\n";
					}
					$this->error = rtrim($this->error);
				}

				function connect($N, $V, $G) {
					$this->_link = @sqlsrv_connect($N, [
						"UID" => $V,
						"PWD" => $G,
						"CharacterSet" => "UTF-8",
					]);
					if ($this->_link) {
						$qd = sqlsrv_server_info($this->_link);
						$this->server_info = $qd['SQLServerVersion'];
					} else {
						$this->_get_error();
					}
					return (bool)$this->_link;
				}

				function quote($P) {
					return "'" . str_replace("'", "''", $P) . "'";
				}

				function select_db($k) {
					return $this->query("USE " . idf_escape($k));
				}

				function query($H, $_h = false) {
					$I = sqlsrv_query($this->_link, $H);
					$this->error = "";
					if (!$I) {
						$this->_get_error();
						return false;
					}
					return $this->store_result($I);
				}

				function multi_query($H) {
					$this->_result = sqlsrv_query($this->_link, $H);
					$this->error = "";
					if (!$this->_result) {
						$this->_get_error();
						return false;
					}
					return true;
				}

				function store_result($I = null) {
					if (!$I) {
						$I = $this->_result;
					}
					if (!$I) {
						return false;
					}
					if (sqlsrv_field_metadata($I)) {
						return new
						Min_Result($I);
					}
					$this->affected_rows = sqlsrv_rows_affected($I);
					return true;
				}

				function next_result() {
					return $this->_result ? sqlsrv_next_result($this->_result) : null;
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!is_object($I)) {
						return false;
					}
					$K = $I->fetch_row();
					return $K[$o];
				}
			}

			class
			Min_Result {
				var $_result, $_offset = 0, $_fields, $num_rows;

				function __construct($I) {
					$this->_result = $I;
				}

				function _convert($K) {
					foreach ((array)$K as $x => $X) {
						if (is_a($X, 'DateTime')) {
							$K[$x] = $X->format("Y-m-d H:i:s");
						}
					}
					return $K;
				}

				function fetch_assoc() {
					return $this->_convert(sqlsrv_fetch_array($this->_result, SQLSRV_FETCH_ASSOC, SQLSRV_SCROLL_NEXT));
				}

				function fetch_row() {
					return $this->_convert(sqlsrv_fetch_array($this->_result, SQLSRV_FETCH_NUMERIC, SQLSRV_SCROLL_NEXT));
				}

				function fetch_field() {
					if (!$this->_fields) {
						$this->_fields = sqlsrv_field_metadata($this->_result);
					}
					$o = $this->_fields[$this->_offset++];
					$J = new
					stdClass;
					$J->name = $o["Name"];
					$J->orgname = $o["Name"];
					$J->type = ($o["Type"] == 1 ? 254 : 0);
					return $J;
				}

				function seek($D) {
					for ($s = 0; $s < $D; $s++) {
						sqlsrv_fetch($this->_result);
					}
				}

				function __destruct() {
					sqlsrv_free_stmt($this->_result);
				}
			}
		} elseif (extension_loaded("mssql")) {
			class
			Min_DB {
				var $extension = "MSSQL", $_link, $_result, $server_info, $affected_rows, $error;

				function connect($N, $V, $G) {
					$this->_link = @mssql_connect($N, $V, $G);
					if ($this->_link) {
						$I = $this->query("SELECT SERVERPROPERTY('ProductLevel'), SERVERPROPERTY('Edition')");
						$K = $I->fetch_row();
						$this->server_info = $this->result("sp_server_info 2", 2) . " [$K[0]] $K[1]";
					} else {
						$this->error = mssql_get_last_message();
					}
					return (bool)$this->_link;
				}

				function quote($P) {
					return "'" . str_replace("'", "''", $P) . "'";
				}

				function select_db($k) {
					return mssql_select_db($k);
				}

				function query($H, $_h = false) {
					$I = mssql_query($H, $this->_link);
					$this->error = "";
					if (!$I) {
						$this->error = mssql_get_last_message();
						return false;
					}
					if ($I === true) {
						$this->affected_rows = mssql_rows_affected($this->_link);
						return true;
					}
					return new
					Min_Result($I);
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return mssql_next_result($this->_result);
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!is_object($I)) {
						return false;
					}
					return mssql_result($I->_result, 0, $o);
				}
			}

			class
			Min_Result {
				var $_result, $_offset = 0, $_fields, $num_rows;

				function __construct($I) {
					$this->_result = $I;
					$this->num_rows = mssql_num_rows($I);
				}

				function fetch_assoc() {
					return mssql_fetch_assoc($this->_result);
				}

				function fetch_row() {
					return mssql_fetch_row($this->_result);
				}

				function num_rows() {
					return mssql_num_rows($this->_result);
				}

				function fetch_field() {
					$J = mssql_fetch_field($this->_result);
					$J->orgtable = $J->table;
					$J->orgname = $J->name;
					return $J;
				}

				function seek($D) {
					mssql_data_seek($this->_result, $D);
				}

				function __destruct() {
					mssql_free_result($this->_result);
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function insertUpdate($Q, $L, $zf) {
				foreach ($L as $O) {
					$Gh = [];
					$Z = [];
					foreach ($O as $x => $X) {
						$Gh[] = "$x = $X";
						if (isset($zf[idf_unescape($x)])) {
							$Z[] = "$x = $X";
						}
					}
					if (!queries("MERGE " . table($Q) . " USING (VALUES(" . implode(", ", $O) . ")) AS source (c" . implode(", c", range(1, count($O))) . ") ON " . implode(" AND ", $Z) . " WHEN MATCHED THEN UPDATE SET " . implode(", ", $Gh) . " WHEN NOT MATCHED THEN INSERT (" . implode(", ", array_keys($O)) . ") VALUES (" . implode(", ", $O) . ");")) {
						return false;
					}
				}
				return true;
			}

			function begin() {
				return queries("BEGIN TRANSACTION");
			}
		}

		function idf_escape($t) {
			return "[" . str_replace("]", "]]", $t) . "]";
		}

		function table($t) {
			return ($_GET["ns"] != "" ? idf_escape($_GET["ns"]) . "." : "") . idf_escape($t);
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				return $g;
			}
			return $g->error;
		}

		function get_databases() {
			return get_vals("EXEC sp_databases");
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return ($z !== null ? " TOP (" . ($z + $D) . ")" : "") . " $H$Z";
		}

		function limit1($H, $Z) {
			return limit($H, $Z, 1);
		}

		function db_collation($m, $mb) {
			global $g;
			return $g->result("SELECT collation_name FROM sys.databases WHERE name =  " . q($m));
		}

		function engines() {
			return [];
		}

		function logged_user() {
			global $g;
			return $g->result("SELECT SUSER_NAME()");
		}

		function tables_list() {
			return get_key_vals("SELECT name, type_desc FROM sys.all_objects WHERE schema_id = SCHEMA_ID(" . q(get_schema()) . ") AND type IN ('S', 'U', 'V') ORDER BY name");
		}

		function count_tables($l) {
			global $g;
			$J = [];
			foreach ($l as $m) {
				$g->select_db($m);
				$J[$m] = $g->result("SELECT COUNT(*) FROM INFORMATION_SCHEMA.TABLES");
			}
			return $J;
		}

		function table_status($C = "") {
			$J = [];
			foreach (get_rows("SELECT name AS Name, type_desc AS Engine FROM sys.all_objects WHERE schema_id = SCHEMA_ID(" . q(get_schema()) . ") AND type IN ('S', 'U', 'V') " . ($C != "" ? "AND name = " . q($C) : "ORDER BY name")) as $K) {
				if ($C != "") {
					return $K;
				}
				$J[$K["Name"]] = $K;
			}
			return $J;
		}

		function is_view($R) {
			return $R["Engine"] == "VIEW";
		}

		function fk_support($R) {
			return true;
		}

		function fields($Q) {
			$J = [];
			foreach (get_rows("SELECT c.*, t.name type, d.definition [default]
FROM sys.all_columns c
JOIN sys.all_objects o ON c.object_id = o.object_id
JOIN sys.types t ON c.user_type_id = t.user_type_id
LEFT JOIN sys.default_constraints d ON c.default_object_id = d.parent_column_id
WHERE o.schema_id = SCHEMA_ID(" . q(get_schema()) . ") AND o.type IN ('S', 'U', 'V') AND o.name = " . q($Q)) as $K) {
				$U = $K["type"];
				$y = (preg_match("~char|binary~", $U) ? $K["max_length"] : ($U == "decimal" ? "$K[precision],$K[scale]" : ""));
				$J[$K["name"]] = [
					"field" => $K["name"],
					"full_type" => $U . ($y ? "($y)" : ""),
					"type" => $U,
					"length" => $y,
					"default" => $K["default"],
					"null" => $K["is_nullable"],
					"auto_increment" => $K["is_identity"],
					"collation" => $K["collation_name"],
					"privileges" => [
						"insert" => 1,
						"select" => 1,
						"update" => 1,
					],
					"primary" => $K["is_identity"],
				];
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			$J = [];
			foreach (get_rows("SELECT i.name, key_ordinal, is_unique, is_primary_key, c.name AS column_name, is_descending_key
FROM sys.indexes i
INNER JOIN sys.index_columns ic ON i.object_id = ic.object_id AND i.index_id = ic.index_id
INNER JOIN sys.columns c ON ic.object_id = c.object_id AND ic.column_id = c.column_id
WHERE OBJECT_NAME(i.object_id) = " . q($Q), $h) as $K) {
				$C = $K["name"];
				$J[$C]["type"] = ($K["is_primary_key"] ? "PRIMARY" : ($K["is_unique"] ? "UNIQUE" : "INDEX"));
				$J[$C]["lengths"] = [];
				$J[$C]["columns"][$K["key_ordinal"]] = $K["column_name"];
				$J[$C]["descs"][$K["key_ordinal"]] = ($K["is_descending_key"] ? '1' : null);
			}
			return $J;
		}

		function view($C) {
			global $g;
			return ["select" => preg_replace('~^(?:[^[]|\\[[^]]*])*\\s+AS\\s+~isU', '', $g->result("SELECT VIEW_DEFINITION FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = SCHEMA_NAME() AND TABLE_NAME = " . q($C)))];
		}

		function collations() {
			$J = [];
			foreach (get_vals("SELECT name FROM fn_helpcollations()") as $d) {
				$J[preg_replace('~_.*~', '', $d)][] = $d;
			}
			return $J;
		}

		function information_schema($m) {
			return false;
		}

		function error() {
			global $g;
			return nl_br(h(preg_replace('~^(\\[[^]]*])+~m', '', $g->error)));
		}

		function create_database($m, $d) {
			return queries("CREATE DATABASE " . idf_escape($m) . (preg_match('~^[a-z0-9_]+$~i', $d) ? " COLLATE $d" : ""));
		}

		function drop_databases($l) {
			return queries("DROP DATABASE " . implode(", ", array_map('idf_escape', $l)));
		}

		function rename_database($C, $d) {
			if (preg_match('~^[a-z0-9_]+$~i', $d)) {
				queries("ALTER DATABASE " . idf_escape(DB) . " COLLATE $d");
			}
			queries("ALTER DATABASE " . idf_escape(DB) . " MODIFY NAME = " . idf_escape($C));
			return true;
		}

		function auto_increment() {
			return " IDENTITY" . ($_POST["Auto_increment"] != "" ? "(" . number($_POST["Auto_increment"]) . ",1)" : "") . " PRIMARY KEY";
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			$c = [];
			foreach ($p as $o) {
				$e = idf_escape($o[0]);
				$X = $o[1];
				if (!$X) {
					$c["DROP"][] = " COLUMN $e";
				} else {
					$X[1] = preg_replace("~( COLLATE )'(\\w+)'~", "\\1\\2", $X[1]);
					if ($o[0] == "") {
						$c["ADD"][] = "\n  " . implode("", $X) . ($Q == "" ? substr($Kc[$X[0]], 16 + strlen($X[0])) : "");
					} else {
						unset($X[6]);
						if ($e != $X[0]) {
							queries("EXEC sp_rename " . q(table($Q) . ".$e") . ", " . q(idf_unescape($X[0])) . ", 'COLUMN'");
						}
						$c["ALTER COLUMN " . implode("", $X)][] = "";
					}
				}
			}
			if ($Q == "") {
				return queries("CREATE TABLE " . table($C) . " (" . implode(",", (array)$c["ADD"]) . "\n)");
			}
			if ($Q != $C) {
				queries("EXEC sp_rename " . q(table($Q)) . ", " . q($C));
			}
			if ($Kc) {
				$c[""] = $Kc;
			}
			foreach ($c as $x => $X) {
				if (!queries("ALTER TABLE " . idf_escape($C) . " $x" . implode(",", $X))) {
					return false;
				}
			}
			return true;
		}

		function alter_indexes($Q, $c) {
			$u = [];
			$Wb = [];
			foreach ($c as $X) {
				if ($X[2] == "DROP") {
					if ($X[0] == "PRIMARY") {
						$Wb[] = idf_escape($X[1]);
					} else {
						$u[] = idf_escape($X[1]) . " ON " . table($Q);
					}
				} elseif (!queries(($X[0] != "PRIMARY" ? "CREATE $X[0] " . ($X[0] != "INDEX" ? "INDEX " : "") . idf_escape($X[1] != "" ? $X[1] : uniqid($Q . "_")) . " ON " . table($Q) : "ALTER TABLE " . table($Q) . " ADD PRIMARY KEY") . " (" . implode(", ", $X[2]) . ")")) {
					return false;
				}
			}
			return (!$u || queries("DROP INDEX " . implode(", ", $u))) && (!$Wb || queries("ALTER TABLE " . table($Q) . " DROP " . implode(", ", $Wb)));
		}

		function last_id() {
			global $g;
			return $g->result("SELECT SCOPE_IDENTITY()");
		}

		function explain($g, $H) {
			$g->query("SET SHOWPLAN_ALL ON");
			$J = $g->query($H);
			$g->query("SET SHOWPLAN_ALL OFF");
			return $J;
		}

		function found_rows($R, $Z) {
		}

		function foreign_keys($Q) {
			$J = [];
			foreach (get_rows("EXEC sp_fkeys @fktable_name = " . q($Q)) as $K) {
				$q =& $J[$K["FK_NAME"]];
				$q["table"] = $K["PKTABLE_NAME"];
				$q["source"][] = $K["FKCOLUMN_NAME"];
				$q["target"][] = $K["PKCOLUMN_NAME"];
			}
			return $J;
		}

		function truncate_tables($S) {
			return apply_queries("TRUNCATE TABLE", $S);
		}

		function drop_views($Vh) {
			return queries("DROP VIEW " . implode(", ", array_map('table', $Vh)));
		}

		function drop_tables($S) {
			return queries("DROP TABLE " . implode(", ", array_map('table', $S)));
		}

		function move_tables($S, $Vh, $Yg) {
			return apply_queries("ALTER SCHEMA " . idf_escape($Yg) . " TRANSFER", array_merge($S, $Vh));
		}

		function trigger($C) {
			if ($C == "") {
				return [];
			}
			$L = get_rows("SELECT s.name [Trigger],
CASE WHEN OBJECTPROPERTY(s.id, 'ExecIsInsertTrigger') = 1 THEN 'INSERT' WHEN OBJECTPROPERTY(s.id, 'ExecIsUpdateTrigger') = 1 THEN 'UPDATE' WHEN OBJECTPROPERTY(s.id, 'ExecIsDeleteTrigger') = 1 THEN 'DELETE' END [Event],
CASE WHEN OBJECTPROPERTY(s.id, 'ExecIsInsteadOfTrigger') = 1 THEN 'INSTEAD OF' ELSE 'AFTER' END [Timing],
c.text
FROM sysobjects s
JOIN syscomments c ON s.id = c.id
WHERE s.xtype = 'TR' AND s.name = " . q($C));
			$J = reset($L);
			if ($J) {
				$J["Statement"] = preg_replace('~^.+\\s+AS\\s+~isU', '', $J["text"]);
			}
			return $J;
		}

		function triggers($Q) {
			$J = [];
			foreach (get_rows("SELECT sys1.name,
CASE WHEN OBJECTPROPERTY(sys1.id, 'ExecIsInsertTrigger') = 1 THEN 'INSERT' WHEN OBJECTPROPERTY(sys1.id, 'ExecIsUpdateTrigger') = 1 THEN 'UPDATE' WHEN OBJECTPROPERTY(sys1.id, 'ExecIsDeleteTrigger') = 1 THEN 'DELETE' END [Event],
CASE WHEN OBJECTPROPERTY(sys1.id, 'ExecIsInsteadOfTrigger') = 1 THEN 'INSTEAD OF' ELSE 'AFTER' END [Timing]
FROM sysobjects sys1
JOIN sysobjects sys2 ON sys1.parent_obj = sys2.id
WHERE sys1.xtype = 'TR' AND sys2.name = " . q($Q)) as $K) {
				$J[$K["name"]] = [
					$K["Timing"],
					$K["Event"],
				];
			}
			return $J;
		}

		function trigger_options() {
			return [
				"Timing" => [
					"AFTER",
					"INSTEAD OF",
				],
				"Event" => [
					"INSERT",
					"UPDATE",
					"DELETE",
				],
				"Type" => ["AS"],
			];
		}

		function schemas() {
			return get_vals("SELECT name FROM sys.schemas");
		}

		function get_schema() {
			global $g;
			if ($_GET["ns"] != "") {
				return $_GET["ns"];
			}
			return $g->result("SELECT SCHEMA_NAME()");
		}

		function set_schema($kg) {
			return true;
		}

		function use_sql($k) {
			return "USE " . idf_escape($k);
		}

		function show_variables() {
			return [];
		}

		function show_status() {
			return [];
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function support($Dc) {
			return preg_match('~^(columns|database|drop_col|indexes|scheme|sql|table|trigger|view|view_trigger)$~', $Dc);
		}

		$w = "mssql";
		$zh = [];
		$Ig = [];
		foreach ([
			         'Čísla' => [
				         "tinyint" => 3,
				         "smallint" => 5,
				         "int" => 10,
				         "bigint" => 20,
				         "bit" => 1,
				         "decimal" => 0,
				         "real" => 12,
				         "float" => 53,
				         "smallmoney" => 10,
				         "money" => 20,
			         ],
			         'Datum a čas' => [
				         "date" => 10,
				         "smalldatetime" => 19,
				         "datetime" => 19,
				         "datetime2" => 19,
				         "time" => 8,
				         "datetimeoffset" => 10,
			         ],
			         'Řetězce' => [
				         "char" => 8000,
				         "varchar" => 8000,
				         "text" => 2147483647,
				         "nchar" => 4000,
				         "nvarchar" => 4000,
				         "ntext" => 1073741823,
			         ],
			         'Binární' => [
				         "binary" => 8000,
				         "varbinary" => 8000,
				         "image" => 2147483647,
			         ],
		         ] as $x => $X) {
			$zh += $X;
			$Ig[$x] = array_keys($X);
		}
		$Fh = [];
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"LIKE",
			"LIKE %%",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"NOT IN",
			"IS NOT NULL",
		];
		$Sc = [
			"len",
			"lower",
			"round",
			"upper",
		];
		$Xc = [
			"avg",
			"count",
			"count distinct",
			"max",
			"min",
			"sum",
		];
		$dc = [
			["date|time" => "getdate",],
			[
				"int|decimal|real|float|money|datetime" => "+/-",
				"char|text" => "+",
			],
		];
	}
	$Vb['firebird'] = 'Firebird (alpha)';
	if (isset($_GET["firebird"])) {
		$wf = ["interbase"];
		define("DRIVER", "firebird");
		if (extension_loaded("interbase")) {
			class
			Min_DB {
				var $extension = "Firebird", $server_info, $affected_rows, $errno, $error, $_link, $_result;

				function connect($N, $V, $G) {
					$this->_link = ibase_connect($N, $V, $G);
					if ($this->_link) {
						$Ih = explode(':', $N);
						$this->service_link = ibase_service_attach($Ih[0], $V, $G);
						$this->server_info = ibase_server_info($this->service_link, IBASE_SVC_SERVER_VERSION);
					} else {
						$this->errno = ibase_errcode();
						$this->error = ibase_errmsg();
					}
					return (bool)$this->_link;
				}

				function quote($P) {
					return "'" . str_replace("'", "''", $P) . "'";
				}

				function select_db($k) {
					return ($k == "domain");
				}

				function query($H, $_h = false) {
					$I = ibase_query($H, $this->_link);
					if (!$I) {
						$this->errno = ibase_errcode();
						$this->error = ibase_errmsg();
						return false;
					}
					$this->error = "";
					if ($I === true) {
						$this->affected_rows = ibase_affected_rows($this->_link);
						return true;
					}
					return new
					Min_Result($I);
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return false;
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!$I || !$I->num_rows) {
						return false;
					}
					$K = $I->fetch_row();
					return $K[$o];
				}
			}

			class
			Min_Result {
				var $num_rows, $_result, $_offset = 0;

				function __construct($I) {
					$this->_result = $I;
				}

				function fetch_assoc() {
					return ibase_fetch_assoc($this->_result);
				}

				function fetch_row() {
					return ibase_fetch_row($this->_result);
				}

				function fetch_field() {
					$o = ibase_field_info($this->_result, $this->_offset++);
					return (object)[
						'name' => $o['name'],
						'orgname' => $o['name'],
						'type' => $o['type'],
						'charsetnr' => $o['length'],
					];
				}

				function __destruct() {
					ibase_free_result($this->_result);
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
		}

		function idf_escape($t) {
			return '"' . str_replace('"', '""', $t) . '"';
		}

		function table($t) {
			return idf_escape($t);
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				return $g;
			}
			return $g->error;
		}

		function get_databases($Jc) {
			return ["domain"];
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			$J = '';
			$J .= ($z !== null ? $rg . "FIRST $z" . ($D ? " SKIP $D" : "") : "");
			$J .= " $H$Z";
			return $J;
		}

		function limit1($H, $Z) {
			return limit($H, $Z, 1);
		}

		function db_collation($m, $mb) {
		}

		function engines() {
			return [];
		}

		function logged_user() {
			global $b;
			$j = $b->credentials();
			return $j[1];
		}

		function tables_list() {
			global $g;
			$H = 'SELECT RDB$RELATION_NAME FROM rdb$relations WHERE rdb$system_flag = 0';
			$I = ibase_query($g->_link, $H);
			$J = [];
			while ($K = ibase_fetch_assoc($I)) {
				$J[$K['RDB$RELATION_NAME']] = 'table';
			}
			ksort($J);
			return $J;
		}

		function count_tables($l) {
			return [];
		}

		function table_status($C = "", $Cc = false) {
			global $g;
			$J = [];
			$Db = tables_list();
			foreach ($Db as $u => $X) {
				$u = trim($u);
				$J[$u] = [
					'Name' => $u,
					'Engine' => 'standard',
				];
				if ($C == $u) {
					return $J[$u];
				}
			}
			return $J;
		}

		function is_view($R) {
			return false;
		}

		function fk_support($R) {
			return preg_match('~InnoDB|IBMDB2I~i', $R["Engine"]);
		}

		function fields($Q) {
			global $g;
			$J = [];
			$H = 'SELECT r.RDB$FIELD_NAME AS field_name,
r.RDB$DESCRIPTION AS field_description,
r.RDB$DEFAULT_VALUE AS field_default_value,
r.RDB$NULL_FLAG AS field_not_null_constraint,
f.RDB$FIELD_LENGTH AS field_length,
f.RDB$FIELD_PRECISION AS field_precision,
f.RDB$FIELD_SCALE AS field_scale,
CASE f.RDB$FIELD_TYPE
WHEN 261 THEN \'BLOB\'
WHEN 14 THEN \'CHAR\'
WHEN 40 THEN \'CSTRING\'
WHEN 11 THEN \'D_FLOAT\'
WHEN 27 THEN \'DOUBLE\'
WHEN 10 THEN \'FLOAT\'
WHEN 16 THEN \'INT64\'
WHEN 8 THEN \'INTEGER\'
WHEN 9 THEN \'QUAD\'
WHEN 7 THEN \'SMALLINT\'
WHEN 12 THEN \'DATE\'
WHEN 13 THEN \'TIME\'
WHEN 35 THEN \'TIMESTAMP\'
WHEN 37 THEN \'VARCHAR\'
ELSE \'UNKNOWN\'
END AS field_type,
f.RDB$FIELD_SUB_TYPE AS field_subtype,
coll.RDB$COLLATION_NAME AS field_collation,
cset.RDB$CHARACTER_SET_NAME AS field_charset
FROM RDB$RELATION_FIELDS r
LEFT JOIN RDB$FIELDS f ON r.RDB$FIELD_SOURCE = f.RDB$FIELD_NAME
LEFT JOIN RDB$COLLATIONS coll ON f.RDB$COLLATION_ID = coll.RDB$COLLATION_ID
LEFT JOIN RDB$CHARACTER_SETS cset ON f.RDB$CHARACTER_SET_ID = cset.RDB$CHARACTER_SET_ID
WHERE r.RDB$RELATION_NAME = ' . q($Q) . '
ORDER BY r.RDB$FIELD_POSITION';
			$I = ibase_query($g->_link, $H);
			while ($K = ibase_fetch_assoc($I)) {
				$J[trim($K['FIELD_NAME'])] = [
					"field" => trim($K["FIELD_NAME"]),
					"full_type" => trim($K["FIELD_TYPE"]),
					"type" => trim($K["FIELD_SUB_TYPE"]),
					"default" => trim($K['FIELD_DEFAULT_VALUE']),
					"null" => (trim($K["FIELD_NOT_NULL_CONSTRAINT"]) == "YES"),
					"auto_increment" => '0',
					"collation" => trim($K["FIELD_COLLATION"]),
					"privileges" => [
						"insert" => 1,
						"select" => 1,
						"update" => 1,
					],
					"comment" => trim($K["FIELD_DESCRIPTION"]),
				];
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			$J = [];
			return $J;
		}

		function foreign_keys($Q) {
			return [];
		}

		function collations() {
			return [];
		}

		function information_schema($m) {
			return false;
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function types() {
			return [];
		}

		function schemas() {
			return [];
		}

		function get_schema() {
			return "";
		}

		function set_schema($kg) {
			return true;
		}

		function support($Dc) {
			return preg_match("~^(columns|sql|status|table)$~", $Dc);
		}

		$w = "firebird";
		$Oe = ["="];
		$Sc = [];
		$Xc = [];
		$dc = [];
	}
	$Vb["simpledb"] = "SimpleDB";
	if (isset($_GET["simpledb"])) {
		$wf = ["SimpleXML"];
		define("DRIVER", "simpledb");
		if (class_exists('SimpleXMLElement')) {
			class
			Min_DB {
				var $extension = "SimpleXML", $server_info = '2009-04-15', $error, $timeout, $next, $affected_rows, $_result;

				function select_db($k) {
					return ($k == "domain");
				}

				function query($H, $_h = false) {
					$F = [
						'SelectExpression' => $H,
						'ConsistentRead' => 'true',
					];
					if ($this->next) {
						$F['NextToken'] = $this->next;
					}
					$I = sdb_request_all('Select', 'Item', $F, $this->timeout);
					if ($I === false) {
						return $I;
					}
					if (preg_match('~^\s*SELECT\s+COUNT\(~i', $H)) {
						$Mg = 0;
						foreach ($I as $Cd) {
							$Mg += $Cd->Attribute->Value;
						}
						$I = [
							(object)[
								'Attribute' => [
									(object)[
										'Name' => 'Count',
										'Value' => $Mg,
									],
								],
							],
						];
					}
					return new
					Min_Result($I);
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return false;
				}

				function quote($P) {
					return "'" . str_replace("'", "''", $P) . "'";
				}
			}

			class
			Min_Result {
				var $num_rows, $_rows = [], $_offset = 0;

				function __construct($I) {
					foreach ($I as $Cd) {
						$K = [];
						if ($Cd->Name != '') {
							$K['itemName()'] = (string)$Cd->Name;
						}
						foreach ($Cd->Attribute as $Ha) {
							$C = $this->_processValue($Ha->Name);
							$Y = $this->_processValue($Ha->Value);
							if (isset($K[$C])) {
								$K[$C] = (array)$K[$C];
								$K[$C][] = $Y;
							} else {
								$K[$C] = $Y;
							}
						}
						$this->_rows[] = $K;
						foreach ($K as $x => $X) {
							if (!isset($this->_rows[0][$x])) {
								$this->_rows[0][$x] = null;
							}
						}
					}
					$this->num_rows = count($this->_rows);
				}

				function _processValue($gc) {
					return (is_object($gc) && $gc['encoding'] == 'base64' ? base64_decode($gc) : (string)$gc);
				}

				function fetch_assoc() {
					$K = current($this->_rows);
					if (!$K) {
						return $K;
					}
					$J = [];
					foreach ($this->_rows[0] as $x => $X) {
						$J[$x] = $K[$x];
					}
					next($this->_rows);
					return $J;
				}

				function fetch_row() {
					$J = $this->fetch_assoc();
					if (!$J) {
						return $J;
					}
					return array_values($J);
				}

				function fetch_field() {
					$Id = array_keys($this->_rows[0]);
					return (object)['name' => $Id[$this->_offset++]];
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			public $zf = "itemName()";

			function _chunkRequest($jd, $ua, $F, $wc = []) {
				global $g;
				foreach (array_chunk($jd, 25) as $fb) {
					$gf = $F;
					foreach ($fb as $s => $hd) {
						$gf["Item.$s.ItemName"] = $hd;
						foreach ($wc as $x => $X) {
							$gf["Item.$s.$x"] = $X;
						}
					}
					if (!sdb_request($ua, $gf)) {
						return false;
					}
				}
				$g->affected_rows = count($jd);
				return true;
			}

			function _extractIds($Q, $Jf, $z) {
				$J = [];
				if (preg_match_all("~itemName\(\) = (('[^']*+')+)~", $Jf, $ae)) {
					$J = array_map('idf_unescape', $ae[1]);
				} else {
					foreach (sdb_request_all('Select', 'Item', ['SelectExpression' => 'SELECT itemName() FROM ' . table($Q) . $Jf . ($z ? " LIMIT 1" : "")]) as $Cd) {
						$J[] = $Cd->Name;
					}
				}
				return $J;
			}

			function select($Q, $M, $Z, $Vc, $Te = [], $z = 1, $E = 0, $Af = false) {
				global $g;
				$g->next = $_GET["next"];
				$J = parent::select($Q, $M, $Z, $Vc, $Te, $z, $E, $Af);
				$g->next = 0;
				return $J;
			}

			function delete($Q, $Jf, $z = 0) {
				return $this->_chunkRequest($this->_extractIds($Q, $Jf, $z), 'BatchDeleteAttributes', ['DomainName' => $Q]);
			}

			function update($Q, $O, $Jf, $z = 0, $rg = "\n") {
				$Kb = [];
				$ud = [];
				$s = 0;
				$jd = $this->_extractIds($Q, $Jf, $z);
				$hd = idf_unescape($O["`itemName()`"]);
				unset($O["`itemName()`"]);
				foreach ($O as $x => $X) {
					$x = idf_unescape($x);
					if ($X == "NULL" || ($hd != "" && [$hd] != $jd)) {
						$Kb["Attribute." . count($Kb) . ".Name"] = $x;
					}
					if ($X != "NULL") {
						foreach ((array)$X as $Ed => $W) {
							$ud["Attribute.$s.Name"] = $x;
							$ud["Attribute.$s.Value"] = (is_array($X) ? $W : idf_unescape($W));
							if (!$Ed) {
								$ud["Attribute.$s.Replace"] = "true";
							}
							$s++;
						}
					}
				}
				$F = ['DomainName' => $Q];
				return (!$ud || $this->_chunkRequest(($hd != "" ? [$hd] : $jd), 'BatchPutAttributes', $F, $ud)) && (!$Kb || $this->_chunkRequest($jd, 'BatchDeleteAttributes', $F, $Kb));
			}

			function insert($Q, $O) {
				$F = ["DomainName" => $Q];
				$s = 0;
				foreach ($O as $C => $Y) {
					if ($Y != "NULL") {
						$C = idf_unescape($C);
						if ($C == "itemName()") {
							$F["ItemName"] = idf_unescape($Y);
						} else {
							foreach ((array)$Y as $X) {
								$F["Attribute.$s.Name"] = $C;
								$F["Attribute.$s.Value"] = (is_array($Y) ? $X : idf_unescape($Y));
								$s++;
							}
						}
					}
				}
				return sdb_request('PutAttributes', $F);
			}

			function insertUpdate($Q, $L, $zf) {
				foreach ($L as $O) {
					if (!$this->update($Q, $O, "WHERE `itemName()` = " . q($O["`itemName()`"]))) {
						return false;
					}
				}
				return true;
			}

			function begin() {
				return false;
			}

			function commit() {
				return false;
			}

			function rollback() {
				return false;
			}
		}

		function connect() {
			return new
			Min_DB;
		}

		function support($Dc) {
			return preg_match('~sql~', $Dc);
		}

		function logged_user() {
			global $b;
			$j = $b->credentials();
			return $j[1];
		}

		function get_databases() {
			return ["domain"];
		}

		function collations() {
			return [];
		}

		function db_collation($m, $mb) {
		}

		function tables_list() {
			global $g;
			$J = [];
			foreach (sdb_request_all('ListDomains', 'DomainName') as $Q) {
				$J[(string)$Q] = 'table';
			}
			if ($g->error && defined("PAGE_HEADER")) {
				echo "<p class='error'>" . error() . "\n";
			}
			return $J;
		}

		function table_status($C = "", $Cc = false) {
			$J = [];
			foreach (($C != "" ? [$C => true] : tables_list()) as $Q => $U) {
				$K = [
					"Name" => $Q,
					"Auto_increment" => "",
				];
				if (!$Cc) {
					$ne = sdb_request('DomainMetadata', ['DomainName' => $Q]);
					if ($ne) {
						foreach ([
							         "Rows" => "ItemCount",
							         "Data_length" => "ItemNamesSizeBytes",
							         "Index_length" => "AttributeValuesSizeBytes",
							         "Data_free" => "AttributeNamesSizeBytes",
						         ] as $x => $X) {
							$K[$x] = (string)$ne->$X;
						}
					}
				}
				if ($C != "") {
					return $K;
				}
				$J[$Q] = $K;
			}
			return $J;
		}

		function explain($g, $H) {
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function information_schema() {
		}

		function is_view($R) {
		}

		function indexes($Q, $h = null) {
			return [
				[
					"type" => "PRIMARY",
					"columns" => ["itemName()"],
				],
			];
		}

		function fields($Q) {
			return fields_from_edit();
		}

		function foreign_keys($Q) {
			return [];
		}

		function table($t) {
			return idf_escape($t);
		}

		function idf_escape($t) {
			return "`" . str_replace("`", "``", $t) . "`";
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return " $H$Z" . ($z !== null ? $rg . "LIMIT $z" : "");
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function fk_support($R) {
		}

		function engines() {
			return [];
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			return ($Q == "" && sdb_request('CreateDomain', ['DomainName' => $C]));
		}

		function drop_tables($S) {
			foreach ($S as $Q) {
				if (!sdb_request('DeleteDomain', ['DomainName' => $Q])) {
					return false;
				}
			}
			return true;
		}

		function count_tables($l) {
			foreach ($l as $m) {
				return [$m => count(tables_list())];
			}
		}

		function found_rows($R, $Z) {
			return ($Z ? null : $R["Rows"]);
		}

		function last_id() {
		}

		function hmac($Aa, $Db, $x, $Nf = false) {
			$Ta = 64;
			if (strlen($x) > $Ta) {
				$x = pack("H*", $Aa($x));
			}
			$x = str_pad($x, $Ta, "\0");
			$Fd = $x ^ str_repeat("\x36", $Ta);
			$Gd = $x ^ str_repeat("\x5C", $Ta);
			$J = $Aa($Gd . pack("H*", $Aa($Fd . $Db)));
			if ($Nf) {
				$J = pack("H*", $J);
			}
			return $J;
		}

		function sdb_request($ua, $F = []) {
			global $b, $g;
			list($fd, $F['AWSAccessKeyId'], $ng) = $b->credentials();
			$F['Action'] = $ua;
			$F['Timestamp'] = gmdate('Y-m-d\TH:i:s+00:00');
			$F['Version'] = '2009-04-15';
			$F['SignatureVersion'] = 2;
			$F['SignatureMethod'] = 'HmacSHA1';
			ksort($F);
			$H = '';
			foreach ($F as $x => $X) {
				$H .= '&' . rawurlencode($x) . '=' . rawurlencode($X);
			}
			$H = str_replace('%7E', '~', substr($H, 1));
			$H .= "&Signature=" . urlencode(base64_encode(hmac('sha1', "POST\n" . preg_replace('~^https?://~', '', $fd) . "\n/\n$H", $ng, true)));
			@ini_set('track_errors', 1);
			$Fc = @file_get_contents((preg_match('~^https?://~', $fd) ? $fd : "http://$fd"), false, stream_context_create([
				'http' => [
					'method' => 'POST',
					'content' => $H,
					'ignore_errors' => 1,
				],
			]));
			if (!$Fc) {
				$g->error = $php_errormsg;
				return false;
			}
			libxml_use_internal_errors(true);
			$bi = simplexml_load_string($Fc);
			if (!$bi) {
				$n = libxml_get_last_error();
				$g->error = $n->message;
				return false;
			}
			if ($bi->Errors) {
				$n = $bi->Errors->Error;
				$g->error = "$n->Message ($n->Code)";
				return false;
			}
			$g->error = '';
			$Xg = $ua . "Result";
			return ($bi->$Xg ? $bi->$Xg : true);
		}

		function sdb_request_all($ua, $Xg, $F = [], $gh = 0) {
			$J = [];
			$Eg = ($gh ? microtime(true) : 0);
			$z = (preg_match('~LIMIT\s+(\d+)\s*$~i', $F['SelectExpression'], $B) ? $B[1] : 0);
			do {
				$bi = sdb_request($ua, $F);
				if (!$bi) {
					break;
				}
				foreach ($bi->$Xg as $gc) {
					$J[] = $gc;
				}
				if ($z && count($J) >= $z) {
					$_GET["next"] = $bi->NextToken;
					break;
				}
				if ($gh && microtime(true) - $Eg > $gh) {
					return false;
				}
				$F['NextToken'] = $bi->NextToken;
				if ($z) {
					$F['SelectExpression'] = preg_replace('~\d+\s*$~', $z - count($J), $F['SelectExpression']);
				}
			} while ($bi->NextToken);
			return $J;
		}

		$w = "simpledb";
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"LIKE",
			"LIKE %%",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"IS NOT NULL",
		];
		$Sc = [];
		$Xc = ["count"];
		$dc = [["json"]];
	}
	$Vb["mongo"] = "MongoDB (beta)";
	if (isset($_GET["mongo"])) {
		$wf = ["mongo"];
		define("DRIVER", "mongo");
		if (class_exists('MongoDB')) {
			class
			Min_DB {
				var $extension = "Mongo", $error, $last_id, $_link, $_db;

				function connect($N, $V, $G) {
					global $b;
					$m = $b->database();
					$Re = [];
					if ($V != "") {
						$Re["username"] = $V;
						$Re["password"] = $G;
					}
					if ($m != "") {
						$Re["db"] = $m;
					}
					try {
						$this->_link = @new
						MongoClient("mongodb://$N", $Re);
						return true;
					} catch (Exception$sc) {
						$this->error = $sc->getMessage();
						return false;
					}
				}

				function query($H) {
					return false;
				}

				function select_db($k) {
					try {
						$this->_db = $this->_link->selectDB($k);
						return true;
					} catch (Exception$sc) {
						$this->error = $sc->getMessage();
						return false;
					}
				}

				function quote($P) {
					return $P;
				}
			}

			class
			Min_Result {
				var $num_rows, $_rows = [], $_offset = 0, $_charset = [];

				function __construct($I) {
					foreach ($I as $Cd) {
						$K = [];
						foreach ($Cd as $x => $X) {
							if (is_a($X, 'MongoBinData')) {
								$this->_charset[$x] = 63;
							}
							$K[$x] = (is_a($X, 'MongoId') ? 'ObjectId("' . strval($X) . '")' : (is_a($X, 'MongoDate') ? gmdate("Y-m-d H:i:s", $X->sec) . " GMT" : (is_a($X, 'MongoBinData') ? $X->bin : (is_a($X, 'MongoRegex') ? strval($X) : (is_object($X) ? get_class($X) : $X)))));
						}
						$this->_rows[] = $K;
						foreach ($K as $x => $X) {
							if (!isset($this->_rows[0][$x])) {
								$this->_rows[0][$x] = null;
							}
						}
					}
					$this->num_rows = count($this->_rows);
				}

				function fetch_assoc() {
					$K = current($this->_rows);
					if (!$K) {
						return $K;
					}
					$J = [];
					foreach ($this->_rows[0] as $x => $X) {
						$J[$x] = $K[$x];
					}
					next($this->_rows);
					return $J;
				}

				function fetch_row() {
					$J = $this->fetch_assoc();
					if (!$J) {
						return $J;
					}
					return array_values($J);
				}

				function fetch_field() {
					$Id = array_keys($this->_rows[0]);
					$C = $Id[$this->_offset++];
					return (object)[
						'name' => $C,
						'charsetnr' => $this->_charset[$C],
					];
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			public $zf = "_id";

			function select($Q, $M, $Z, $Vc, $Te = [], $z = 1, $E = 0, $Af = false) {
				$M = ($M == ["*"] ? [] : array_fill_keys($M, true));
				$_g = [];
				foreach ($Te as $X) {
					$X = preg_replace('~ DESC$~', '', $X, 1, $_b);
					$_g[$X] = ($_b ? -1 : 1);
				}
				return new
				Min_Result($this->_conn->_db->selectCollection($Q)
					->find([], $M)
					->sort($_g)
					->limit(+$z)
					->skip($E * $z));
			}

			function insert($Q, $O) {
				try {
					$J = $this->_conn->_db->selectCollection($Q)
						->insert($O);
					$this->_conn->errno = $J['code'];
					$this->_conn->error = $J['err'];
					$this->_conn->last_id = $O['_id'];
					return !$J['err'];
				} catch (Exception$sc) {
					$this->_conn->error = $sc->getMessage();
					return false;
				}
			}
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				return $g;
			}
			return $g->error;
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function logged_user() {
			global $b;
			$j = $b->credentials();
			return $j[1];
		}

		function get_databases($Jc) {
			global $g;
			$J = [];
			$Hb = $g->_link->listDBs();
			foreach ($Hb['databases'] as $m) {
				$J[] = $m['name'];
			}
			return $J;
		}

		function collations() {
			return [];
		}

		function db_collation($m, $mb) {
		}

		function count_tables($l) {
			global $g;
			$J = [];
			foreach ($l as $m) {
				$J[$m] = count($g->_link->selectDB($m)
					->getCollectionNames(true));
			}
			return $J;
		}

		function tables_list() {
			global $g;
			return array_fill_keys($g->_db->getCollectionNames(true), 'table');
		}

		function table_status($C = "", $Cc = false) {
			$J = [];
			foreach (tables_list() as $Q => $U) {
				$J[$Q] = ["Name" => $Q];
				if ($C == $Q) {
					return $J[$Q];
				}
			}
			return $J;
		}

		function information_schema() {
		}

		function is_view($R) {
		}

		function drop_databases($l) {
			global $g;
			foreach ($l as $m) {
				$Yf = $g->_link->selectDB($m)
					->drop();
				if (!$Yf['ok']) {
					return false;
				}
			}
			return true;
		}

		function indexes($Q, $h = null) {
			global $g;
			$J = [];
			foreach ($g->_db->selectCollection($Q)
				         ->getIndexInfo() as $u) {
				$Nb = [];
				foreach ($u["key"] as $e => $U) {
					$Nb[] = ($U == -1 ? '1' : null);
				}
				$J[$u["name"]] = [
					"type" => ($u["name"] == "_id_" ? "PRIMARY" : ($u["unique"] ? "UNIQUE" : "INDEX")),
					"columns" => array_keys($u["key"]),
					"lengths" => [],
					"descs" => $Nb,
				];
			}
			return $J;
		}

		function fields($Q) {
			return fields_from_edit();
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function foreign_keys($Q) {
			return [];
		}

		function fk_support($R) {
		}

		function engines() {
			return [];
		}

		function found_rows($R, $Z) {
			global $g;
			return $g->_db->selectCollection($_GET["select"])
				->count($Z);
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			global $g;
			if ($Q == "") {
				$g->_db->createCollection($C);
				return true;
			}
		}

		function drop_tables($S) {
			global $g;
			foreach ($S as $Q) {
				$Yf = $g->_db->selectCollection($Q)
					->drop();
				if (!$Yf['ok']) {
					return false;
				}
			}
			return true;
		}

		function truncate_tables($S) {
			global $g;
			foreach ($S as $Q) {
				$Yf = $g->_db->selectCollection($Q)
					->remove();
				if (!$Yf['ok']) {
					return false;
				}
			}
			return true;
		}

		function alter_indexes($Q, $c) {
			global $g;
			foreach ($c as $X) {
				list($U, $C, $O) = $X;
				if ($O == "DROP") {
					$J = $g->_db->command([
						"deleteIndexes" => $Q,
						"index" => $C,
					]);
				} else {
					$f = [];
					foreach ($O as $e) {
						$e = preg_replace('~ DESC$~', '', $e, 1, $_b);
						$f[$e] = ($_b ? -1 : 1);
					}
					$J = $g->_db->selectCollection($Q)
						->ensureIndex($f, [
							"unique" => ($U == "UNIQUE"),
							"name" => $C,
						]);
				}
				if ($J['errmsg']) {
					$g->error = $J['errmsg'];
					return false;
				}
			}
			return true;
		}

		function last_id() {
			global $g;
			return $g->last_id;
		}

		function table($t) {
			return $t;
		}

		function idf_escape($t) {
			return $t;
		}

		function support($Dc) {
			return preg_match("~database|indexes~", $Dc);
		}

		$w = "mongo";
		$Oe = ["="];
		$Sc = [];
		$Xc = [];
		$dc = [["json"]];
	}
	$Vb["elastic"] = "Elasticsearch (beta)";
	if (isset($_GET["elastic"])) {
		$wf = ["json"];
		define("DRIVER", "elastic");
		if (function_exists('json_decode')) {
			class
			Min_DB {
				var $extension = "JSON", $server_info, $errno, $error, $_url;

				function rootQuery($nf, $vb = [], $oe = 'GET') {
					@ini_set('track_errors', 1);
					$Fc = @file_get_contents($this->_url . '/' . ltrim($nf, '/'), false, stream_context_create([
						'http' => [
							'method' => $oe,
							'content' => json_encode($vb),
							'ignore_errors' => 1,
						],
					]));
					if (!$Fc) {
						$this->error = $php_errormsg;
						return $Fc;
					}
					if (!preg_match('~^HTTP/[0-9.]+ 2~i', $http_response_header[0])) {
						$this->error = $Fc;
						return false;
					}
					$J = json_decode($Fc, true);
					if ($J === null) {
						$this->errno = json_last_error();
						if (function_exists('json_last_error_msg')) {
							$this->error = json_last_error_msg();
						} else {
							$ub = get_defined_constants(true);
							foreach ($ub['json'] as $C => $Y) {
								if ($Y == $this->errno && preg_match('~^JSON_ERROR_~', $C)) {
									$this->error = $C;
									break;
								}
							}
						}
					}
					return $J;
				}

				function query($nf, $vb = [], $oe = 'GET') {
					return $this->rootQuery(($this->_db != "" ? "$this->_db/" : "/") . ltrim($nf, '/'), $vb, $oe);
				}

				function connect($N, $V, $G) {
					$this->_url = "http://$V:$G@$N/";
					$J = $this->query('');
					if ($J) {
						$this->server_info = $J['version']['number'];
					}
					return (bool)$J;
				}

				function select_db($k) {
					$this->_db = $k;
					return true;
				}

				function quote($P) {
					return $P;
				}
			}

			class
			Min_Result {
				var $num_rows, $_rows;

				function __construct($L) {
					$this->num_rows = count($this->_rows);
					$this->_rows = $L;
					reset($this->_rows);
				}

				function fetch_assoc() {
					$J = current($this->_rows);
					next($this->_rows);
					return $J;
				}

				function fetch_row() {
					return array_values($this->fetch_assoc());
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function select($Q, $M, $Z, $Vc, $Te = [], $z = 1, $E = 0, $Af = false) {
				global $b;
				$Db = [];
				$H = "$Q/_search";
				if ($M != ["*"]) {
					$Db["fields"] = $M;
				}
				if ($Te) {
					$_g = [];
					foreach ($Te as $kb) {
						$kb = preg_replace('~ DESC$~', '', $kb, 1, $_b);
						$_g[] = ($_b ? [$kb => "desc"] : $kb);
					}
					$Db["sort"] = $_g;
				}
				if ($z) {
					$Db["size"] = +$z;
					if ($E) {
						$Db["from"] = ($E * $z);
					}
				}
				foreach ($Z as $X) {
					list($kb, $Me, $X) = explode(" ", $X, 3);
					if ($kb == "_id") {
						$Db["query"]["ids"]["values"][] = $X;
					} elseif ($kb . $X != "") {
						$bh = ["term" => [($kb != "" ? $kb : "_all") => $X]];
						if ($Me == "=") {
							$Db["query"]["filtered"]["filter"]["and"][] = $bh;
						} else {
							$Db["query"]["filtered"]["query"]["bool"]["must"][] = $bh;
						}
					}
				}
				if ($Db["query"] && !$Db["query"]["filtered"]["query"] && !$Db["query"]["ids"]) {
					$Db["query"]["filtered"]["query"] = ["match_all" => []];
				}
				$Eg = microtime(true);
				$mg = $this->_conn->query($H, $Db);
				if ($Af) {
					echo $b->selectQuery("$H: " . print_r($Db, true), format_time($Eg));
				}
				if (!$mg) {
					return false;
				}
				$J = [];
				foreach ($mg['hits']['hits'] as $ed) {
					$K = [];
					if ($M == ["*"]) {
						$K["_id"] = $ed["_id"];
					}
					$p = $ed['_source'];
					if ($M != ["*"]) {
						$p = [];
						foreach ($M as $x) {
							$p[$x] = $ed['fields'][$x];
						}
					}
					foreach ($p as $x => $X) {
						if ($Db["fields"]) {
							$X = $X[0];
						}
						$K[$x] = (is_array($X) ? json_encode($X) : $X);
					}
					$J[] = $K;
				}
				return new
				Min_Result($J);
			}
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				return $g;
			}
			return $g->error;
		}

		function support($Dc) {
			return preg_match("~database|table|columns~", $Dc);
		}

		function logged_user() {
			global $b;
			$j = $b->credentials();
			return $j[1];
		}

		function get_databases() {
			global $g;
			$J = $g->rootQuery('_aliases');
			if ($J) {
				$J = array_keys($J);
				sort($J, SORT_STRING);
			}
			return $J;
		}

		function collations() {
			return [];
		}

		function db_collation($m, $mb) {
		}

		function engines() {
			return [];
		}

		function count_tables($l) {
			global $g;
			$J = $g->query('_mapping');
			if ($J) {
				$J = array_map('count', $J);
			}
			return $J;
		}

		function tables_list() {
			global $g;
			$J = $g->query('_mapping');
			if ($J) {
				$J = array_fill_keys(array_keys($J[$g->_db]["mappings"]), 'table');
			}
			return $J;
		}

		function table_status($C = "", $Cc = false) {
			global $g;
			$mg = $g->query("_search?search_type=count", ["facets" => ["count_by_type" => ["terms" => ["field" => "_type",]]]], "POST");
			$J = [];
			if ($mg) {
				foreach ($mg["facets"]["count_by_type"]["terms"] as $Q) {
					$J[$Q["term"]] = [
						"Name" => $Q["term"],
						"Engine" => "table",
						"Rows" => $Q["count"],
					];
				}
				if ($C != "" && $C == $Q["term"]) {
					return $J[$C];
				}
			}
			return $J;
		}

		function error() {
			global $g;
			return h($g->error);
		}

		function information_schema() {
		}

		function is_view($R) {
		}

		function indexes($Q, $h = null) {
			return [
				[
					"type" => "PRIMARY",
					"columns" => ["_id"],
				],
			];
		}

		function fields($Q) {
			global $g;
			$I = $g->query("$Q/_mapping");
			$J = [];
			if ($I) {
				$Yd = $I[$Q]['properties'];
				if (!$Yd) {
					$Yd = $I[$g->_db]['mappings'][$Q]['properties'];
				}
				if ($Yd) {
					foreach ($Yd as $C => $o) {
						$J[$C] = [
							"field" => $C,
							"full_type" => $o["type"],
							"type" => $o["type"],
							"privileges" => [
								"insert" => 1,
								"select" => 1,
								"update" => 1,
							],
						];
						if ($o["properties"]) {
							unset($J[$C]["privileges"]["insert"]);
							unset($J[$C]["privileges"]["update"]);
						}
					}
				}
			}
			return $J;
		}

		function foreign_keys($Q) {
			return [];
		}

		function table($t) {
			return $t;
		}

		function idf_escape($t) {
			return $t;
		}

		function convert_field($o) {
		}

		function unconvert_field($o, $J) {
			return $J;
		}

		function fk_support($R) {
		}

		function found_rows($R, $Z) {
			return null;
		}

		function create_database($m) {
			global $g;
			return $g->rootQuery(urlencode($m), [], 'PUT');
		}

		function drop_databases($l) {
			global $g;
			return $g->rootQuery(urlencode(implode(',', $l)), [], 'DELETE');
		}

		function drop_tables($S) {
			global $g;
			$J = true;
			foreach ($S as $Q) {
				$J = $J && $g->query(urlencode($Q), [], 'DELETE');
			}
			return $J;
		}

		$w = "elastic";
		$Oe = [
			"=",
			"query",
		];
		$Sc = [];
		$Xc = [];
		$dc = [["json"]];
	}
	$Vb = ["server" => "MySQL"] + $Vb;
	if (!defined("DRIVER")) {
		$wf = [
			"MySQLi",
			"MySQL",
			"PDO_MySQL",
		];
		define("DRIVER", "server");
		if (extension_loaded("mysqli")) {
			class
			Min_DB extends MySQLi {
				var $extension = "MySQLi";

				function __construct() {
					parent::init();
				}

				function connect($N = "", $V = "", $G = "", $k = null, $sf = null, $zg = null) {
					mysqli_report(MYSQLI_REPORT_OFF);
					list($fd, $sf) = explode(":", $N, 2);
					$J = @$this->real_connect(($N != "" ? $fd : ini_get("mysqli.default_host")), ($N . $V != "" ? $V : ini_get("mysqli.default_user")), ($N . $V . $G != "" ? $G : ini_get("mysqli.default_pw")), $k, (is_numeric($sf) ? $sf : ini_get("mysqli.default_port")), (!is_numeric($sf) ? $sf : $zg));
					return $J;
				}

				function set_charset($Za) {
					if (parent::set_charset($Za)) {
						return true;
					}
					parent::set_charset('utf8');
					return $this->query("SET NAMES $Za");
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!$I) {
						return false;
					}
					$K = $I->fetch_array();
					return $K[$o];
				}

				function quote($P) {
					return "'" . $this->escape_string($P) . "'";
				}
			}
		} elseif (extension_loaded("mysql") && !(ini_get("sql.safe_mode") && extension_loaded("pdo_mysql"))) {
			class
			Min_DB {
				var $extension = "MySQL", $server_info, $affected_rows, $errno, $error, $_link, $_result;

				function connect($N, $V, $G) {
					$this->_link = @mysql_connect(($N != "" ? $N : ini_get("mysql.default_host")), ("$N$V" != "" ? $V : ini_get("mysql.default_user")), ("$N$V$G" != "" ? $G : ini_get("mysql.default_password")), true, 131072);
					if ($this->_link) {
						$this->server_info = mysql_get_server_info($this->_link);
					} else {
						$this->error = mysql_error();
					}
					return (bool)$this->_link;
				}

				function set_charset($Za) {
					if (function_exists('mysql_set_charset')) {
						if (mysql_set_charset($Za, $this->_link)) {
							return true;
						}
						mysql_set_charset('utf8', $this->_link);
					}
					return $this->query("SET NAMES $Za");
				}

				function quote($P) {
					return "'" . mysql_real_escape_string($P, $this->_link) . "'";
				}

				function select_db($k) {
					return mysql_select_db($k, $this->_link);
				}

				function query($H, $_h = false) {
					$I = @($_h ? mysql_unbuffered_query($H, $this->_link) : mysql_query($H, $this->_link));
					$this->error = "";
					if (!$I) {
						$this->errno = mysql_errno($this->_link);
						$this->error = mysql_error($this->_link);
						return false;
					}
					if ($I === true) {
						$this->affected_rows = mysql_affected_rows($this->_link);
						$this->info = mysql_info($this->_link);
						return true;
					}
					return new
					Min_Result($I);
				}

				function multi_query($H) {
					return $this->_result = $this->query($H);
				}

				function store_result() {
					return $this->_result;
				}

				function next_result() {
					return false;
				}

				function result($H, $o = 0) {
					$I = $this->query($H);
					if (!$I || !$I->num_rows) {
						return false;
					}
					return mysql_result($I->_result, 0, $o);
				}
			}

			class
			Min_Result {
				var $num_rows, $_result, $_offset = 0;

				function __construct($I) {
					$this->_result = $I;
					$this->num_rows = mysql_num_rows($I);
				}

				function fetch_assoc() {
					return mysql_fetch_assoc($this->_result);
				}

				function fetch_row() {
					return mysql_fetch_row($this->_result);
				}

				function fetch_field() {
					$J = mysql_fetch_field($this->_result, $this->_offset++);
					$J->orgtable = $J->table;
					$J->orgname = $J->name;
					$J->charsetnr = ($J->blob ? 63 : 0);
					return $J;
				}

				function __destruct() {
					mysql_free_result($this->_result);
				}
			}
		} elseif (extension_loaded("pdo_mysql")) {
			class
			Min_DB extends Min_PDO {
				var $extension = "PDO_MySQL";

				function connect($N, $V, $G) {
					$this->dsn("mysql:charset=utf8;host=" . str_replace(":", ";unix_socket=", preg_replace('~:(\\d)~', ';port=\\1', $N)), $V, $G);
					return true;
				}

				function set_charset($Za) {
					$this->query("SET NAMES $Za");
				}

				function select_db($k) {
					return $this->query("USE " . idf_escape($k));
				}

				function query($H, $_h = false) {
					$this->setAttribute(1000, !$_h);
					return parent::query($H, $_h);
				}
			}
		}

		class
		Min_Driver extends Min_SQL {
			function insert($Q, $O) {
				return ($O ? parent::insert($Q, $O) : queries("INSERT INTO " . table($Q) . " ()\nVALUES ()"));
			}

			function insertUpdate($Q, $L, $zf) {
				$f = array_keys(reset($L));
				$xf = "INSERT INTO " . table($Q) . " (" . implode(", ", $f) . ") VALUES\n";
				$Qh = [];
				foreach ($f as $x) {
					$Qh[$x] = "$x = VALUES($x)";
				}
				$Lg = "\nON DUPLICATE KEY UPDATE " . implode(", ", $Qh);
				$Qh = [];
				$y = 0;
				foreach ($L as $O) {
					$Y = "(" . implode(", ", $O) . ")";
					if ($Qh && (strlen($xf) + $y + strlen($Y) + strlen($Lg) > 1e6)) {
						if (!queries($xf . implode(",\n", $Qh) . $Lg)) {
							return false;
						}
						$Qh = [];
						$y = 0;
					}
					$Qh[] = $Y;
					$y += strlen($Y) + 2;
				}
				return queries($xf . implode(",\n", $Qh) . $Lg);
			}
		}

		function idf_escape($t) {
			return "`" . str_replace("`", "``", $t) . "`";
		}

		function table($t) {
			return idf_escape($t);
		}

		function connect() {
			global $b;
			$g = new
			Min_DB;
			$j = $b->credentials();
			if ($g->connect($j[0], $j[1], $j[2])) {
				$g->set_charset(charset($g));
				$g->query("SET sql_quote_show_create = 1, autocommit = 1");
				return $g;
			}
			$J = $g->error;
			if (function_exists('iconv') && !is_utf8($J) && strlen($ig = iconv("windows-1250", "utf-8", $J)) > strlen($J)) {
				$J = $ig;
			}
			return $J;
		}

		function get_databases($Jc) {
			global $g;
			$J = get_session("dbs");
			if ($J === null) {
				$H = ($g->server_info >= 5 ? "SELECT SCHEMA_NAME FROM information_schema.SCHEMATA" : "SHOW DATABASES");
				$J = ($Jc ? slow_query($H) : get_vals($H));
				restart_session();
				set_session("dbs", $J);
				stop_session();
			}
			return $J;
		}

		function limit($H, $Z, $z, $D = 0, $rg = " ") {
			return " $H$Z" . ($z !== null ? $rg . "LIMIT $z" . ($D ? " OFFSET $D" : "") : "");
		}

		function limit1($H, $Z) {
			return limit($H, $Z, 1);
		}

		function db_collation($m, $mb) {
			global $g;
			$J = null;
			$i = $g->result("SHOW CREATE DATABASE " . idf_escape($m), 1);
			if (preg_match('~ COLLATE ([^ ]+)~', $i, $B)) {
				$J = $B[1];
			} elseif (preg_match('~ CHARACTER SET ([^ ]+)~', $i, $B)) {
				$J = $mb[$B[1]][-1];
			}
			return $J;
		}

		function engines() {
			$J = [];
			foreach (get_rows("SHOW ENGINES") as $K) {
				if (preg_match("~YES|DEFAULT~", $K["Support"])) {
					$J[] = $K["Engine"];
				}
			}
			return $J;
		}

		function logged_user() {
			global $g;
			return $g->result("SELECT USER()");
		}

		function tables_list() {
			global $g;
			return get_key_vals($g->server_info >= 5 ? "SELECT TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = DATABASE() ORDER BY TABLE_NAME" : "SHOW TABLES");
		}

		function count_tables($l) {
			$J = [];
			foreach ($l as $m) {
				$J[$m] = count(get_vals("SHOW TABLES IN " . idf_escape($m)));
			}
			return $J;
		}

		function table_status($C = "", $Cc = false) {
			global $g;
			$J = [];
			foreach (get_rows($Cc && $g->server_info >= 5 ? "SELECT TABLE_NAME AS Name, Engine, TABLE_COMMENT AS Comment FROM information_schema.TABLES WHERE TABLE_SCHEMA = DATABASE() " . ($C != "" ? "AND TABLE_NAME = " . q($C) : "ORDER BY Name") : "SHOW TABLE STATUS" . ($C != "" ? " LIKE " . q(addcslashes($C, "%_\\")) : "")) as $K) {
				if ($K["Engine"] == "InnoDB") {
					$K["Comment"] = preg_replace('~(?:(.+); )?InnoDB free: .*~', '\\1', $K["Comment"]);
				}
				if (!isset($K["Engine"])) {
					$K["Comment"] = "";
				}
				if ($C != "") {
					return $K;
				}
				$J[$K["Name"]] = $K;
			}
			return $J;
		}

		function is_view($R) {
			return $R["Engine"] === null;
		}

		function fk_support($R) {
			global $g;
			return preg_match('~InnoDB|IBMDB2I~i', $R["Engine"]) || (preg_match('~NDB~i', $R["Engine"]) && version_compare($g->server_info, '5.6') >= 0);
		}

		function fields($Q) {
			$J = [];
			foreach (get_rows("SHOW FULL COLUMNS FROM " . table($Q)) as $K) {
				preg_match('~^([^( ]+)(?:\\((.+)\\))?( unsigned)?( zerofill)?$~', $K["Type"], $B);
				$J[$K["Field"]] = [
					"field" => $K["Field"],
					"full_type" => $K["Type"],
					"type" => $B[1],
					"length" => $B[2],
					"unsigned" => ltrim($B[3] . $B[4]),
					"default" => ($K["Default"] != "" || preg_match("~char|set~", $B[1]) ? $K["Default"] : null),
					"null" => ($K["Null"] == "YES"),
					"auto_increment" => ($K["Extra"] == "auto_increment"),
					"on_update" => (preg_match('~^on update (.+)~i', $K["Extra"], $B) ? $B[1] : ""),
					"collation" => $K["Collation"],
					"privileges" => array_flip(preg_split('~, *~', $K["Privileges"])),
					"comment" => $K["Comment"],
					"primary" => ($K["Key"] == "PRI"),
				];
			}
			return $J;
		}

		function indexes($Q, $h = null) {
			$J = [];
			foreach (get_rows("SHOW INDEX FROM " . table($Q), $h) as $K) {
				$J[$K["Key_name"]]["type"] = ($K["Key_name"] == "PRIMARY" ? "PRIMARY" : ($K["Index_type"] == "FULLTEXT" ? "FULLTEXT" : ($K["Non_unique"] ? "INDEX" : "UNIQUE")));
				$J[$K["Key_name"]]["columns"][] = $K["Column_name"];
				$J[$K["Key_name"]]["lengths"][] = $K["Sub_part"];
				$J[$K["Key_name"]]["descs"][] = null;
			}
			return $J;
		}

		function foreign_keys($Q) {
			global $g, $Je;
			static $pf = '`(?:[^`]|``)+`';
			$J = [];
			$Ab = $g->result("SHOW CREATE TABLE " . table($Q), 1);
			if ($Ab) {
				preg_match_all("~CONSTRAINT ($pf) FOREIGN KEY ?\\(((?:$pf,? ?)+)\\) REFERENCES ($pf)(?:\\.($pf))? \\(((?:$pf,? ?)+)\\)(?: ON DELETE ($Je))?(?: ON UPDATE ($Je))?~", $Ab, $ae, PREG_SET_ORDER);
				foreach ($ae as $B) {
					preg_match_all("~$pf~", $B[2], $Ag);
					preg_match_all("~$pf~", $B[5], $Yg);
					$J[idf_unescape($B[1])] = [
						"db" => idf_unescape($B[4] != "" ? $B[3] : $B[4]),
						"table" => idf_unescape($B[4] != "" ? $B[4] : $B[3]),
						"source" => array_map('idf_unescape', $Ag[0]),
						"target" => array_map('idf_unescape', $Yg[0]),
						"on_delete" => ($B[6] ? $B[6] : "RESTRICT"),
						"on_update" => ($B[7] ? $B[7] : "RESTRICT"),
					];
				}
			}
			return $J;
		}

		function view($C) {
			global $g;
			return ["select" => preg_replace('~^(?:[^`]|`[^`]*`)*\\s+AS\\s+~isU', '', $g->result("SHOW CREATE VIEW " . table($C), 1))];
		}

		function collations() {
			$J = [];
			foreach (get_rows("SHOW COLLATION") as $K) {
				if ($K["Default"]) {
					$J[$K["Charset"]][-1] = $K["Collation"];
				} else {
					$J[$K["Charset"]][] = $K["Collation"];
				}
			}
			ksort($J);
			foreach ($J as $x => $X) {
				asort($J[$x]);
			}
			return $J;
		}

		function information_schema($m) {
			global $g;
			return ($g->server_info >= 5 && $m == "information_schema") || ($g->server_info >= 5.5 && $m == "performance_schema");
		}

		function error() {
			global $g;
			return h(preg_replace('~^You have an error.*syntax to use~U', "Syntax error", $g->error));
		}

		function create_database($m, $d) {
			return queries("CREATE DATABASE " . idf_escape($m) . ($d ? " COLLATE " . q($d) : ""));
		}

		function drop_databases($l) {
			$J = apply_queries("DROP DATABASE", $l, 'idf_escape');
			restart_session();
			set_session("dbs", null);
			return $J;
		}

		function rename_database($C, $d) {
			$J = false;
			if (create_database($C, $d)) {
				$Wf = [];
				foreach (tables_list() as $Q => $U) {
					$Wf[] = table($Q) . " TO " . idf_escape($C) . "." . table($Q);
				}
				$J = (!$Wf || queries("RENAME TABLE " . implode(", ", $Wf)));
				if ($J) {
					queries("DROP DATABASE " . idf_escape(DB));
				}
				restart_session();
				set_session("dbs", null);
			}
			return $J;
		}

		function auto_increment() {
			$La = " PRIMARY KEY";
			if ($_GET["create"] != "" && $_POST["auto_increment_col"]) {
				foreach (indexes($_GET["create"]) as $u) {
					if (in_array($_POST["fields"][$_POST["auto_increment_col"]]["orig"], $u["columns"], true)) {
						$La = "";
						break;
					}
					if ($u["type"] == "PRIMARY") {
						$La = " UNIQUE";
					}
				}
			}
			return " AUTO_INCREMENT$La";
		}

		function alter_table($Q, $C, $p, $Kc, $qb, $lc, $d, $Ka, $kf) {
			$c = [];
			foreach ($p as $o) {
				$c[] = ($o[1] ? ($Q != "" ? ($o[0] != "" ? "CHANGE " . idf_escape($o[0]) : "ADD") : " ") . " " . implode($o[1]) . ($Q != "" ? $o[2] : "") : "DROP " . idf_escape($o[0]));
			}
			$c = array_merge($c, $Kc);
			$Fg = ($qb !== null ? " COMMENT=" . q($qb) : "") . ($lc ? " ENGINE=" . q($lc) : "") . ($d ? " COLLATE " . q($d) : "") . ($Ka != "" ? " AUTO_INCREMENT=$Ka" : "");
			if ($Q == "") {
				return queries("CREATE TABLE " . table($C) . " (\n" . implode(",\n", $c) . "\n)$Fg$kf");
			}
			if ($Q != $C) {
				$c[] = "RENAME TO " . table($C);
			}
			if ($Fg) {
				$c[] = ltrim($Fg);
			}
			return ($c || $kf ? queries("ALTER TABLE " . table($Q) . "\n" . implode(",\n", $c) . $kf) : true);
		}

		function alter_indexes($Q, $c) {
			foreach ($c as $x => $X) {
				$c[$x] = ($X[2] == "DROP" ? "\nDROP INDEX " . idf_escape($X[1]) : "\nADD $X[0] " . ($X[0] == "PRIMARY" ? "KEY " : "") . ($X[1] != "" ? idf_escape($X[1]) . " " : "") . "(" . implode(", ", $X[2]) . ")");
			}
			return queries("ALTER TABLE " . table($Q) . implode(",", $c));
		}

		function truncate_tables($S) {
			return apply_queries("TRUNCATE TABLE", $S);
		}

		function drop_views($Vh) {
			return queries("DROP VIEW " . implode(", ", array_map('table', $Vh)));
		}

		function drop_tables($S) {
			return queries("DROP TABLE " . implode(", ", array_map('table', $S)));
		}

		function move_tables($S, $Vh, $Yg) {
			$Wf = [];
			foreach (array_merge($S, $Vh) as $Q) {
				$Wf[] = table($Q) . " TO " . idf_escape($Yg) . "." . table($Q);
			}
			return queries("RENAME TABLE " . implode(", ", $Wf));
		}

		function copy_tables($S, $Vh, $Yg) {
			queries("SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO'");
			foreach ($S as $Q) {
				$C = ($Yg == DB ? table("copy_$Q") : idf_escape($Yg) . "." . table($Q));
				if (!queries("\nDROP TABLE IF EXISTS $C") || !queries("CREATE TABLE $C LIKE " . table($Q)) || !queries("INSERT INTO $C SELECT * FROM " . table($Q))) {
					return false;
				}
			}
			foreach ($Vh as $Q) {
				$C = ($Yg == DB ? table("copy_$Q") : idf_escape($Yg) . "." . table($Q));
				$Uh = view($Q);
				if (!queries("DROP VIEW IF EXISTS $C") || !queries("CREATE VIEW $C AS $Uh[select]")) {
					return false;
				}
			}
			return true;
		}

		function trigger($C) {
			if ($C == "") {
				return [];
			}
			$L = get_rows("SHOW TRIGGERS WHERE `Trigger` = " . q($C));
			return reset($L);
		}

		function triggers($Q) {
			$J = [];
			foreach (get_rows("SHOW TRIGGERS LIKE " . q(addcslashes($Q, "%_\\"))) as $K) {
				$J[$K["Trigger"]] = [
					$K["Timing"],
					$K["Event"],
				];
			}
			return $J;
		}

		function trigger_options() {
			return [
				"Timing" => [
					"BEFORE",
					"AFTER",
				],
				"Event" => [
					"INSERT",
					"UPDATE",
					"DELETE",
				],
				"Type" => ["FOR EACH ROW"],
			];
		}

		function routine($C, $U) {
			global $g, $nc, $sd, $zh;
			$Ba = [
				"bool",
				"boolean",
				"integer",
				"double precision",
				"real",
				"dec",
				"numeric",
				"fixed",
				"national char",
				"national varchar",
			];
			$yh = "((" . implode("|", array_merge(array_keys($zh), $Ba)) . ")\\b(?:\\s*\\(((?:[^'\")]|$nc)++)\\))?\\s*(zerofill\\s*)?(unsigned(?:\\s+zerofill)?)?)(?:\\s*(?:CHARSET|CHARACTER\\s+SET)\\s*['\"]?([^'\"\\s,]+)['\"]?)?";
			$pf = "\\s*(" . ($U == "FUNCTION" ? "" : $sd) . ")?\\s*(?:`((?:[^`]|``)*)`\\s*|\\b(\\S+)\\s+)$yh";
			$i = $g->result("SHOW CREATE $U " . idf_escape($C), 2);
			preg_match("~\\(((?:$pf\\s*,?)*)\\)\\s*" . ($U == "FUNCTION" ? "RETURNS\\s+$yh\\s+" : "") . "(.*)~is", $i, $B);
			$p = [];
			preg_match_all("~$pf\\s*,?~is", $B[1], $ae, PREG_SET_ORDER);
			foreach ($ae as $ff) {
				$C = str_replace("``", "`", $ff[2]) . $ff[3];
				$p[] = [
					"field" => $C,
					"type" => strtolower($ff[5]),
					"length" => preg_replace_callback("~$nc~s", 'normalize_enum', $ff[6]),
					"unsigned" => strtolower(preg_replace('~\\s+~', ' ', trim("$ff[8] $ff[7]"))),
					"null" => 1,
					"full_type" => $ff[4],
					"inout" => strtoupper($ff[1]),
					"collation" => strtolower($ff[9]),
				];
			}
			if ($U != "FUNCTION") {
				return [
					"fields" => $p,
					"definition" => $B[11],
				];
			}
			return [
				"fields" => $p,
				"returns" => [
					"type" => $B[12],
					"length" => $B[13],
					"unsigned" => $B[15],
					"collation" => $B[16],
				],
				"definition" => $B[17],
				"language" => "SQL",
			];
		}

		function routines() {
			return get_rows("SELECT ROUTINE_NAME, ROUTINE_TYPE, DTD_IDENTIFIER FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = " . q(DB));
		}

		function routine_languages() {
			return [];
		}

		function last_id() {
			global $g;
			return $g->result("SELECT LAST_INSERT_ID()");
		}

		function explain($g, $H) {
			return $g->query("EXPLAIN " . ($g->server_info >= 5.1 ? "PARTITIONS " : "") . $H);
		}

		function found_rows($R, $Z) {
			return ($Z || $R["Engine"] != "InnoDB" ? null : $R["Rows"]);
		}

		function types() {
			return [];
		}

		function schemas() {
			return [];
		}

		function get_schema() {
			return "";
		}

		function set_schema($kg) {
			return true;
		}

		function create_sql($Q, $Ka) {
			global $g;
			$J = $g->result("SHOW CREATE TABLE " . table($Q), 1);
			if (!$Ka) {
				$J = preg_replace('~ AUTO_INCREMENT=\\d+~', '', $J);
			}
			return $J;
		}

		function truncate_sql($Q) {
			return "TRUNCATE " . table($Q);
		}

		function use_sql($k) {
			return "USE " . idf_escape($k);
		}

		function trigger_sql($Q, $Jg) {
			$J = "";
			foreach (get_rows("SHOW TRIGGERS LIKE " . q(addcslashes($Q, "%_\\")), null, "-- ") as $K) {
				$J .= "\n" . ($Jg == 'CREATE+ALTER' ? "DROP TRIGGER IF EXISTS " . idf_escape($K["Trigger"]) . ";;\n" : "") . "CREATE TRIGGER " . idf_escape($K["Trigger"]) . " $K[Timing] $K[Event] ON " . table($K["Table"]) . " FOR EACH ROW\n$K[Statement];;\n";
			}
			return $J;
		}

		function show_variables() {
			return get_key_vals("SHOW VARIABLES");
		}

		function process_list() {
			return get_rows("SHOW FULL PROCESSLIST");
		}

		function show_status() {
			return get_key_vals("SHOW STATUS");
		}

		function convert_field($o) {
			if (preg_match("~binary~", $o["type"])) {
				return "HEX(" . idf_escape($o["field"]) . ")";
			}
			if ($o["type"] == "bit") {
				return "BIN(" . idf_escape($o["field"]) . " + 0)";
			}
			if (preg_match("~geometry|point|linestring|polygon~", $o["type"])) {
				return "AsWKT(" . idf_escape($o["field"]) . ")";
			}
		}

		function unconvert_field($o, $J) {
			if (preg_match("~binary~", $o["type"])) {
				$J = "UNHEX($J)";
			}
			if ($o["type"] == "bit") {
				$J = "CONV($J, 2, 10) + 0";
			}
			if (preg_match("~geometry|point|linestring|polygon~", $o["type"])) {
				$J = "GeomFromText($J)";
			}
			return $J;
		}

		function support($Dc) {
			global $g;
			return !preg_match("~scheme|sequence|type|view_trigger" . ($g->server_info < 5.1 ? "|event|partitioning" . ($g->server_info < 5 ? "|routine|trigger|view" : "") : "") . "~", $Dc);
		}

		function kill_process($X) {
			return queries("KILL " . number($X));
		}

		function max_connections() {
			global $g;
			return $g->result("SELECT @@max_connections");
		}

		$w = "sql";
		$zh = [];
		$Ig = [];
		foreach ([
			         'Čísla' => [
				         "tinyint" => 3,
				         "smallint" => 5,
				         "mediumint" => 8,
				         "int" => 10,
				         "bigint" => 20,
				         "decimal" => 66,
				         "float" => 12,
				         "double" => 21,
			         ],
			         'Datum a čas' => [
				         "date" => 10,
				         "datetime" => 19,
				         "timestamp" => 19,
				         "time" => 10,
				         "year" => 4,
			         ],
			         'Řetězce' => [
				         "char" => 255,
				         "varchar" => 65535,
				         "tinytext" => 255,
				         "text" => 65535,
				         "mediumtext" => 16777215,
				         "longtext" => 4294967295,
			         ],
			         'Seznamy' => [
				         "enum" => 65535,
				         "set" => 64,
			         ],
			         'Binární' => [
				         "bit" => 20,
				         "binary" => 255,
				         "varbinary" => 65535,
				         "tinyblob" => 255,
				         "blob" => 65535,
				         "mediumblob" => 16777215,
				         "longblob" => 4294967295,
			         ],
			         'Geometrie' => [
				         "geometry" => 0,
				         "point" => 0,
				         "linestring" => 0,
				         "polygon" => 0,
				         "multipoint" => 0,
				         "multilinestring" => 0,
				         "multipolygon" => 0,
				         "geometrycollection" => 0,
			         ],
		         ] as $x => $X) {
			$zh += $X;
			$Ig[$x] = array_keys($X);
		}
		$Fh = [
			"unsigned",
			"zerofill",
			"unsigned zerofill",
		];
		$Oe = [
			"=",
			"<",
			">",
			"<=",
			">=",
			"!=",
			"LIKE",
			"LIKE %%",
			"REGEXP",
			"IN",
			"IS NULL",
			"NOT LIKE",
			"NOT REGEXP",
			"NOT IN",
			"IS NOT NULL",
			"SQL",
		];
		$Sc = [
			"char_length",
			"date",
			"from_unixtime",
			"lower",
			"round",
			"sec_to_time",
			"time_to_sec",
			"upper",
		];
		$Xc = [
			"avg",
			"count",
			"count distinct",
			"group_concat",
			"max",
			"min",
			"sum",
		];
		$dc = [
			[
				"char" => "md5/sha1/password/encrypt/uuid",
				"binary" => "md5/sha1",
				"date|time" => "now",
			],
			[
				"(^|[^o])int|float|double|decimal" => "+/-",
				"date" => "+ interval/- interval",
				"time" => "addtime/subtime",
				"char|text" => "concat",
			],
		];
	}
	define("SERVER", $_GET[DRIVER]);
	define("DB", $_GET["db"]);
	define("ME", preg_replace('~^[^?]*/([^?]*).*~', '\\1', $_SERVER["REQUEST_URI"]) . '?' . (sid() ? SID . '&' : '') . (SERVER !== null ? DRIVER . "=" . urlencode(SERVER) . '&' : '') . (isset($_GET["username"]) ? "username=" . urlencode($_GET["username"]) . '&' : '') . (DB != "" ? 'db=' . urlencode(DB) . '&' . (isset($_GET["ns"]) ? "ns=" . urlencode($_GET["ns"]) . "&" : "") : ''));
	$ia = "4.2.5";

	class
	Adminer {
		var $operators;

		function credentials() {
			return [
				SERVER,
				$_GET["username"],
				get_password(),
			];
		}

		function permanentLogin($i = false) {
			return password_file($i);
		}

		function bruteForceKey() {
			return $_SERVER["REMOTE_ADDR"];
		}

		function database() {
			return DB;
		}

		function schemas() {
			return schemas();
		}

		function queryTimeout() {
			return 5;
		}

		function headers() {
			return true;
		}

		function head() {
			return true;
		}

		function loginForm() {
			global $Vb;
			echo '<table cellspacing="0">
<tr><th>Systém<td>', html_select("auth[driver]", $Vb, DRIVER), '<tr><th>Server<td><input name="auth[server]" value="', h(SERVER), '" title="hostname[:port]" placeholder="localhost" autocapitalize="off">
<tr><th>Uživatel<td><input name="auth[username]" id="username" value="', h($_GET["username"]), '" autocapitalize="off">
<tr><th>Heslo<td><input type="password" name="auth[password]">
<tr><th>Databáze<td><input name="auth[db]" value="', h($_GET["db"]), '" autocapitalize="off">
</table>
<script type="text/javascript">
focus(document.getElementById(\'username\'));
</script>
', "<p><input type='submit' value='" . 'Přihlásit se' . "'>\n", checkbox("auth[permanent]", 1, $_COOKIE["adminer_permanent"], 'Trvalé přihlášení') . "\n";
		}

		function login($Wd, $G) {
			global $w;
			if ($w == "sqlite") {
				return sprintf('Pro přihlášení k SQLite implementujte metodu %s.', 'login()');
			}
			return true;
		}

		function fieldName($o, $Te = 0) {
			return '<span title="' . h($o["full_type"]) . '">' . h($o["field"]) . '</span>';
		}

		function selectLinks($Pg, $O = "") {
			echo '<p class="links">';
			$Vd = ["select" => 'Vypsat data'];
			if (support("table") || support("indexes")) {
				$Vd["table"] = 'Zobrazit strukturu';
			}
			if (support("table")) {
				if (is_view($Pg)) {
					$Vd["view"] = 'Pozměnit pohled';
				} else {
					$Vd["create"] = 'Pozměnit tabulku';
				}
			}
			if ($O !== null) {
				$Vd["edit"] = 'Nová položka';
			}
			foreach ($Vd as $x => $X) {
				echo " <a href='" . h(ME) . "$x=" . urlencode($Pg["Name"]) . ($x == "edit" ? $O : "") . "'" . bold(isset($_GET[$x])) . ">$X</a>";
			}
			echo "\n";
		}

		function foreignKeys($Q) {
			return foreign_keys($Q);
		}

		function backwardKeys($Q, $Og) {
			return [];
		}

		function backwardKeysPrint($Na, $K) {
		}

		function selectQuery($H, $fh) {
			global $w;
			return "<p><code class='jush-$w'>" . h(str_replace("\n", " ", $H)) . "</code> <span class='time'>($fh)</span>" . (support("sql") ? " <a href='" . h(ME) . "sql=" . urlencode($H) . "'>" . 'Upravit' . "</a>" : "") . "</p>";
		}

		function rowDescription($Q) {
			return "";
		}

		function rowDescriptions($L, $Lc) {
			return $L;
		}

		function selectLink($X, $o) {
		}

		function selectVal($X, $_, $o, $af) {
			$J = ($X === null ? "<i>NULL</i>" : (preg_match("~char|binary~", $o["type"]) && !preg_match("~var~", $o["type"]) ? "<code>$X</code>" : $X));
			if (preg_match('~blob|bytea|raw|file~', $o["type"]) && !is_utf8($X)) {
				$J = lang([
					'%d bajt',
					'%d bajty',
					'%d bajtů',
				], strlen($af));
			}
			return ($_ ? "<a href='" . h($_) . "'" . (is_url($_) ? " rel='noreferrer'" : "") . ">$J</a>" : $J);
		}

		function editVal($X, $o) {
			return $X;
		}

		function selectColumnsPrint($M, $f) {
			global $Sc, $Xc;
			print_fieldset("select", 'Vypsat', $M);
			$s = 0;
			$M[""] = [];
			foreach ($M as $x => $X) {
				$X = $_GET["columns"][$x];
				$e = select_input(" name='columns[$s][col]' onchange='" . ($x !== "" ? "selectFieldChange(this.form)" : "selectAddRow(this)") . ";'", $f, $X["col"]);
				echo "<div>" . ($Sc || $Xc ? "<select name='columns[$s][fun]' onchange='helpClose();" . ($x !== "" ? "" : " this.nextSibling.nextSibling.onchange();") . "'" . on_help("getTarget(event).value && getTarget(event).value.replace(/ |\$/, '(') + ')'", 1) . ">" . optionlist([-1 => ""] + array_filter([
								'Funkce' => $Sc,
								'Agregace' => $Xc,
							]), $X["fun"]) . "</select>" . "($e)" : $e) . "</div>\n";
				$s++;
			}
			echo "</div></fieldset>\n";
		}

		function selectSearchPrint($Z, $f, $v) {
			print_fieldset("search", 'Vyhledat', $Z);
			foreach ($v as $s => $u) {
				if ($u["type"] == "FULLTEXT") {
					echo "(<i>" . implode("</i>, <i>", array_map('h', $u["columns"])) . "</i>) AGAINST", " <input type='search' name='fulltext[$s]' value='" . h($_GET["fulltext"][$s]) . "' onchange='selectFieldChange(this.form);'>", checkbox("boolean[$s]", 1, isset($_GET["boolean"][$s]), "BOOL"), "<br>\n";
				}
			}
			$_GET["where"] = (array)$_GET["where"];
			reset($_GET["where"]);
			$Ya = "this.nextSibling.onchange();";
			for ($s = 0; $s <= count($_GET["where"]); $s++) {
				list(, $X) = each($_GET["where"]);
				if (!$X || ("$X[col]$X[val]" != "" && in_array($X["op"], $this->operators))) {
					echo "<div>" . select_input(" name='where[$s][col]' onchange='$Ya'", $f, $X["col"], "(" . 'kdekoliv' . ")"), html_select("where[$s][op]", $this->operators, $X["op"], $Ya), "<input type='search' name='where[$s][val]' value='" . h($X["val"]) . "' onchange='" . ($X ? "selectFieldChange(this.form)" : "selectAddRow(this)") . ";' onkeydown='selectSearchKeydown(this, event);' onsearch='selectSearchSearch(this);'></div>\n";
				}
			}
			echo "</div></fieldset>\n";
		}

		function selectOrderPrint($Te, $f, $v) {
			print_fieldset("sort", 'Seřadit', $Te);
			$s = 0;
			foreach ((array)$_GET["order"] as $x => $X) {
				if ($X != "") {
					echo "<div>" . select_input(" name='order[$s]' onchange='selectFieldChange(this.form);'", $f, $X), checkbox("desc[$s]", 1, isset($_GET["desc"][$x]), 'sestupně') . "</div>\n";
					$s++;
				}
			}
			echo "<div>" . select_input(" name='order[$s]' onchange='selectAddRow(this);'", $f), checkbox("desc[$s]", 1, false, 'sestupně') . "</div>\n", "</div></fieldset>\n";
		}

		function selectLimitPrint($z) {
			echo "<fieldset><legend>" . 'Limit' . "</legend><div>";
			echo "<input type='number' name='limit' class='size' value='" . h($z) . "' onchange='selectFieldChange(this.form);'>", "</div></fieldset>\n";
		}

		function selectLengthPrint($eh) {
			if ($eh !== null) {
				echo "<fieldset><legend>" . 'Délka textů' . "</legend><div>", "<input type='number' name='text_length' class='size' value='" . h($eh) . "'>", "</div></fieldset>\n";
			}
		}

		function selectActionPrint($v) {
			echo "<fieldset><legend>" . 'Akce' . "</legend><div>", "<input type='submit' value='" . 'Vypsat' . "'>", " <span id='noindex' title='" . 'Průchod celé tabulky' . "'></span>", "<script type='text/javascript'>\n", "var indexColumns = ";
			$f = [];
			foreach ($v as $u) {
				if ($u["type"] != "FULLTEXT") {
					$f[reset($u["columns"])] = 1;
				}
			}
			$f[""] = 1;
			foreach ($f as $x => $X) {
				json_row($x);
			}
			echo ";\n", "selectFieldChange(document.getElementById('form'));\n", "</script>\n", "</div></fieldset>\n";
		}

		function selectCommandPrint() {
			return !information_schema(DB);
		}

		function selectImportPrint() {
			return !information_schema(DB);
		}

		function selectEmailPrint($ic, $f) {
		}

		function selectColumnsProcess($f, $v) {
			global $Sc, $Xc;
			$M = [];
			$Vc = [];
			foreach ((array)$_GET["columns"] as $x => $X) {
				if ($X["fun"] == "count" || ($X["col"] != "" && (!$X["fun"] || in_array($X["fun"], $Sc) || in_array($X["fun"], $Xc)))) {
					$M[$x] = apply_sql_function($X["fun"], ($X["col"] != "" ? idf_escape($X["col"]) : "*"));
					if (!in_array($X["fun"], $Xc)) {
						$Vc[] = $M[$x];
					}
				}
			}
			return [
				$M,
				$Vc,
			];
		}

		function selectSearchProcess($p, $v) {
			global $g, $w;
			$J = [];
			foreach ($v as $s => $u) {
				if ($u["type"] == "FULLTEXT" && $_GET["fulltext"][$s] != "") {
					$J[] = "MATCH (" . implode(", ", array_map('idf_escape', $u["columns"])) . ") AGAINST (" . q($_GET["fulltext"][$s]) . (isset($_GET["boolean"][$s]) ? " IN BOOLEAN MODE" : "") . ")";
				}
			}
			foreach ((array)$_GET["where"] as $X) {
				if ("$X[col]$X[val]" != "" && in_array($X["op"], $this->operators)) {
					$sb = " $X[op]";
					if (preg_match('~IN$~', $X["op"])) {
						$ld = process_length($X["val"]);
						$sb .= " " . ($ld != "" ? $ld : "(NULL)");
					} elseif ($X["op"] == "SQL") {
						$sb = " $X[val]";
					} elseif ($X["op"] == "LIKE %%") {
						$sb = " LIKE " . $this->processInput($p[$X["col"]], "%$X[val]%");
					} elseif ($X["op"] == "ILIKE %%") {
						$sb = " ILIKE " . $this->processInput($p[$X["col"]], "%$X[val]%");
					} elseif (!preg_match('~NULL$~', $X["op"])) {
						$sb .= " " . $this->processInput($p[$X["col"]], $X["val"]);
					}
					if ($X["col"] != "") {
						$J[] = idf_escape($X["col"]) . $sb;
					} else {
						$nb = [];
						foreach ($p as $C => $o) {
							$Ad = preg_match('~char|text|enum|set~', $o["type"]);
							if ((is_numeric($X["val"]) || !preg_match('~(^|[^o])int|float|double|decimal|bit~', $o["type"])) && (!preg_match("~[\x80-\xFF]~", $X["val"]) || $Ad)) {
								$C = idf_escape($C);
								$nb[] = ($w == "sql" && $Ad && !preg_match("~^utf8_~", $o["collation"]) ? "CONVERT($C USING " . charset($g) . ")" : $C);
							}
						}
						$J[] = ($nb ? "(" . implode("$sb OR ", $nb) . "$sb)" : "0");
					}
				}
			}
			return $J;
		}

		function processInput($o, $Y, $r = "") {
			if ($r == "SQL") {
				return $Y;
			}
			$C = $o["field"];
			$J = q($Y);
			if (preg_match('~^(now|getdate|uuid)$~', $r)) {
				$J = "$r()";
			} elseif (preg_match('~^current_(date|timestamp)$~', $r)) {
				$J = $r;
			} elseif (preg_match('~^([+-]|\\|\\|)$~', $r)) {
				$J = idf_escape($C) . " $r $J";
			} elseif (preg_match('~^[+-] interval$~', $r)) {
				$J = idf_escape($C) . " $r " . (preg_match("~^(\\d+|'[0-9.: -]') [A-Z_]+$~i", $Y) ? $Y : $J);
			} elseif (preg_match('~^(addtime|subtime|concat)$~', $r)) {
				$J = "$r(" . idf_escape($C) . ", $J)";
			} elseif (preg_match('~^(md5|sha1|password|encrypt)$~', $r)) {
				$J = "$r($J)";
			}
			return unconvert_field($o, $J);
		}

		function selectOrderProcess($p, $v) {
			$J = [];
			foreach ((array)$_GET["order"] as $x => $X) {
				if ($X != "") {
					$J[] = (preg_match('~^((COUNT\\(DISTINCT |[A-Z0-9_]+\\()(`(?:[^`]|``)+`|"(?:[^"]|"")+")\\)|COUNT\\(\\*\\))$~', $X) ? $X : idf_escape($X)) . (isset($_GET["desc"][$x]) ? " DESC" : "");
				}
			}
			return $J;
		}

		function selectLimitProcess() {
			return (isset($_GET["limit"]) ? $_GET["limit"] : "50");
		}

		function selectLengthProcess() {
			return (isset($_GET["text_length"]) ? $_GET["text_length"] : "100");
		}

		function selectEmailProcess($Z, $Lc) {
			return false;
		}

		function selectQueryBuild($M, $Z, $Vc, $Te, $z, $E) {
			return "";
		}

		function messageQuery($H, $fh) {
			global $w;
			restart_session();
			$cd =& get_session("queries");
			$hd = "sql-" . count($cd[$_GET["db"]]);
			if (strlen($H) > 1e6) {
				$H = preg_replace('~[\x80-\xFF]+$~', '', substr($H, 0, 1e6)) . "\n...";
			}
			$cd[$_GET["db"]][] = [
				$H,
				time(),
				$fh,
			];
			return " <span class='time'>" . @date("H:i:s") . "</span> <a href='#$hd' onclick=\"return !toggle('$hd');\">" . 'SQL příkaz' . "</a>" . "<div id='$hd' class='hidden'><pre><code class='jush-$w'>" . shorten_utf8($H, 1000) . '</code></pre>' . ($fh ? " <span class='time'>($fh)</span>" : '') . (support("sql") ? '<p><a href="' . h(str_replace("db=" . urlencode(DB), "db=" . urlencode($_GET["db"]), ME) . 'sql=&history=' . (count($cd[$_GET["db"]]) - 1)) . '">' . 'Upravit' . '</a>' : '') . '</div>';
		}

		function editFunctions($o) {
			global $dc;
			$J = ($o["null"] ? "NULL/" : "");
			foreach ($dc as $x => $Sc) {
				if (!$x || (!isset($_GET["call"]) && (isset($_GET["select"]) || where($_GET)))) {
					foreach ($Sc as $pf => $X) {
						if (!$pf || preg_match("~$pf~", $o["type"])) {
							$J .= "/$X";
						}
					}
					if ($x && !preg_match('~set|blob|bytea|raw|file~', $o["type"])) {
						$J .= "/SQL";
					}
				}
			}
			if ($o["auto_increment"] && !isset($_GET["select"]) && !where($_GET)) {
				$J = 'Auto Increment';
			}
			return explode("/", $J);
		}

		function editInput($Q, $o, $Ia, $Y) {
			if ($o["type"] == "enum") {
				return (isset($_GET["select"]) ? "<label><input type='radio'$Ia value='-1' checked><i>" . 'původní' . "</i></label> " : "") . ($o["null"] ? "<label><input type='radio'$Ia value=''" . ($Y !== null || isset($_GET["select"]) ? "" : " checked") . "><i>NULL</i></label> " : "") . enum_input("radio", $Ia, $o, $Y, 0);
			}
			return "";
		}

		function dumpOutput() {
			$J = [
				'text' => 'otevřít',
				'file' => 'uložit',
			];
			if (function_exists('gzencode')) {
				$J['gz'] = 'gzip';
			}
			return $J;
		}

		function dumpFormat() {
			return [
				'sql' => 'SQL',
				'csv' => 'CSV,',
				'csv;' => 'CSV;',
				'tsv' => 'TSV',
			];
		}

		function dumpDatabase($m) {
		}

		function dumpTable($Q, $Jg, $Bd = 0) {
			if ($_POST["format"] != "sql") {
				echo "\xef\xbb\xbf";
				if ($Jg) {
					dump_csv(array_keys(fields($Q)));
				}
			} else {
				if ($Bd == 2) {
					$p = [];
					foreach (fields($Q) as $C => $o) {
						$p[] = idf_escape($C) . " $o[full_type]";
					}
					$i = "CREATE TABLE " . table($Q) . " (" . implode(", ", $p) . ")";
				} else {
					$i = create_sql($Q, $_POST["auto_increment"]);
				}
				set_utf8mb4($i);
				if ($Jg && $i) {
					if ($Jg == "DROP+CREATE" || $Bd == 1) {
						echo "DROP " . ($Bd == 2 ? "VIEW" : "TABLE") . " IF EXISTS " . table($Q) . ";\n";
					}
					if ($Bd == 1) {
						$i = remove_definer($i);
					}
					echo "$i;\n\n";
				}
			}
		}

		function dumpData($Q, $Jg, $H) {
			global $g, $w;
			$ce = ($w == "sqlite" ? 0 : 1048576);
			if ($Jg) {
				if ($_POST["format"] == "sql") {
					if ($Jg == "TRUNCATE+INSERT") {
						echo truncate_sql($Q) . ";\n";
					}
					$p = fields($Q);
				}
				$I = $g->query($H, 1);
				if ($I) {
					$ud = "";
					$Wa = "";
					$Id = [];
					$Lg = "";
					$Ec = ($Q != '' ? 'fetch_assoc' : 'fetch_row');
					while ($K = $I->$Ec()) {
						if (!$Id) {
							$Qh = [];
							foreach ($K as $X) {
								$o = $I->fetch_field();
								$Id[] = $o->name;
								$x = idf_escape($o->name);
								$Qh[] = "$x = VALUES($x)";
							}
							$Lg = ($Jg == "INSERT+UPDATE" ? "\nON DUPLICATE KEY UPDATE " . implode(", ", $Qh) : "") . ";\n";
						}
						if ($_POST["format"] != "sql") {
							if ($Jg == "table") {
								dump_csv($Id);
								$Jg = "INSERT";
							}
							dump_csv($K);
						} else {
							if (!$ud) {
								$ud = "INSERT INTO " . table($Q) . " (" . implode(", ", array_map('idf_escape', $Id)) . ") VALUES";
							}
							foreach ($K as $x => $X) {
								$o = $p[$x];
								$K[$x] = ($X !== null ? unconvert_field($o, preg_match('~(^|[^o])int|float|double|decimal~', $o["type"]) && $X != '' ? $X : q($X)) : "NULL");
							}
							$ig = ($ce ? "\n" : " ") . "(" . implode(",\t", $K) . ")";
							if (!$Wa) {
								$Wa = $ud . $ig;
							} elseif (strlen($Wa) + 4 + strlen($ig) + strlen($Lg) < $ce) {
								$Wa .= ",$ig";
							} else {
								echo $Wa . $Lg;
								$Wa = $ud . $ig;
							}
						}
					}
					if ($Wa) {
						echo $Wa . $Lg;
					}
				} elseif ($_POST["format"] == "sql") {
					echo "-- " . str_replace("\n", " ", $g->error) . "\n";
				}
			}
		}

		function dumpFilename($id) {
			return friendly_url($id != "" ? $id : (SERVER != "" ? SERVER : "localhost"));
		}

		function dumpHeaders($id, $re = false) {
			$df = $_POST["output"];
			$zc = (preg_match('~sql~', $_POST["format"]) ? "sql" : ($re ? "tar" : "csv"));
			header("Content-Type: " . ($df == "gz" ? "application/x-gzip" : ($zc == "tar" ? "application/x-tar" : ($zc == "sql" || $df != "file" ? "text/plain" : "text/csv") . "; charset=utf-8")));
			if ($df == "gz") {
				ob_start('ob_gzencode', 1e6);
			}
			return $zc;
		}

		function homepage() {
			echo '<p class="links">' . ($_GET["ns"] == "" && support("database") ? '<a href="' . h(ME) . 'database=">' . 'Pozměnit databázi' . "</a>\n" : ""), (support("scheme") ? "<a href='" . h(ME) . "scheme='>" . ($_GET["ns"] != "" ? 'Pozměnit schéma' : 'Vytvořit schéma') . "</a>\n" : ""), ($_GET["ns"] !== "" ? '<a href="' . h(ME) . 'schema=">' . 'Schéma databáze' . "</a>\n" : ""), (support("privileges") ? "<a href='" . h(ME) . "privileges='>" . 'Oprávnění' . "</a>\n" : "");
			return true;
		}

		function navigation($qe) {
			global $ia, $w, $Vb, $g;
			echo '<h1>
', $this->name(), ' <span class="version">', $ia, '</span>
<a href="https://www.adminer.org/#download" target="_blank" id="version">', (version_compare($ia, $_COOKIE["adminer_version"]) < 0 ? h($_COOKIE["adminer_version"]) : ""), '</a>
</h1>
';
			if ($qe == "auth") {
				$Ic = true;
				foreach ((array)$_SESSION["pwds"] as $Sh => $vg) {
					foreach ($vg as $N => $Nh) {
						foreach ($Nh as $V => $G) {
							if ($G !== null) {
								if ($Ic) {
									echo "<p id='logins' onmouseover='menuOver(this, event);' onmouseout='menuOut(this);'>\n";
									$Ic = false;
								}
								$Hb = $_SESSION["db"][$Sh][$N][$V];
								foreach (($Hb ? array_keys($Hb) : [""]) as $m) {
									echo "<a href='" . h(auth_url($Sh, $N, $V, $m)) . "'>($Vb[$Sh]) " . h($V . ($N != "" ? "@$N" : "") . ($m != "" ? " - $m" : "")) . "</a><br>\n";
								}
							}
						}
					}
				}
			} else {
				if ($_GET["ns"] !== "" && !$qe && DB != "") {
					$g->select_db(DB);
					$S = table_status('', true);
				}
				if (support("sql")) {
					echo '<script type="text/javascript" src="', h(preg_replace("~\\?.*~", "", ME)) . "?file=jush.js&amp;version=4.2.5", '"></script>
<script type="text/javascript">
';
					if ($S) {
						$Vd = [];
						foreach ($S as $Q => $U) {
							$Vd[] = preg_quote($Q, '/');
						}
						echo "var jushLinks = { $w: [ '" . js_escape(ME) . (support("table") ? "table=" : "select=") . "\$&', /\\b(" . implode("|", $Vd) . ")\\b/g ] };\n";
						foreach ([
							         "bac",
							         "bra",
							         "sqlite_quo",
							         "mssql_bra",
						         ] as $X) {
							echo "jushLinks.$X = jushLinks.$w;\n";
						}
					}
					echo 'bodyLoad(\'', (is_object($g) ? substr($g->server_info, 0, 3) : ""), '\');
</script>
';
				}
				$this->databasesPrint($qe);
				if (DB == "" || !$qe) {
					echo "<p class='links'>" . (support("sql") ? "<a href='" . h(ME) . "sql='" . bold(isset($_GET["sql"]) && !isset($_GET["import"])) . ">" . 'SQL příkaz' . "</a>\n<a href='" . h(ME) . "import='" . bold(isset($_GET["import"])) . ">" . 'Import' . "</a>\n" : "") . "";
					if (support("dump")) {
						echo "<a href='" . h(ME) . "dump=" . urlencode(isset($_GET["table"]) ? $_GET["table"] : $_GET["select"]) . "' id='dump'" . bold(isset($_GET["dump"])) . ">" . 'Export' . "</a>\n";
					}
				}
				if ($_GET["ns"] !== "" && !$qe && DB != "") {
					echo '<a href="' . h(ME) . 'create="' . bold($_GET["create"] === "") . ">" . 'Vytvořit tabulku' . "</a>\n";
					if (!$S) {
						echo "<p class='message'>" . 'Žádné tabulky.' . "\n";
					} else {
						$this->tablesPrint($S);
					}
				}
			}
		}

		function name() {
			return "<a href='https://www.adminer.org/' target='_blank' id='h1'>Adminer</a>";
		}

		function databasesPrint($qe) {
			global $b, $g;
			$l = $this->databases();
			echo '<form action="">
<p id="dbs">
';
			hidden_fields_get();
			$Fb = " onmousedown='dbMouseDown(event, this);' onchange='dbChange(this);'";
			echo "<span title='" . 'databáze' . "'>DB</span>: " . ($l ? "<select name='db'$Fb>" . optionlist(["" => ""] + $l, DB) . "</select>" : '<input name="db" value="' . h(DB) . '" autocapitalize="off">'), "<input type='submit' value='" . 'Vybrat' . "'" . ($l ? " class='hidden'" : "") . ">\n";
			if ($qe != "db" && DB != "" && $g->select_db(DB)) {
				if (support("scheme")) {
					echo "<br>" . 'Schéma' . ": <select name='ns'$Fb>" . optionlist(["" => ""] + $b->schemas(), $_GET["ns"]) . "</select>";
					if ($_GET["ns"] != "") {
						set_schema($_GET["ns"]);
					}
				}
			}
			echo(isset($_GET["sql"]) ? '<input type="hidden" name="sql" value="">' : (isset($_GET["schema"]) ? '<input type="hidden" name="schema" value="">' : (isset($_GET["dump"]) ? '<input type="hidden" name="dump" value="">' : (isset($_GET["privileges"]) ? '<input type="hidden" name="privileges" value="">' : "")))), "</p></form>\n";
		}

		function databases($Jc = true) {
			return get_databases($Jc);
		}

		function tablesPrint($S) {
			echo "<p id='tables' onmouseover='menuOver(this, event);' onmouseout='menuOut(this);'>\n";
			foreach ($S as $Q => $Fg) {
				echo '<a href="' . h(ME) . 'select=' . urlencode($Q) . '"' . bold($_GET["select"] == $Q || $_GET["edit"] == $Q, "select") . ">" . 'vypsat' . "</a> ";
				$C = $this->tableName($Fg);
				echo (support("table") || support("indexes") ? '<a href="' . h(ME) . 'table=' . urlencode($Q) . '"' . bold(in_array($Q, [
							$_GET["table"],
							$_GET["create"],
							$_GET["indexes"],
							$_GET["foreign"],
							$_GET["trigger"],
						]), (is_view($Fg) ? "view" : ""), "structure") . " title='" . 'Zobrazit strukturu' . "'>$C</a>" : "<span>$C</span>") . "<br>\n";
			}
		}

		function tableName($Pg) {
			return h($Pg["Name"]);
		}
	}

	$b = (function_exists('adminer_object') ? adminer_object() : new
	Adminer);
	if ($b->operators === null) {
		$b->operators = $Oe;
	}
function page_header($ih, $n = "", $Va = [], $jh = ""){
	global $ca, $ia, $b, $Vb, $w;
	page_headers();
	if (is_ajax() && $n) {
		page_messages($n);
		exit;
	}
	$kh = $ih . ($jh != "" ? ": $jh" : "");
	$lh = strip_tags($kh . (SERVER != "" && SERVER != "localhost" ? h(" - " . SERVER) : "") . " - " . $b->name());
	echo '<!DOCTYPE html>
<html lang="cs" dir="ltr">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="robots" content="noindex">
<meta name="referrer" content="origin-when-crossorigin">
<title>', $lh, '</title>
<link rel="stylesheet" type="text/css" href="', h(preg_replace("~\\?.*~", "", ME)) . "?file=default.css&amp;version=4.2.5", '">
<script type="text/javascript" src="', h(preg_replace("~\\?.*~", "", ME)) . "?file=functions.js&amp;version=4.2.5", '"></script>
';
	if ($b->head()) {
		echo '<link rel="shortcut icon" type="image/x-icon" href="', h(preg_replace("~\\?.*~", "", ME)) . "?file=favicon.ico&amp;version=4.2.5", '">
<link rel="apple-touch-icon" href="', h(preg_replace("~\\?.*~", "", ME)) . "?file=favicon.ico&amp;version=4.2.5", '">
';
		if (file_exists("adminer.css")) {
			echo '<link rel="stylesheet" type="text/css" href="adminer.css">
';
		}
	}
	echo '
<body class="ltr nojs" onkeydown="bodyKeydown(event);" onclick="bodyClick(event);"', (isset($_COOKIE["adminer_version"]) ? "" : " onload=\"verifyVersion('$ia');\""); ?>>
	<script type="text/javascript">
		document.body.className = document.body.className.replace(/ nojs/, ' js');
		var offlineMessage = '<?php echo js_escape('Jste offline.'), '\';
</script>

<div id="help" class="jush-', $w, ' jsonly hidden" onmouseover="helpOpen = 1;" onmouseout="helpMouseout(this, event);"></div>

<div id="content">
';if ($Va !== null) {
			$_ = substr(preg_replace('~\b(username|db|ns)=[^&]*&~', '', ME), 0, -1);
			echo '<p id="breadcrumb"><a href="' . h($_ ? $_ : ".") . '">' . $Vb[DRIVER] . '</a> &raquo; ';
			$_ = substr(preg_replace('~\b(db|ns)=[^&]*&~', '', ME), 0, -1);
			$N = (SERVER != "" ? h(SERVER) : 'Server');
			if ($Va === false) {
				echo "$N\n";
			} else {
				echo "<a href='" . ($_ ? h($_) : ".") . "' accesskey='1' title='Alt+Shift+1'>$N</a> &raquo; ";
				if ($_GET["ns"] != "" || (DB != "" && is_array($Va))) {
					echo '<a href="' . h($_ . "&db=" . urlencode(DB) . (support("scheme") ? "&ns=" : "")) . '">' . h(DB) . '</a> &raquo; ';
				}
				if (is_array($Va)) {
					if ($_GET["ns"] != "") {
						echo '<a href="' . h(substr(ME, 0, -1)) . '">' . h($_GET["ns"]) . '</a> &raquo; ';
					}
					foreach ($Va as $x => $X) {
						$Mb = (is_array($X) ? $X[1] : h($X));
						if ($Mb != "") {
							echo "<a href='" . h(ME . "$x=") . urlencode(is_array($X) ? $X[0] : $X) . "'>$Mb</a> &raquo; ";
						}
					}
				}
				echo "$ih\n";
			}
		}echo "<h2>$kh</h2>\n", "<div id='ajaxstatus' class='jsonly hidden'></div>\n";restart_session();page_messages($n);$l =& get_session("dbs");if (DB != "" && $l && !in_array(DB, $l, true)) {
			$l = null;
		}stop_session();define("PAGE_HEADER", 1);}function page_headers() {
			global $b;
			header("Content-Type: text/html; charset=utf-8");
			header("Cache-Control: no-cache");
			if ($b->headers()) {
				header("X-Frame-Options: deny");
				header("X-XSS-Protection: 0");
			}
		}function page_messages($n) {
			$Hh = preg_replace('~^[^?]*~', '', $_SERVER["REQUEST_URI"]);
			$me = $_SESSION["messages"][$Hh];
			if ($me) {
				echo "<div class='message'>" . implode("</div>\n<div class='message'>", $me) . "</div>\n";
				unset($_SESSION["messages"][$Hh]);
			}
			if ($n) {
				echo "<div class='error'>$n</div>\n";
			}
		}function page_footer($qe = "") {
			global $b, $T;
			echo '</div>

';
			if ($qe != "auth") {
				echo '<form action="" method="post">
<p class="logout">
<input type="submit" name="logout" value="Odhlásit" id="logout">
<input type="hidden" name="token" value="', $T, '">
</p>
</form>
';
			}
			echo '<div id="menu">
';
			$b->navigation($qe);
			echo '</div>
<script type="text/javascript">setupSubmitHighlight(document);</script>
';
		}function int32($te) {
			while ($te >= 2147483648) {
				$te -= 4294967296;
			}
			while ($te <= -2147483649) {
				$te += 4294967296;
			}
			return (int)$te;
		}function long2str($W, $Xh) {
			$ig = '';
			foreach ($W as $X) {
				$ig .= pack('V', $X);
			}
			if ($Xh) {
				return substr($ig, 0, end($W));
			}
			return $ig;
		}function str2long($ig, $Xh) {
			$W = array_values(unpack('V*', str_pad($ig, 4 * ceil(strlen($ig) / 4), "\0")));
			if ($Xh) {
				$W[] = strlen($ig);
			}
			return $W;
		}function xxtea_mx($di, $ci, $Mg, $Ed) {
			return int32((($di >> 5 & 0x7FFFFFF) ^ $ci << 2) + (($ci >> 3 & 0x1FFFFFFF) ^ $di << 4)) ^ int32(($Mg ^ $ci) + ($Ed ^ $di));
		}function encrypt_string($Hg, $x) {
			if ($Hg == "") {
				return "";
			}
			$x = array_values(unpack("V*", pack("H*", md5($x))));
			$W = str2long($Hg, true);
			$te = count($W) - 1;
			$di = $W[$te];
			$ci = $W[0];
			$Hf = floor(6 + 52 / ($te + 1));
			$Mg = 0;
			while ($Hf-- > 0) {
				$Mg = int32($Mg + 0x9E3779B9);
				$cc = $Mg >> 2 & 3;
				for ($ef = 0; $ef < $te; $ef++) {
					$ci = $W[$ef + 1];
					$se = xxtea_mx($di, $ci, $Mg, $x[$ef & 3 ^ $cc]);
					$di = int32($W[$ef] + $se);
					$W[$ef] = $di;
				}
				$ci = $W[0];
				$se = xxtea_mx($di, $ci, $Mg, $x[$ef & 3 ^ $cc]);
				$di = int32($W[$te] + $se);
				$W[$te] = $di;
			}
			return long2str($W, false);
		}function decrypt_string($Hg, $x) {
			if ($Hg == "") {
				return "";
			}
			if (!$x) {
				return false;
			}
			$x = array_values(unpack("V*", pack("H*", md5($x))));
			$W = str2long($Hg, false);
			$te = count($W) - 1;
			$di = $W[$te];
			$ci = $W[0];
			$Hf = floor(6 + 52 / ($te + 1));
			$Mg = int32($Hf * 0x9E3779B9);
			while ($Mg) {
				$cc = $Mg >> 2 & 3;
				for ($ef = $te; $ef > 0; $ef--) {
					$di = $W[$ef - 1];
					$se = xxtea_mx($di, $ci, $Mg, $x[$ef & 3 ^ $cc]);
					$ci = int32($W[$ef] - $se);
					$W[$ef] = $ci;
				}
				$di = $W[$te];
				$se = xxtea_mx($di, $ci, $Mg, $x[$ef & 3 ^ $cc]);
				$ci = int32($W[0] - $se);
				$W[0] = $ci;
				$Mg = int32($Mg - 0x9E3779B9);
			}
			return long2str($W, true);
		}$g = '';$bd = $_SESSION["token"];if (!$bd) {
			$_SESSION["token"] = rand(1, 1e6);
		}$T = get_token();$qf = [];if ($_COOKIE["adminer_permanent"]) {
			foreach (explode(" ", $_COOKIE["adminer_permanent"]) as $X) {
				list($x) = explode(":", $X);
				$qf[$x] = $X;
			}
		}function add_invalid_login() {
			global $b;
			$Gc = get_temp_dir() . "/adminer.invalid";
			$Qc = @fopen($Gc, "r+");
			if (!$Qc) {
				$Qc = @fopen($Gc, "w");
				if (!$Qc) {
					return;
				}
			}
			flock($Qc, LOCK_EX);
			$xd = unserialize(stream_get_contents($Qc));
			$fh = time();
			if ($xd) {
				foreach ($xd as $yd => $X) {
					if ($X[0] < $fh) {
						unset($xd[$yd]);
					}
				}
			}
			$wd =& $xd[$b->bruteForceKey()];
			if (!$wd) {
				$wd = [
					$fh + 30 * 60,
					0,
				];
			}
			$wd[1]++;
			$tg = serialize($xd);
			rewind($Qc);
			fwrite($Qc, $tg);
			ftruncate($Qc, strlen($tg));
			flock($Qc, LOCK_UN);
			fclose($Qc);
		}$Ja = $_POST["auth"];if ($Ja) {
			$xd = unserialize(@file_get_contents(get_temp_dir() . "/adminer.invalid"));
			$wd = $xd[$b->bruteForceKey()];
			$ze = ($wd[1] > 30 ? $wd[0] - time() : 0);
			if ($ze > 0) {
				auth_error(lang([
					'Příliš mnoho pokusů o přihlášení, zkuste to znovu za %d minutu.',
					'Příliš mnoho pokusů o přihlášení, zkuste to znovu za %d minuty.',
					'Příliš mnoho pokusů o přihlášení, zkuste to znovu za %d minut.',
				], ceil($ze / 60)));
			}
			session_regenerate_id();
			$Sh = $Ja["driver"];
			$N = $Ja["server"];
			$V = $Ja["username"];
			$G = (string)$Ja["password"];
			$m = $Ja["db"];
			set_password($Sh, $N, $V, $G);
			$_SESSION["db"][$Sh][$N][$V][$m] = true;
			if ($Ja["permanent"]) {
				$x = base64_encode($Sh) . "-" . base64_encode($N) . "-" . base64_encode($V) . "-" . base64_encode($m);
				$Bf = $b->permanentLogin(true);
				$qf[$x] = "$x:" . base64_encode($Bf ? encrypt_string($G, $Bf) : "");
				cookie("adminer_permanent", implode(" ", $qf));
			}
			if (count($_POST) == 1 || DRIVER != $Sh || SERVER != $N || $_GET["username"] !== $V || DB != $m) {
				redirect(auth_url($Sh, $N, $V, $m));
			}
		} elseif ($_POST["logout"]) {
			if ($bd && !verify_token()) {
				page_header('Odhlásit', 'Neplatný token CSRF. Odešlete formulář znovu.');
				page_footer("db");
				exit;
			} else {
				foreach ([
					         "pwds",
					         "db",
					         "dbs",
					         "queries",
				         ] as $x) {
					set_session($x, null);
				}
				unset_permanent();
				redirect(substr(preg_replace('~\b(username|db|ns)=[^&]*&~', '', ME), 0, -1), 'Odhlášení proběhlo v pořádku.');
			}
		} elseif ($qf && !$_SESSION["pwds"]) {
			session_regenerate_id();
			$Bf = $b->permanentLogin();
			foreach ($qf as $x => $X) {
				list(, $gb) = explode(":", $X);
				list($Sh, $N, $V, $m) = array_map('base64_decode', explode("-", $x));
				set_password($Sh, $N, $V, decrypt_string(base64_decode($gb), $Bf));
				$_SESSION["db"][$Sh][$N][$V][$m] = true;
			}
		}function unset_permanent() {
			global $qf;
			foreach ($qf as $x => $X) {
				list($Sh, $N, $V, $m) = array_map('base64_decode', explode("-", $x));
				if ($Sh == DRIVER && $N == SERVER && $V == $_GET["username"] && $m == DB) {
					unset($qf[$x]);
				}
			}
			cookie("adminer_permanent", implode(" ", $qf));
		}function auth_error($n) {
			global $b, $bd;
			$n = h($n);
			$wg = session_name();
			if (isset($_GET["username"])) {
				header("HTTP/1.1 403 Forbidden");
				if (($_COOKIE[$wg] || $_GET[$wg]) && !$bd) {
					$n = 'Session vypršela, přihlašte se prosím znovu.';
				} else {
					add_invalid_login();
					$G = get_password();
					if ($G !== null) {
						if ($G === false) {
							$n .= '<br>' . sprintf('Platnost hlavního hesla vypršela. <a href="https://www.adminer.org/cs/extension/" target="_blank">Implementujte</a> metodu %s, aby platilo stále.', '<code>permanentLogin()</code>');
						}
						set_password(DRIVER, SERVER, $_GET["username"], null);
					}
					unset_permanent();
				}
			}
			if (!$_COOKIE[$wg] && $_GET[$wg] && ini_bool("session.use_only_cookies")) {
				$n = 'Session proměnné musí být povolené.';
			}
			$F = session_get_cookie_params();
			cookie("adminer_key", ($_COOKIE["adminer_key"] ? $_COOKIE["adminer_key"] : rand_string()), $F["lifetime"]);
			page_header('Přihlásit se', $n, null);
			echo "<form action='' method='post'>\n";
			$b->loginForm();
			echo "<div>";
			hidden_fields($_POST, ["auth"]);
			echo "</div>\n", "</form>\n";
			page_footer("auth");
			exit;
		}if (isset($_GET["username"])) {
			if (!class_exists("Min_DB")) {
				unset($_SESSION["pwds"][DRIVER]);
				unset_permanent();
				page_header('Žádné rozšíření', sprintf('Není dostupné žádné z podporovaných PHP rozšíření (%s).', implode(", ", $wf)), false);
				page_footer("auth");
				exit;
			}
			$g = connect();
		}$Ub = new
		Min_Driver($g);if (!is_object($g) || ($Wd = $b->login($_GET["username"], get_password())) !== true) {
			auth_error((is_string($g) ? $g : (is_string($Wd) ? $Wd : 'Neplatné přihlašovací údaje.')));
		}if ($Ja && $_POST["token"]) {
			$_POST["token"] = $T;
		}$n = '';if ($_POST) {
			if (!verify_token()) {
				$rd = "max_input_vars";
				$ge = ini_get($rd);
				if (extension_loaded("suhosin")) {
					foreach ([
						         "suhosin.request.max_vars",
						         "suhosin.post.max_vars",
					         ] as $x) {
						$X = ini_get($x);
						if ($X && (!$ge || $X < $ge)) {
							$rd = $x;
							$ge = $X;
						}
					}
				}
				$n = (!$_POST["token"] && $ge ? sprintf('Byl překročen maximální povolený počet polí. Zvyšte prosím %s.', "'$rd'") : 'Neplatný token CSRF. Odešlete formulář znovu.' . ' ' . 'Pokud jste tento požadavek neposlali z Adminera, tak tuto stránku zavřete.');
			}
		} elseif ($_SERVER["REQUEST_METHOD"] == "POST") {
			$n = sprintf('Příliš velká POST data. Zmenšete data nebo zvyšte hodnotu konfigurační direktivy %s.', "'post_max_size'");
			if (isset($_GET["sql"])) {
				$n .= ' ' . 'Velký SQL soubor můžete nahrát pomocí FTP a importovat ho ze serveru.';
			}
		}if (!ini_bool("session.use_cookies") || @ini_set("session.use_cookies", false) !== false) {
			session_write_close();
		}function select($I, $h = null, $We = [], $z = 0) {
			global $w;
			$Vd = [];
			$v = [];
			$f = [];
			$Sa = [];
			$zh = [];
			$J = [];
			odd('');
			for ($s = 0; (!$z || $s < $z) && ($K = $I->fetch_row()); $s++) {
				if (!$s) {
					echo "<table cellspacing='0' class='nowrap'>\n", "<thead><tr>";
					for ($Dd = 0; $Dd < count($K); $Dd++) {
						$o = $I->fetch_field();
						$C = $o->name;
						$Ve = $o->orgtable;
						$Ue = $o->orgname;
						$J[$o->table] = $Ve;
						if ($We && $w == "sql") {
							$Vd[$Dd] = ($C == "table" ? "table=" : ($C == "possible_keys" ? "indexes=" : null));
						} elseif ($Ve != "") {
							if (!isset($v[$Ve])) {
								$v[$Ve] = [];
								foreach (indexes($Ve, $h) as $u) {
									if ($u["type"] == "PRIMARY") {
										$v[$Ve] = array_flip($u["columns"]);
										break;
									}
								}
								$f[$Ve] = $v[$Ve];
							}
							if (isset($f[$Ve][$Ue])) {
								unset($f[$Ve][$Ue]);
								$v[$Ve][$Ue] = $Dd;
								$Vd[$Dd] = $Ve;
							}
						}
						if ($o->charsetnr == 63) {
							$Sa[$Dd] = true;
						}
						$zh[$Dd] = $o->type;
						echo "<th" . ($Ve != "" || $o->name != $Ue ? " title='" . h(($Ve != "" ? "$Ve." : "") . $Ue) . "'" : "") . ">" . h($C) . ($We ? doc_link(['sql' => "explain-output.html#explain_" . strtolower($C)]) : "");
					}
					echo "</thead>\n";
				}
				echo "<tr" . odd() . ">";
				foreach ($K as $x => $X) {
					if ($X === null) {
						$X = "<i>NULL</i>";
					} elseif ($Sa[$x] && !is_utf8($X)) {
						$X = "<i>" . lang([
								'%d bajt',
								'%d bajty',
								'%d bajtů',
							], strlen($X)) . "</i>";
					} elseif (!strlen($X)) {
						$X = "&nbsp;";
					} else {
						$X = h($X);
						if ($zh[$x] == 254) {
							$X = "<code>$X</code>";
						}
					}
					if (isset($Vd[$x]) && !$f[$Vd[$x]]) {
						if ($We && $w == "sql") {
							$Q = $K[array_search("table=", $Vd)];
							$_ = $Vd[$x] . urlencode($We[$Q] != "" ? $We[$Q] : $Q);
						} else {
							$_ = "edit=" . urlencode($Vd[$x]);
							foreach ($v[$Vd[$x]] as $kb => $Dd) {
								$_ .= "&where" . urlencode("[" . bracket_escape($kb) . "]") . "=" . urlencode($K[$Dd]);
							}
						}
						$X = "<a href='" . h(ME . $_) . "'>$X</a>";
					}
					echo "<td>$X";
				}
			}
			echo ($s ? "</table>" : "<p class='message'>" . 'Žádné řádky.') . "\n";
			return $J;
		}function referencable_primary($qg) {
			$J = [];
			foreach (table_status('', true) as $Qg => $Q) {
				if ($Qg != $qg && fk_support($Q)) {
					foreach (fields($Qg) as $o) {
						if ($o["primary"]) {
							if ($J[$Qg]) {
								unset($J[$Qg]);
								break;
							}
							$J[$Qg] = $o;
						}
					}
				}
			}
			return $J;
		}function textarea($C, $Y, $L = 10, $nb = 80) {
			global $w;
			echo "<textarea name='$C' rows='$L' cols='$nb' class='sqlarea jush-$w' spellcheck='false' wrap='off'>";
			if (is_array($Y)) {
				foreach ($Y as $X) {
					echo h($X[0]) . "\n\n\n";
				}
			} else {
				echo h($Y);
			}
			echo "</textarea>";
		}function edit_type($x, $o, $mb, $Mc = []) {
			global $Ig, $zh, $Fh, $Je;
			$U = $o["type"];
			echo '<td><select name="', h($x), '[type]" class="type" onfocus="lastType = selectValue(this);" onchange="editingTypeChange(this);"', on_help("getTarget(event).value", 1), '>';
			if ($U && !isset($zh[$U]) && !isset($Mc[$U])) {
				array_unshift($Ig, $U);
			}
			if ($Mc) {
				$Ig['Cizí klíče'] = $Mc;
			}
			echo optionlist($Ig, $U), '</select>
<td><input name="', h($x), '[length]" value="', h($o["length"]), '" size="3" onfocus="editingLengthFocus(this);"', (!$o["length"] && preg_match('~var(char|binary)$~', $U) ? " class='required'" : ""), ' onchange="editingLengthChange(this);" onkeyup="this.onchange();"><td class="options">';
			echo "<select name='" . h($x) . "[collation]'" . (preg_match('~(char|text|enum|set)$~', $U) ? "" : " class='hidden'") . '><option value="">(' . 'porovnávání' . ')' . optionlist($mb, $o["collation"]) . '</select>', ($Fh ? "<select name='" . h($x) . "[unsigned]'" . (!$U || preg_match('~((^|[^o])int|float|double|decimal)$~', $U) ? "" : " class='hidden'") . '><option>' . optionlist($Fh, $o["unsigned"]) . '</select>' : ''), (isset($o['on_update']) ? "<select name='" . h($x) . "[on_update]'" . (preg_match('~timestamp|datetime~', $U) ? "" : " class='hidden'") . '>' . optionlist([
					"" => "(" . 'Při změně' . ")",
					"CURRENT_TIMESTAMP",
				], $o["on_update"]) . '</select>' : ''), ($Mc ? "<select name='" . h($x) . "[on_delete]'" . (preg_match("~`~", $U) ? "" : " class='hidden'") . "><option value=''>(" . 'Při smazání' . ")" . optionlist(explode("|", $Je), $o["on_delete"]) . "</select> " : " ");
		}function process_length($y) {
			global $nc;
			return (preg_match("~^\\s*\\(?\\s*$nc(?:\\s*,\\s*$nc)*+\\s*\\)?\\s*\$~", $y) && preg_match_all("~$nc~", $y, $ae) ? "(" . implode(",", $ae[0]) . ")" : preg_replace('~^[0-9].*~', '(\0)', preg_replace('~[^-0-9,+()[\]]~', '', $y)));
		}function process_type($o, $lb = "COLLATE") {
			global $Fh;
			return " $o[type]" . process_length($o["length"]) . (preg_match('~(^|[^o])int|float|double|decimal~', $o["type"]) && in_array($o["unsigned"], $Fh) ? " $o[unsigned]" : "") . (preg_match('~char|text|enum|set~', $o["type"]) && $o["collation"] ? " $lb " . q($o["collation"]) : "");
		}function process_field($o, $xh) {
			global $w;
			$Jb = $o["default"];
			return [
				idf_escape(trim($o["field"])),
				process_type($xh),
				($o["null"] ? " NULL" : " NOT NULL"),
				(isset($Jb) ? " DEFAULT " . ((preg_match('~time~', $o["type"]) && preg_match('~^CURRENT_TIMESTAMP$~i', $Jb)) || ($w == "sqlite" && preg_match('~^CURRENT_(TIME|TIMESTAMP|DATE)$~i', $Jb)) || ($o["type"] == "bit" && preg_match("~^([0-9]+|b'[0-1]+')\$~", $Jb)) || ($w == "pgsql" && preg_match("~^[a-z]+\\(('[^']*')+\\)\$~", $Jb)) ? $Jb : q($Jb)) : ""),
				(preg_match('~timestamp|datetime~', $o["type"]) && $o["on_update"] ? " ON UPDATE $o[on_update]" : ""),
				(support("comment") && $o["comment"] != "" ? " COMMENT " . q($o["comment"]) : ""),
				($o["auto_increment"] ? auto_increment() : null),
			];
		}function type_class($U) {
			foreach ([
				         'char' => 'text',
				         'date' => 'time|year',
				         'binary' => 'blob',
				         'enum' => 'set',
			         ] as $x => $X) {
				if (preg_match("~$x|$X~", $U)) {
					return " class='$x'";
				}
			}
		}function
			edit_fields($p, $mb, $U = "TABLE", $Mc = [], $rb = false){global$g, $sd;$p = array_values($p);echo '<thead><tr class="wrap">
';if ($U == "PROCEDURE") {
			echo '<td>&nbsp;';
		}echo '<th>', ($U == "TABLE" ? 'Název sloupce' : 'Název parametru'), '<td>Typ<textarea id="enum-edit" rows="4" cols="12" wrap="off" style="display: none;" onblur="editingLengthBlur(this);"></textarea>
<td>Délka
<td>Volby
';if ($U == "TABLE") {
			echo '<td>NULL
<td><input type="radio" name="auto_increment_col" value=""><acronym title="Auto Increment">AI</acronym>', doc_link([
				'sql' => "example-auto-increment.html",
				'sqlite' => "autoinc.html",
				'pgsql' => "datatype.html#DATATYPE-SERIAL",
				'mssql' => "ms186775.aspx",
			]), '<td>Výchozí hodnota
', (support("comment") ? "<td" . ($rb ? "" : " class='hidden'") . ">" . 'Komentář' : "");
		}echo '<td>', "<input type='image' class='icon' name='add[" . (support("move_col") ? 0 : count($p)) . "]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=plus.gif&amp;version=4.2.5' alt='+' title='" . 'Přidat další' . "'>", '<script type="text/javascript">row_count = ', count($p), ';</script>
</thead>
<tbody onkeydown="return editingKeydown(event);">
';foreach($p
			as$s=>$o){$s++;$Xe = $o[($_POST ? "orig" : "field")];$Qb = (isset($_POST["add"][$s - 1]) || (isset($o["field"]) && !$_POST["drop_col"][$s])) && (support("drop_col") || $Xe == "");echo '<tr', ($Qb ? "" : " style='display: none;'"), '>
', ($U == "PROCEDURE" ? "<td>" . html_select("fields[$s][inout]", explode("|", $sd), $o["inout"]) : ""), '<th>';if ($Qb) {
			echo '<input name="fields[', $s, '][field]" value="', h($o["field"]), '" onchange="editingNameChange(this);', ($o["field"] != "" || count($p) > 1 ? '' : ' editingAddRow(this);" onkeyup="if (this.value) editingAddRow(this);'), '" maxlength="64" autocapitalize="off">';
		}echo '<input type="hidden" name="fields[', $s, '][orig]" value="', h($Xe), '">
';edit_type("fields[$s]", $o, $mb, $Mc);if($U == "TABLE"){echo '<td>', checkbox("fields[$s][null]", 1, $o["null"], "", "", "block"), '<td><label class="block"><input type="radio" name="auto_increment_col" value="', $s, '"';if ($o["auto_increment"]) {
			echo ' checked';
		}?> onclick="var field = this.form['
		fields[' + this.value + '][field]
		']; if (!field.value) { field.value = '
		id
		'; field.onchange(); }"></label><td><?php
			echo checkbox("fields[$s][has_default]", 1, $o["has_default"]), '<input name="fields[', $s, '][default]" value="', h($o["default"]), '" onkeyup="keyupChange.call(this);" onchange="this.previousSibling.checked = true;">
', (support("comment") ? "<td" . ($rb ? "" : " class='hidden'") . "><input name='fields[$s][comment]' value='" . h($o["comment"]) . "' maxlength='" . ($g->server_info >= 5.5 ? 1024 : 255) . "'>" : "");}echo "<td>", (support("move_col") ? "<input type='image' class='icon' name='add[$s]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=plus.gif&amp;version=4.2.5' alt='+' title='" . 'Přidat další' . "' onclick='return !editingAddRow(this, 1);'>&nbsp;" . "<input type='image' class='icon' name='up[$s]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=up.gif&amp;version=4.2.5' alt='^' title='" . 'Přesunout nahoru' . "'>&nbsp;" . "<input type='image' class='icon' name='down[$s]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=down.gif&amp;version=4.2.5' alt='v' title='" . 'Přesunout dolů' . "'>&nbsp;" : ""), ($Xe == "" || support("drop_col") ? "<input type='image' class='icon' name='drop_col[$s]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=cross.gif&amp;version=4.2.5' alt='x' title='" . 'Odebrat' . "' onclick=\"return !editingRemoveRow(this, 'fields\$1[field]');\">" : ""), "\n";}}function process_fields(&$p) {
			ksort($p);
			$D = 0;
			if ($_POST["up"]) {
				$Nd = 0;
				foreach ($p as $x => $o) {
					if (key($_POST["up"]) == $x) {
						unset($p[$x]);
						array_splice($p, $Nd, 0, [$o]);
						break;
					}
					if (isset($o["field"])) {
						$Nd = $D;
					}
					$D++;
				}
			} elseif ($_POST["down"]) {
				$Oc = false;
				foreach ($p as $x => $o) {
					if (isset($o["field"]) && $Oc) {
						unset($p[key($_POST["down"])]);
						array_splice($p, $D, 0, [$Oc]);
						break;
					}
					if (key($_POST["down"]) == $x) {
						$Oc = $o;
					}
					$D++;
				}
			} elseif ($_POST["add"]) {
				$p = array_values($p);
				array_splice($p, key($_POST["add"]), 0, [[]]);
			} elseif (!$_POST["drop_col"]) {
				return false;
			}
			return true;
		}function normalize_enum($B) {
			return "'" . str_replace("'", "''", addcslashes(stripcslashes(str_replace($B[0][0] . $B[0][0], $B[0][0], substr($B[0], 1, -1))), '\\')) . "'";
		}function grant($Tc, $Df, $f, $Ie) {
			if (!$Df) {
				return true;
			}
			if ($Df == [
					"ALL PRIVILEGES",
					"GRANT OPTION",
				]
			) {
				return ($Tc == "GRANT" ? queries("$Tc ALL PRIVILEGES$Ie WITH GRANT OPTION") : queries("$Tc ALL PRIVILEGES$Ie") && queries("$Tc GRANT OPTION$Ie"));
			}
			return queries("$Tc " . preg_replace('~(GRANT OPTION)\\([^)]*\\)~', '\\1', implode("$f, ", $Df) . $f) . $Ie);
		}function drop_create($Wb, $i, $Xb, $ch, $Zb, $A, $le, $je, $ke, $Fe, $we) {
			if ($_POST["drop"]) {
				query_redirect($Wb, $A, $le);
			} elseif ($Fe == "") {
				query_redirect($i, $A, $ke);
			} elseif ($Fe != $we) {
				$Bb = queries($i);
				queries_redirect($A, $je, $Bb && queries($Wb));
				if ($Bb) {
					queries($Xb);
				}
			} else {
				queries_redirect($A, $je, queries($ch) && queries($Zb) && queries($Wb) && queries($i));
			}
		}function create_trigger($Ie, $K) {
			global $w;
			$hh = " $K[Timing] $K[Event]" . ($K["Event"] == "UPDATE OF" ? " " . idf_escape($K["Of"]) : "");
			return "CREATE TRIGGER " . idf_escape($K["Trigger"]) . ($w == "mssql" ? $Ie . $hh : $hh . $Ie) . rtrim(" $K[Type]\n$K[Statement]", ";") . ";";
		}function create_routine($eg, $K) {
			global $sd;
			$O = [];
			$p = (array)$K["fields"];
			ksort($p);
			foreach ($p as $o) {
				if ($o["field"] != "") {
					$O[] = (preg_match("~^($sd)\$~", $o["inout"]) ? "$o[inout] " : "") . idf_escape($o["field"]) . process_type($o, "CHARACTER SET");
				}
			}
			return "CREATE $eg " . idf_escape(trim($K["name"])) . " (" . implode(", ", $O) . ")" . (isset($_GET["function"]) ? " RETURNS" . process_type($K["returns"], "CHARACTER SET") : "") . ($K["language"] ? " LANGUAGE $K[language]" : "") . rtrim("\n$K[definition]", ";") . ";";
		}function remove_definer($H) {
			return preg_replace('~^([A-Z =]+) DEFINER=`' . preg_replace('~@(.*)~', '`@`(%|\\1)', logged_user()) . '`~', '\\1', $H);
		}function format_foreign_key($q) {
			global $Je;
			return " FOREIGN KEY (" . implode(", ", array_map('idf_escape', $q["source"])) . ") REFERENCES " . table($q["table"]) . " (" . implode(", ", array_map('idf_escape', $q["target"])) . ")" . (preg_match("~^($Je)\$~", $q["on_delete"]) ? " ON DELETE $q[on_delete]" : "") . (preg_match("~^($Je)\$~", $q["on_update"]) ? " ON UPDATE $q[on_update]" : "");
		}function tar_file($Gc, $mh) {
			$J = pack("a100a8a8a8a12a12", $Gc, 644, 0, 0, decoct($mh->size), decoct(time()));
			$eb = 8 * 32;
			for ($s = 0; $s < strlen($J); $s++) {
				$eb += ord($J[$s]);
			}
			$J .= sprintf("%06o", $eb) . "\0 ";
			echo $J, str_repeat("\0", 512 - strlen($J));
			$mh->send();
			echo str_repeat("\0", 511 - ($mh->size + 511) % 512);
		}function ini_bytes($rd) {
			$X = ini_get($rd);
			switch (strtolower(substr($X, -1))) {
				case'g':
					$X *= 1024;
				case'm':
					$X *= 1024;
				case'k':
					$X *= 1024;
			}
			return $X;
		}function doc_link($of) {
			global $w, $g;
			$Jh = [
				'sql' => "http://dev.mysql.com/doc/refman/" . substr($g->server_info, 0, 3) . "/en/",
				'sqlite' => "http://www.sqlite.org/",
				'pgsql' => "http://www.postgresql.org/docs/" . substr($g->server_info, 0, 3) . "/static/",
				'mssql' => "http://msdn.microsoft.com/library/",
				'oracle' => "http://download.oracle.com/docs/cd/B19306_01/server.102/b14200/",
			];
			return ($of[$w] ? "<a href='$Jh[$w]$of[$w]' target='_blank' rel='noreferrer'><sup>?</sup></a>" : "");
		}function ob_gzencode($P) {
			return gzencode($P);
		}function db_size($m) {
			global $g;
			if (!$g->select_db($m)) {
				return "?";
			}
			$J = 0;
			foreach (table_status() as $R) {
				$J += $R["Data_length"] + $R["Index_length"];
			}
			return format_number($J);
		}function set_utf8mb4($i) {
			global $g;
			static $O = false;
			if (!$O && preg_match('~\butf8mb4~i', $i)) {
				$O = true;
				echo "SET NAMES " . charset($g) . ";\n\n";
			}
		}function connect_error() {
			global $b, $g, $T, $n, $Vb;
			if (DB != "") {
				header("HTTP/1.1 404 Not Found");
				page_header('Databáze' . ": " . h(DB), 'Nesprávná databáze.', true);
			} else {
				if ($_POST["db"] && !$n) {
					queries_redirect(substr(ME, 0, -1), 'Databáze byly odstraněny.', drop_databases($_POST["db"]));
				}
				page_header('Vybrat databázi', $n, false);
				echo "<p class='links'>\n";
				foreach ([
					         'database' => 'Vytvořit novou databázi',
					         'privileges' => 'Oprávnění',
					         'processlist' => 'Seznam procesů',
					         'variables' => 'Proměnné',
					         'status' => 'Stav',
				         ] as $x => $X) {
					if (support($x)) {
						echo "<a href='" . h(ME) . "$x='>$X</a>\n";
					}
				}
				echo "<p>" . sprintf('Verze %s: %s přes PHP rozšíření %s', $Vb[DRIVER], "<b>" . h($g->server_info) . "</b>", "<b>$g->extension</b>") . "\n", "<p>" . sprintf('Přihlášen jako: %s', "<b>" . h(logged_user()) . "</b>") . "\n";
				$l = $b->databases();
				if ($l) {
					$lg = support("scheme");
					$mb = collations();
					echo "<form action='' method='post'>\n", "<table cellspacing='0' class='checkable' onclick='tableClick(event);' ondblclick='tableClick(event, true);'>\n", "<thead><tr>" . (support("database") ? "<td>&nbsp;" : "") . "<th>" . 'Databáze' . " - <a href='" . h(ME) . "refresh=1'>" . 'Obnovit' . "</a>" . "<td>" . 'Porovnávání' . "<td>" . 'Tabulky' . "<td>" . 'Velikost' . " - <a href='" . h(ME) . "dbsize=1' onclick=\"return !ajaxSetHtml('" . h(js_escape(ME)) . "script=connect');\">" . 'Spočítat' . "</a>" . "</thead>\n";
					$l = ($_GET["dbsize"] ? count_tables($l) : array_flip($l));
					foreach ($l as $m => $S) {
						$dg = h(ME) . "db=" . urlencode($m);
						echo "<tr" . odd() . ">" . (support("database") ? "<td>" . checkbox("db[]", $m, in_array($m, (array)$_POST["db"])) : ""), "<th><a href='$dg'>" . h($m) . "</a>";
						$d = nbsp(db_collation($m, $mb));
						echo "<td>" . (support("database") ? "<a href='$dg" . ($lg ? "&amp;ns=" : "") . "&amp;database=' title='" . 'Pozměnit databázi' . "'>$d</a>" : $d), "<td align='right'><a href='$dg&amp;schema=' id='tables-" . h($m) . "' title='" . 'Schéma databáze' . "'>" . ($_GET["dbsize"] ? $S : "?") . "</a>", "<td align='right' id='size-" . h($m) . "'>" . ($_GET["dbsize"] ? db_size($m) : "?"), "\n";
					}
					echo "</table>\n", (support("database") ? "<fieldset><legend>" . 'Označené' . " <span id='selected'></span></legend><div>\n" . "<input type='hidden' name='all' value='' onclick=\"selectCount('selected', formChecked(this, /^db/));\">\n" . "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . ">\n" . "</div></fieldset>\n" : ""), "<script type='text/javascript'>tableCheck();</script>\n", "<input type='hidden' name='token' value='$T'>\n", "</form>\n";
				}
			}
			page_footer("db");
		}if (isset($_GET["status"])) {
			$_GET["variables"] = $_GET["status"];
		}if (isset($_GET["import"])) {
			$_GET["sql"] = $_GET["import"];
		}if (!(DB != "" ? $g->select_db(DB) : isset($_GET["sql"]) || isset($_GET["dump"]) || isset($_GET["database"]) || isset($_GET["processlist"]) || isset($_GET["privileges"]) || isset($_GET["user"]) || isset($_GET["variables"]) || $_GET["script"] == "connect" || $_GET["script"] == "kill")) {
			if (DB != "" || $_GET["refresh"]) {
				restart_session();
				set_session("dbs", null);
			}
			connect_error();
			exit;
		}if (support("scheme") && DB != "" && $_GET["ns"] !== "") {
			if (!isset($_GET["ns"])) {
				redirect(preg_replace('~ns=[^&]*&~', '', ME) . "ns=" . get_schema());
			}
			if (!set_schema($_GET["ns"])) {
				header("HTTP/1.1 404 Not Found");
				page_header('Schéma' . ": " . h($_GET["ns"]), 'Nesprávné schéma.', true);
				page_footer("ns");
				exit;
			}
		}$Je = "RESTRICT|NO ACTION|CASCADE|SET NULL|SET DEFAULT";class
		TmpFile {
			var $handler;
			var $size;

			function __construct() {
				$this->handler = tmpfile();
			}

			function write($wb) {
				$this->size += strlen($wb);
				fwrite($this->handler, $wb);
			}

			function send() {
				fseek($this->handler, 0);
				fpassthru($this->handler);
				fclose($this->handler);
			}
		}$nc = "'(?:''|[^'\\\\]|\\\\.)*'";$sd = "IN|OUT|INOUT";if (isset($_GET["select"]) && ($_POST["edit"] || $_POST["clone"]) && !$_POST["save"]) {
			$_GET["edit"] = $_GET["select"];
		}if (isset($_GET["callf"])) {
			$_GET["call"] = $_GET["callf"];
		}if (isset($_GET["function"])) {
			$_GET["procedure"] = $_GET["function"];
		}if(isset($_GET["download"])){
			$a = $_GET["download"];
			$p = fields($a);
			header("Content-Type: application/octet-stream");
			header("Content-Disposition: attachment; filename=" . friendly_url("$a-" . implode("_", $_GET["where"])) . "." . friendly_url($_GET["field"]));
			$M = [idf_escape($_GET["field"])];
			$I = $Ub->select($a, $M, [where($_GET, $p)], $M);
			$K = ($I ? $I->fetch_row() : []);
			echo $K[0];
			exit;
		}elseif (isset($_GET["table"])) {
			$a = $_GET["table"];
			$p = fields($a);
			if (!$p) {
				$n = error();
			}
			$R = table_status1($a, true);
			page_header(($p && is_view($R) ? 'Pohled' : 'Tabulka') . ": " . h($a), $n);
			$b->selectLinks($R);
			$qb = $R["Comment"];
			if ($qb != "") {
				echo "<p>" . 'Komentář' . ": " . h($qb) . "\n";
			}
			if ($p) {
				echo "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Sloupec' . "<td>" . 'Typ' . (support("comment") ? "<td>" . 'Komentář' : "") . "</thead>\n";
				foreach ($p as $o) {
					echo "<tr" . odd() . "><th>" . h($o["field"]), "<td><span title='" . h($o["collation"]) . "'>" . h($o["full_type"]) . "</span>", ($o["null"] ? " <i>NULL</i>" : ""), ($o["auto_increment"] ? " <i>" . 'Auto Increment' . "</i>" : ""), (isset($o["default"]) ? " <span title='" . 'Výchozí hodnota' . "'>[<b>" . h($o["default"]) . "</b>]</span>" : ""), (support("comment") ? "<td>" . nbsp($o["comment"]) : ""), "\n";
				}
				echo "</table>\n";
			}
			if (!is_view($R)) {
				if (support("indexes")) {
					echo "<h3 id='indexes'>" . 'Indexy' . "</h3>\n";
					$v = indexes($a);
					if ($v) {
						echo "<table cellspacing='0'>\n";
						foreach ($v as $C => $u) {
							ksort($u["columns"]);
							$Af = [];
							foreach ($u["columns"] as $x => $X) {
								$Af[] = "<i>" . h($X) . "</i>" . ($u["lengths"][$x] ? "(" . $u["lengths"][$x] . ")" : "") . ($u["descs"][$x] ? " DESC" : "");
							}
							echo "<tr title='" . h($C) . "'><th>$u[type]<td>" . implode(", ", $Af) . "\n";
						}
						echo "</table>\n";
					}
					echo '<p class="links"><a href="' . h(ME) . 'indexes=' . urlencode($a) . '">' . 'Pozměnit indexy' . "</a>\n";
				}
				if (fk_support($R)) {
					echo "<h3 id='foreign-keys'>" . 'Cizí klíče' . "</h3>\n";
					$Mc = foreign_keys($a);
					if ($Mc) {
						echo "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Zdroj' . "<td>" . 'Cíl' . "<td>" . 'Při smazání' . "<td>" . 'Při změně' . "<td>&nbsp;</thead>\n";
						foreach ($Mc as $C => $q) {
							echo "<tr title='" . h($C) . "'>", "<th><i>" . implode("</i>, <i>", array_map('h', $q["source"])) . "</i>", "<td><a href='" . h($q["db"] != "" ? preg_replace('~db=[^&]*~', "db=" . urlencode($q["db"]), ME) : ($q["ns"] != "" ? preg_replace('~ns=[^&]*~', "ns=" . urlencode($q["ns"]), ME) : ME)) . "table=" . urlencode($q["table"]) . "'>" . ($q["db"] != "" ? "<b>" . h($q["db"]) . "</b>." : "") . ($q["ns"] != "" ? "<b>" . h($q["ns"]) . "</b>." : "") . h($q["table"]) . "</a>", "(<i>" . implode("</i>, <i>", array_map('h', $q["target"])) . "</i>)", "<td>" . nbsp($q["on_delete"]) . "\n", "<td>" . nbsp($q["on_update"]) . "\n", '<td><a href="' . h(ME . 'foreign=' . urlencode($a) . '&name=' . urlencode($C)) . '">' . 'Změnit' . '</a>';
						}
						echo "</table>\n";
					}
					echo '<p class="links"><a href="' . h(ME) . 'foreign=' . urlencode($a) . '">' . 'Přidat cizí klíč' . "</a>\n";
				}
			}
			if (support(is_view($R) ? "view_trigger" : "trigger")) {
				echo "<h3 id='triggers'>" . 'Triggery' . "</h3>\n";
				$wh = triggers($a);
				if ($wh) {
					echo "<table cellspacing='0'>\n";
					foreach ($wh as $x => $X) {
						echo "<tr valign='top'><td>" . h($X[0]) . "<td>" . h($X[1]) . "<th>" . h($x) . "<td><a href='" . h(ME . 'trigger=' . urlencode($a) . '&name=' . urlencode($x)) . "'>" . 'Změnit' . "</a>\n";
					}
					echo "</table>\n";
				}
				echo '<p class="links"><a href="' . h(ME) . 'trigger=' . urlencode($a) . '">' . 'Přidat trigger' . "</a>\n";
			}
		}elseif (isset($_GET["schema"])) {
			page_header('Schéma databáze', "", [], h(DB . ($_GET["ns"] ? ".$_GET[ns]" : "")));
			$Sg = [];
			$Tg = [];
			$ea = ($_GET["schema"] ? $_GET["schema"] : $_COOKIE["adminer_schema-" . str_replace(".", "_", DB)]);
			preg_match_all('~([^:]+):([-0-9.]+)x([-0-9.]+)(_|$)~', $ea, $ae, PREG_SET_ORDER);
			foreach ($ae as $s => $B) {
				$Sg[$B[1]] = [
					$B[2],
					$B[3],
				];
				$Tg[] = "\n\t'" . js_escape($B[1]) . "': [ $B[2], $B[3] ]";
			}
			$oh = 0;
			$Pa = -1;
			$kg = [];
			$Sf = [];
			$Rd = [];
			foreach (table_status('', true) as $Q => $R) {
				if (is_view($R)) {
					continue;
				}
				$tf = 0;
				$kg[$Q]["fields"] = [];
				foreach (fields($Q) as $C => $o) {
					$tf += 1.25;
					$o["pos"] = $tf;
					$kg[$Q]["fields"][$C] = $o;
				}
				$kg[$Q]["pos"] = ($Sg[$Q] ? $Sg[$Q] : [
					$oh,
					0,
				]);
				foreach ($b->foreignKeys($Q) as $X) {
					if (!$X["db"]) {
						$Pd = $Pa;
						if ($Sg[$Q][1] || $Sg[$X["table"]][1]) {
							$Pd = min(floatval($Sg[$Q][1]), floatval($Sg[$X["table"]][1])) - 1;
						} else {
							$Pa -= .1;
						}
						while ($Rd[(string)$Pd]) {
							$Pd -= .0001;
						}
						$kg[$Q]["references"][$X["table"]][(string)$Pd] = [
							$X["source"],
							$X["target"],
						];
						$Sf[$X["table"]][$Q][(string)$Pd] = $X["target"];
						$Rd[(string)$Pd] = true;
					}
				}
				$oh = max($oh, $kg[$Q]["pos"][0] + 2.5 + $tf);
			}
			echo '<div id="schema" style="height: ', $oh, 'em;" onselectstart="return false;">
<script type="text/javascript">
var tablePos = {', implode(",", $Tg) . "\n", '};
var em = document.getElementById(\'schema\').offsetHeight / ', $oh, ';
document.onmousemove = schemaMousemove;
document.onmouseup = function (ev) {
	schemaMouseup(ev, \'', js_escape(DB), '\');
};
</script>
';
			foreach ($kg as $C => $Q) {
				echo "<div class='table' style='top: " . $Q["pos"][0] . "em; left: " . $Q["pos"][1] . "em;' onmousedown='schemaMousedown(this, event);'>", '<a href="' . h(ME) . 'table=' . urlencode($C) . '"><b>' . h($C) . "</b></a>";
				foreach ($Q["fields"] as $o) {
					$X = '<span' . type_class($o["type"]) . ' title="' . h($o["full_type"] . ($o["null"] ? " NULL" : '')) . '">' . h($o["field"]) . '</span>';
					echo "<br>" . ($o["primary"] ? "<i>$X</i>" : $X);
				}
				foreach ((array)$Q["references"] as $Zg => $Tf) {
					foreach ($Tf as $Pd => $Pf) {
						$Qd = $Pd - $Sg[$C][1];
						$s = 0;
						foreach ($Pf[0] as $Ag) {
							echo "\n<div class='references' title='" . h($Zg) . "' id='refs$Pd-" . ($s++) . "' style='left: $Qd" . "em; top: " . $Q["fields"][$Ag]["pos"] . "em; padding-top: .5em;'><div style='border-top: 1px solid Gray; width: " . (-$Qd) . "em;'></div></div>";
						}
					}
				}
				foreach ((array)$Sf[$C] as $Zg => $Tf) {
					foreach ($Tf as $Pd => $f) {
						$Qd = $Pd - $Sg[$C][1];
						$s = 0;
						foreach ($f as $Yg) {
							echo "\n<div class='references' title='" . h($Zg) . "' id='refd$Pd-" . ($s++) . "' style='left: $Qd" . "em; top: " . $Q["fields"][$Yg]["pos"] . "em; height: 1.25em; background: url(" . h(preg_replace("~\\?.*~", "", ME)) . "?file=arrow.gif) no-repeat right center;&amp;version=4.2.5'><div style='height: .5em; border-bottom: 1px solid Gray; width: " . (-$Qd) . "em;'></div></div>";
						}
					}
				}
				echo "\n</div>\n";
			}
			foreach ($kg as $C => $Q) {
				foreach ((array)$Q["references"] as $Zg => $Tf) {
					foreach ($Tf as $Pd => $Pf) {
						$pe = $oh;
						$ee = -10;
						foreach ($Pf[0] as $x => $Ag) {
							$uf = $Q["pos"][0] + $Q["fields"][$Ag]["pos"];
							$vf = $kg[$Zg]["pos"][0] + $kg[$Zg]["fields"][$Pf[1][$x]]["pos"];
							$pe = min($pe, $uf, $vf);
							$ee = max($ee, $uf, $vf);
						}
						echo "<div class='references' id='refl$Pd' style='left: $Pd" . "em; top: $pe" . "em; padding: .5em 0;'><div style='border-right: 1px solid Gray; margin-top: 1px; height: " . ($ee - $pe) . "em;'></div></div>\n";
					}
				}
			}
			echo '</div>
<p class="links"><a href="', h(ME . "schema=" . urlencode($ea)), '" id="schema-link">Trvalý odkaz</a>
';
		}elseif (isset($_GET["dump"])) {
			$a = $_GET["dump"];
			if ($_POST && !$n) {
				$zb = "";
				foreach ([
					         "output",
					         "format",
					         "db_style",
					         "routines",
					         "events",
					         "table_style",
					         "auto_increment",
					         "triggers",
					         "data_style",
				         ] as $x) {
					$zb .= "&$x=" . urlencode($_POST[$x]);
				}
				cookie("adminer_export", substr($zb, 1));
				$S = array_flip((array)$_POST["tables"]) + array_flip((array)$_POST["data"]);
				$zc = dump_headers((count($S) == 1 ? key($S) : DB), (DB == "" || count($S) > 1));
				$_d = preg_match('~sql~', $_POST["format"]);
				if ($_d) {
					echo "-- Adminer $ia " . $Vb[DRIVER] . " dump\n\n";
					if ($w == "sql") {
						echo "SET NAMES utf8;
SET time_zone = '+00:00';
" . ($_POST["data_style"] ? "SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';
" : "") . "
";
						$g->query("SET time_zone = '+00:00';");
					}
				}
				$Jg = $_POST["db_style"];
				$l = [DB];
				if (DB == "") {
					$l = $_POST["databases"];
					if (is_string($l)) {
						$l = explode("\n", rtrim(str_replace("\r", "", $l), "\n"));
					}
				}
				foreach ((array)$l as $m) {
					$b->dumpDatabase($m);
					if ($g->select_db($m)) {
						if ($_d && preg_match('~CREATE~', $Jg) && ($i = $g->result("SHOW CREATE DATABASE " . idf_escape($m), 1))) {
							set_utf8mb4($i);
							if ($Jg == "DROP+CREATE") {
								echo "DROP DATABASE IF EXISTS " . idf_escape($m) . ";\n";
							}
							echo "$i;\n";
						}
						if ($_d) {
							if ($Jg) {
								echo use_sql($m) . ";\n\n";
							}
							$cf = "";
							if ($_POST["routines"]) {
								foreach ([
									         "FUNCTION",
									         "PROCEDURE",
								         ] as $eg) {
									foreach (get_rows("SHOW $eg STATUS WHERE Db = " . q($m), null, "-- ") as $K) {
										$i = remove_definer($g->result("SHOW CREATE $eg " . idf_escape($K["Name"]), 2));
										set_utf8mb4($i);
										$cf .= ($Jg != 'DROP+CREATE' ? "DROP $eg IF EXISTS " . idf_escape($K["Name"]) . ";;\n" : "") . "$i;;\n\n";
									}
								}
							}
							if ($_POST["events"]) {
								foreach (get_rows("SHOW EVENTS", null, "-- ") as $K) {
									$i = remove_definer($g->result("SHOW CREATE EVENT " . idf_escape($K["Name"]), 3));
									set_utf8mb4($i);
									$cf .= ($Jg != 'DROP+CREATE' ? "DROP EVENT IF EXISTS " . idf_escape($K["Name"]) . ";;\n" : "") . "$i;;\n\n";
								}
							}
							if ($cf) {
								echo "DELIMITER ;;\n\n$cf" . "DELIMITER ;\n\n";
							}
						}
						if ($_POST["table_style"] || $_POST["data_style"]) {
							$Vh = [];
							foreach (table_status('', true) as $C => $R) {
								$Q = (DB == "" || in_array($C, (array)$_POST["tables"]));
								$Db = (DB == "" || in_array($C, (array)$_POST["data"]));
								if ($Q || $Db) {
									if ($zc == "tar") {
										$mh = new
										TmpFile;
										ob_start([
											$mh,
											'write',
										], 1e5);
									}
									$b->dumpTable($C, ($Q ? $_POST["table_style"] : ""), (is_view($R) ? 2 : 0));
									if (is_view($R)) {
										$Vh[] = $C;
									} elseif ($Db) {
										$p = fields($C);
										$b->dumpData($C, $_POST["data_style"], "SELECT *" . convert_fields($p, $p) . " FROM " . table($C));
									}
									if ($_d && $_POST["triggers"] && $Q && ($wh = trigger_sql($C, $_POST["table_style"]))) {
										echo "\nDELIMITER ;;\n$wh\nDELIMITER ;\n";
									}
									if ($zc == "tar") {
										ob_end_flush();
										tar_file((DB != "" ? "" : "$m/") . "$C.csv", $mh);
									} elseif ($_d) {
										echo "\n";
									}
								}
							}
							foreach ($Vh as $Uh) {
								$b->dumpTable($Uh, $_POST["table_style"], 1);
							}
							if ($zc == "tar") {
								echo pack("x512");
							}
						}
					}
				}
				if ($_d) {
					echo "-- " . $g->result("SELECT NOW()") . "\n";
				}
				exit;
			}
			page_header('Export', $n, ($_GET["export"] != "" ? ["table" => $_GET["export"]] : []), h(DB));
			echo '
<form action="" method="post">
<table cellspacing="0">
';
			$Gb = [
				'',
				'USE',
				'DROP+CREATE',
				'CREATE',
			];
			$Ug = [
				'',
				'DROP+CREATE',
				'CREATE',
			];
			$Eb = [
				'',
				'TRUNCATE+INSERT',
				'INSERT',
			];
			if ($w == "sql") {
				$Eb[] = 'INSERT+UPDATE';
			}
			parse_str($_COOKIE["adminer_export"], $K);
			if (!$K) {
				$K = [
					"output" => "text",
					"format" => "sql",
					"db_style" => (DB != "" ? "" : "CREATE"),
					"table_style" => "DROP+CREATE",
					"data_style" => "INSERT",
				];
			}
			if (!isset($K["events"])) {
				$K["routines"] = $K["events"] = ($_GET["dump"] == "");
				$K["triggers"] = $K["table_style"];
			}
			echo "<tr><th>" . 'Výstup' . "<td>" . html_select("output", $b->dumpOutput(), $K["output"], 0) . "\n";
			echo "<tr><th>" . 'Formát' . "<td>" . html_select("format", $b->dumpFormat(), $K["format"], 0) . "\n";
			echo($w == "sqlite" ? "" : "<tr><th>" . 'Databáze' . "<td>" . html_select('db_style', $Gb, $K["db_style"]) . (support("routine") ? checkbox("routines", 1, $K["routines"], 'Procedury a funkce') : "") . (support("event") ? checkbox("events", 1, $K["events"], 'Události') : "")), "<tr><th>" . 'Tabulky' . "<td>" . html_select('table_style', $Ug, $K["table_style"]) . checkbox("auto_increment", 1, $K["auto_increment"], 'Auto Increment') . (support("trigger") ? checkbox("triggers", 1, $K["triggers"], 'Triggery') : ""), "<tr><th>" . 'Data' . "<td>" . html_select('data_style', $Eb, $K["data_style"]), '</table>
<p><input type="submit" value="Export">
<input type="hidden" name="token" value="', $T, '">

<table cellspacing="0">
';
			$yf = [];
			if (DB != "") {
				$cb = ($a != "" ? "" : " checked");
				echo "<thead><tr>", "<th style='text-align: left;'><label class='block'><input type='checkbox' id='check-tables'$cb onclick='formCheck(this, /^tables\\[/);'>" . 'Tabulky' . "</label>", "<th style='text-align: right;'><label class='block'>" . 'Data' . "<input type='checkbox' id='check-data'$cb onclick='formCheck(this, /^data\\[/);'></label>", "</thead>\n";
				$Vh = "";
				$Vg = tables_list();
				foreach ($Vg as $C => $U) {
					$xf = preg_replace('~_.*~', '', $C);
					$cb = ($a == "" || $a == (substr($a, -1) == "%" ? "$xf%" : $C));
					$Af = "<tr><td>" . checkbox("tables[]", $C, $cb, $C, "checkboxClick(event, this); formUncheck('check-tables');", "block");
					if ($U !== null && !preg_match('~table~i', $U)) {
						$Vh .= "$Af\n";
					} else {
						echo "$Af<td align='right'><label class='block'><span id='Rows-" . h($C) . "'></span>" . checkbox("data[]", $C, $cb, "", "checkboxClick(event, this); formUncheck('check-data');") . "</label>\n";
					}
					$yf[$xf]++;
				}
				echo $Vh;
				if ($Vg) {
					echo "<script type='text/javascript'>ajaxSetHtml('" . js_escape(ME) . "script=db');</script>\n";
				}
			} else {
				echo "<thead><tr><th style='text-align: left;'><label class='block'><input type='checkbox' id='check-databases'" . ($a == "" ? " checked" : "") . " onclick='formCheck(this, /^databases\\[/);'>" . 'Databáze' . "</label></thead>\n";
				$l = $b->databases();
				if ($l) {
					foreach ($l as $m) {
						if (!information_schema($m)) {
							$xf = preg_replace('~_.*~', '', $m);
							echo "<tr><td>" . checkbox("databases[]", $m, $a == "" || $a == "$xf%", $m, "formUncheck('check-databases');", "block") . "\n";
							$yf[$xf]++;
						}
					}
				} else {
					echo "<tr><td><textarea name='databases' rows='10' cols='20'></textarea>";
				}
			}
			echo '</table>
</form>
';
			$Ic = true;
			foreach ($yf as $x => $X) {
				if ($x != "" && $X > 1) {
					echo ($Ic ? "<p>" : " ") . "<a href='" . h(ME) . "dump=" . urlencode("$x%") . "'>" . h($x) . "</a>";
					$Ic = false;
				}
			}
		}elseif (isset($_GET["privileges"])) {
			page_header('Oprávnění');
			$I = $g->query("SELECT User, Host FROM mysql." . (DB == "" ? "user" : "db WHERE " . q(DB) . " LIKE Db") . " ORDER BY Host, User");
			$Tc = $I;
			if (!$I) {
				$I = $g->query("SELECT SUBSTRING_INDEX(CURRENT_USER, '@', 1) AS User, SUBSTRING_INDEX(CURRENT_USER, '@', -1) AS Host");
			}
			echo "<form action=''><p>\n";
			hidden_fields_get();
			echo "<input type='hidden' name='db' value='" . h(DB) . "'>\n", ($Tc ? "" : "<input type='hidden' name='grant' value=''>\n"), "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Uživatel' . "<th>" . 'Server' . "<th>&nbsp;</thead>\n";
			while ($K = $I->fetch_assoc()) {
				echo '<tr' . odd() . '><td>' . h($K["User"]) . "<td>" . h($K["Host"]) . '<td><a href="' . h(ME . 'user=' . urlencode($K["User"]) . '&host=' . urlencode($K["Host"])) . '">' . 'Upravit' . "</a>\n";
			}
			if (!$Tc || DB != "") {
				echo "<tr" . odd() . "><td><input name='user' autocapitalize='off'><td><input name='host' value='localhost' autocapitalize='off'><td><input type='submit' value='" . 'Upravit' . "'>\n";
			}
			echo "</table>\n", "</form>\n", '<p class="links"><a href="' . h(ME) . 'user=">' . 'Vytvořit uživatele' . "</a>";
		}elseif (isset($_GET["sql"])) {
			if (!$n && $_POST["export"]) {
				dump_headers("sql");
				$b->dumpTable("", "");
				$b->dumpData("", "table", $_POST["query"]);
				exit;
			}
			restart_session();
			$dd =& get_session("queries");
			$cd =& $dd[DB];
			if (!$n && $_POST["clear"]) {
				$cd = [];
				redirect(remove_from_uri("history"));
			}
			page_header((isset($_GET["import"]) ? 'Import' : 'SQL příkaz'), $n);
			if (!$n && $_POST) {
				$Qc = false;
				if (!isset($_GET["import"])) {
					$H = $_POST["query"];
				} elseif ($_POST["webfile"]) {
					$Qc = @fopen((file_exists("adminer.sql") ? "adminer.sql" : "compress.zlib://adminer.sql.gz"), "rb");
					$H = ($Qc ? fread($Qc, 1e6) : false);
				} else {
					$H = get_file("sql_file", true);
				}
				if (is_string($H)) {
					if (function_exists('memory_get_usage')) {
						@ini_set("memory_limit", max(ini_bytes("memory_limit"), 2 * strlen($H) + memory_get_usage() + 8e6));
					}
					if ($H != "" && strlen($H) < 1e6) {
						$Hf = $H . (preg_match("~;[ \t\r\n]*\$~", $H) ? "" : ";");
						if (!$cd || reset(end($cd)) != $Hf) {
							restart_session();
							$cd[] = [
								$Hf,
								time(),
							];
							set_session("queries", $dd);
							stop_session();
						}
					}
					$Bg = "(?:\\s|/\\*[\s\S]*?\\*/|(?:#|-- )[^\n]*\n?|--\r?\n)";
					$Lb = ";";
					$D = 0;
					$kc = true;
					$h = connect();
					if (is_object($h) && DB != "") {
						$h->select_db(DB);
					}
					$pb = 0;
					$pc = [];
					$hf = '[\'"' . ($w == "sql" ? '`#' : ($w == "sqlite" ? '`[' : ($w == "mssql" ? '[' : ''))) . ']|/\\*|-- |$' . ($w == "pgsql" ? '|\\$[^$]*\\$' : '');
					$ph = microtime(true);
					parse_str($_COOKIE["adminer_export"], $wa);
					$bc = $b->dumpFormat();
					unset($bc["sql"]);
					while ($H != "") {
						if (!$D && preg_match("~^$Bg*+DELIMITER\\s+(\\S+)~i", $H, $B)) {
							$Lb = $B[1];
							$H = substr($H, strlen($B[0]));
						} else {
							preg_match('(' . preg_quote($Lb) . "\\s*|$hf)", $H, $B, PREG_OFFSET_CAPTURE, $D);
							list($Oc, $tf) = $B[0];
							if (!$Oc && $Qc && !feof($Qc)) {
								$H .= fread($Qc, 1e5);
							} else {
								if (!$Oc && rtrim($H) == "") {
									break;
								}
								$D = $tf + strlen($Oc);
								if ($Oc && rtrim($Oc) != $Lb) {
									while (preg_match('(' . ($Oc == '/*' ? '\\*/' : ($Oc == '[' ? ']' : (preg_match('~^-- |^#~', $Oc) ? "\n" : preg_quote($Oc) . "|\\\\."))) . '|$)s', $H, $B, PREG_OFFSET_CAPTURE, $D)) {
										$ig = $B[0][0];
										if (!$ig && $Qc && !feof($Qc)) {
											$H .= fread($Qc, 1e5);
										} else {
											$D = $B[0][1] + strlen($ig);
											if ($ig[0] != "\\") {
												break;
											}
										}
									}
								} else {
									$kc = false;
									$Hf = substr($H, 0, $tf);
									$pb++;
									$Af = "<pre id='sql-$pb'><code class='jush-$w'>" . shorten_utf8(trim($Hf), 1000) . "</code></pre>\n";
									if ($w == "sqlite" && preg_match("~^$Bg*+ATTACH\\b~i", $Hf, $B)) {
										echo $Af, "<p class='error'>" . 'Dotazy ATTACH nejsou podporované.' . "\n";
										$pc[] = " <a href='#sql-$pb'>$pb</a>";
										if ($_POST["error_stops"]) {
											break;
										}
									} else {
										if (!$_POST["only_errors"]) {
											echo $Af;
											ob_flush();
											flush();
										}
										$Eg = microtime(true);
										if ($g->multi_query($Hf) && is_object($h) && preg_match("~^$Bg*+USE\\b~i", $Hf)) {
											$h->query($Hf);
										}
										do {
											$I = $g->store_result();
											$fh = " <span class='time'>(" . format_time($Eg) . ")</span>" . (strlen($Hf) < 1000 ? " <a href='" . h(ME) . "sql=" . urlencode(trim($Hf)) . "'>" . 'Upravit' . "</a>" : "");
											if ($g->error) {
												echo($_POST["only_errors"] ? $Af : ""), "<p class='error'>" . 'Chyba v dotazu' . ($g->errno ? " ($g->errno)" : "") . ": " . error() . "\n";
												$pc[] = " <a href='#sql-$pb'>$pb</a>";
												if ($_POST["error_stops"]) {
													break
													2;
												}
											} elseif (is_object($I)) {
												$z = $_POST["limit"];
												$We = select($I, $h, [], $z);
												if (!$_POST["only_errors"]) {
													echo "<form action='' method='post'>\n";
													$_e = $I->num_rows;
													echo "<p>" . ($_e ? ($z && $_e > $z ? sprintf('%d / ', $z) : "") . lang([
																'%d řádek',
																'%d řádky',
																'%d řádků',
															], $_e) : ""), $fh;
													$hd = "export-$pb";
													$yc = ", <a href='#$hd' onclick=\"return !toggle('$hd');\">" . 'Export' . "</a><span id='$hd' class='hidden'>: " . html_select("output", $b->dumpOutput(), $wa["output"]) . " " . html_select("format", $bc, $wa["format"]) . "<input type='hidden' name='query' value='" . h($Hf) . "'>" . " <input type='submit' name='export' value='" . 'Export' . "'><input type='hidden' name='token' value='$T'></span>\n";
													if ($h && preg_match("~^($Bg|\\()*+SELECT\\b~i", $Hf) && ($xc = explain($h, $Hf))) {
														$hd = "explain-$pb";
														echo ", <a href='#$hd' onclick=\"return !toggle('$hd');\">EXPLAIN</a>$yc", "<div id='$hd' class='hidden'>\n";
														select($xc, $h, $We);
														echo "</div>\n";
													} else {
														echo $yc;
													}
													echo "</form>\n";
												}
											} else {
												if (preg_match("~^$Bg*+(CREATE|DROP|ALTER)$Bg++(DATABASE|SCHEMA)\\b~i", $Hf)) {
													restart_session();
													set_session("dbs", null);
													stop_session();
												}
												if (!$_POST["only_errors"]) {
													echo "<p class='message' title='" . h($g->info) . "'>" . lang([
															'Příkaz proběhl v pořádku, byl změněn %d záznam.',
															'Příkaz proběhl v pořádku, byly změněny %d záznamy.',
															'Příkaz proběhl v pořádku, bylo změněno %d záznamů.',
														], $g->affected_rows) . "$fh\n";
												}
											}
											$Eg = microtime(true);
										} while ($g->next_result());
									}
									$H = substr($H, $D);
									$D = 0;
								}
							}
						}
					}
					if ($kc) {
						echo "<p class='message'>" . 'Žádné příkazy k vykonání.' . "\n";
					} elseif ($_POST["only_errors"]) {
						echo "<p class='message'>" . lang([
								'%d příkaz proběhl v pořádku.',
								'%d příkazy proběhly v pořádku.',
								'%d příkazů proběhlo v pořádku.',
							], $pb - count($pc)), " <span class='time'>(" . format_time($ph) . ")</span>\n";
					} elseif ($pc && $pb > 1) {
						echo "<p class='error'>" . 'Chyba v dotazu' . ": " . implode("", $pc) . "\n";
					}
				} else {
					echo "<p class='error'>" . upload_error($H) . "\n";
				}
			}
			echo '
<form action="" method="post" enctype="multipart/form-data" id="form">
';
			$uc = "<input type='submit' value='" . 'Provést' . "' title='Ctrl+Enter'>";
			if (!isset($_GET["import"])) {
				$Hf = $_GET["sql"];
				if ($_POST) {
					$Hf = $_POST["query"];
				} elseif ($_GET["history"] == "all") {
					$Hf = $cd;
				} elseif ($_GET["history"] != "") {
					$Hf = $cd[$_GET["history"]][0];
				}
				echo "<p>";
				textarea("query", $Hf, 20);
				echo($_POST ? "" : "<script type='text/javascript'>focus(document.getElementsByTagName('textarea')[0]);</script>\n"), "<p>$uc\n", 'Limit řádek' . ": <input type='number' name='limit' class='size' value='" . h($_POST ? $_POST["limit"] : $_GET["limit"]) . "'>\n";
			} else {
				echo "<fieldset><legend>" . 'Nahrání souboru' . "</legend><div>", (ini_bool("file_uploads") ? "SQL (&lt; " . ini_get("upload_max_filesize") . "B): <input type='file' name='sql_file[]' multiple>\n$uc" : 'Nahrávání souborů není povoleno.'), "</div></fieldset>\n", "<fieldset><legend>" . 'Ze serveru' . "</legend><div>", sprintf('Soubor %s na webovém serveru', "<code>adminer.sql" . (extension_loaded("zlib") ? "[.gz]" : "") . "</code>"), ' <input type="submit" name="webfile" value="' . 'Spustit soubor' . '">', "</div></fieldset>\n", "<p>";
			}
			echo checkbox("error_stops", 1, ($_POST ? $_POST["error_stops"] : isset($_GET["import"])), 'Zastavit při chybě') . "\n", checkbox("only_errors", 1, ($_POST ? $_POST["only_errors"] : isset($_GET["import"])), 'Zobrazit pouze chyby') . "\n", "<input type='hidden' name='token' value='$T'>\n";
			if (!isset($_GET["import"]) && $cd) {
				print_fieldset("history", 'Historie', $_GET["history"] != "");
				for ($X = end($cd); $X; $X = prev($cd)) {
					$x = key($cd);
					list($Hf, $fh, $fc) = $X;
					echo '<a href="' . h(ME . "sql=&history=$x") . '">' . 'Upravit' . "</a>" . " <span class='time' title='" . @date('Y-m-d', $fh) . "'>" . @date("H:i:s", $fh) . "</span>" . " <code class='jush-$w'>" . shorten_utf8(ltrim(str_replace("\n", " ", str_replace("\r", "", preg_replace('~^(#|-- ).*~m', '', $Hf)))), 80, "</code>") . ($fc ? " <span class='time'>($fc)</span>" : "") . "<br>\n";
				}
				echo "<input type='submit' name='clear' value='" . 'Vyčistit' . "'>\n", "<a href='" . h(ME . "sql=&history=all") . "'>" . 'Upravit vše' . "</a>\n", "</div></fieldset>\n";
			}
			echo '</form>
';
		}elseif (isset($_GET["edit"])) {
			$a = $_GET["edit"];
			$p = fields($a);
			$Z = (isset($_GET["select"]) ? (count($_POST["check"]) == 1 ? where_check($_POST["check"][0], $p) : "") : where($_GET, $p));
			$Gh = (isset($_GET["select"]) ? $_POST["edit"] : $Z);
			foreach ($p as $C => $o) {
				if (!isset($o["privileges"][$Gh ? "update" : "insert"]) || $b->fieldName($o) == "") {
					unset($p[$C]);
				}
			}
			if ($_POST && !$n && !isset($_GET["select"])) {
				$A = $_POST["referer"];
				if ($_POST["insert"]) {
					$A = ($Gh ? null : $_SERVER["REQUEST_URI"]);
				} elseif (!preg_match('~^.+&select=.+$~', $A)) {
					$A = ME . "select=" . urlencode($a);
				}
				$v = indexes($a);
				$Bh = unique_array($_GET["where"], $v);
				$Kf = "\nWHERE $Z";
				if (isset($_POST["delete"])) {
					queries_redirect($A, 'Položka byla smazána.', $Ub->delete($a, $Kf, !$Bh));
				} else {
					$O = [];
					foreach ($p as $C => $o) {
						$X = process_input($o);
						if ($X !== false && $X !== null) {
							$O[idf_escape($C)] = $X;
						}
					}
					if ($Gh) {
						if (!$O) {
							redirect($A);
						}
						queries_redirect($A, 'Položka byla aktualizována.', $Ub->update($a, $O, $Kf, !$Bh));
						if (is_ajax()) {
							page_headers();
							page_messages($n);
							exit;
						}
					} else {
						$I = $Ub->insert($a, $O);
						$Od = ($I ? last_id() : 0);
						queries_redirect($A, sprintf('Položka%s byla vložena.', ($Od ? " $Od" : "")), $I);
					}
				}
			}
			$K = null;
			if ($_POST["save"]) {
				$K = (array)$_POST["fields"];
			} elseif ($Z) {
				$M = [];
				foreach ($p as $C => $o) {
					if (isset($o["privileges"]["select"])) {
						$Fa = convert_field($o);
						if ($_POST["clone"] && $o["auto_increment"]) {
							$Fa = "''";
						}
						if ($w == "sql" && preg_match("~enum|set~", $o["type"])) {
							$Fa = "1*" . idf_escape($C);
						}
						$M[] = ($Fa ? "$Fa AS " : "") . idf_escape($C);
					}
				}
				$K = [];
				if (!support("table")) {
					$M = ["*"];
				}
				if ($M) {
					$I = $Ub->select($a, $M, [$Z], $M, [], (isset($_GET["select"]) ? 2 : 1));
					$K = $I->fetch_assoc();
					if (!$K) {
						$K = false;
					}
					if (isset($_GET["select"]) && (!$K || $I->fetch_assoc())) {
						$K = null;
					}
				}
			}
			if (!support("table") && !$p) {
				if (!$Z) {
					$I = $Ub->select($a, ["*"], $Z, ["*"]);
					$K = ($I ? $I->fetch_assoc() : false);
					if (!$K) {
						$K = [$Ub->primary => ""];
					}
				}
				if ($K) {
					foreach ($K as $x => $X) {
						if (!$Z) {
							$K[$x] = null;
						}
						$p[$x] = [
							"field" => $x,
							"null" => ($x != $Ub->primary),
							"auto_increment" => ($x == $Ub->primary),
						];
					}
				}
			}
			edit_form($a, $p, $K, $Gh);
		}elseif(isset($_GET["create"])){$a = $_GET["create"];$if = [];foreach ([
			                                                                       'HASH',
			                                                                       'LINEAR HASH',
			                                                                       'KEY',
			                                                                       'LINEAR KEY',
			                                                                       'RANGE',
			                                                                       'LIST',
		                                                                       ] as $x) {
			$if[$x] = $x;
		}$Rf = referencable_primary($a);$Mc = [];foreach ($Rf as $Qg => $o) {
			$Mc[str_replace("`", "``", $Qg) . "`" . str_replace("`", "``", $o["field"])] = $Qg;
		}$Ze = [];$R = [];if ($a != "") {
			$Ze = fields($a);
			$R = table_status($a);
			if (!$R) {
				$n = 'Žádné tabulky.';
			}
		}$K = $_POST;$K["fields"] = (array)$K["fields"];if ($K["auto_increment_col"]) {
			$K["fields"][$K["auto_increment_col"]]["auto_increment"] = true;
		}if ($_POST && !process_fields($K["fields"]) && !$n) {
			if ($_POST["drop"]) {
				queries_redirect(substr(ME, 0, -1), 'Tabulka byla odstraněna.', drop_tables([$a]));
			} else {
				$p = [];
				$Ca = [];
				$Kh = false;
				$Kc = [];
				ksort($K["fields"]);
				$Ye = reset($Ze);
				$_a = " FIRST";
				foreach ($K["fields"] as $x => $o) {
					$q = $Mc[$o["type"]];
					$xh = ($q !== null ? $Rf[$q] : $o);
					if ($o["field"] != "") {
						if (!$o["has_default"]) {
							$o["default"] = null;
						}
						if ($x == $K["auto_increment_col"]) {
							$o["auto_increment"] = true;
						}
						$Ff = process_field($o, $xh);
						$Ca[] = [
							$o["orig"],
							$Ff,
							$_a,
						];
						if ($Ff != process_field($Ye, $Ye)) {
							$p[] = [
								$o["orig"],
								$Ff,
								$_a,
							];
							if ($o["orig"] != "" || $_a) {
								$Kh = true;
							}
						}
						if ($q !== null) {
							$Kc[idf_escape($o["field"])] = ($a != "" && $w != "sqlite" ? "ADD" : " ") . format_foreign_key([
									'table' => $Mc[$o["type"]],
									'source' => [$o["field"]],
									'target' => [$xh["field"]],
									'on_delete' => $o["on_delete"],
								]);
						}
						$_a = " AFTER " . idf_escape($o["field"]);
					} elseif ($o["orig"] != "") {
						$Kh = true;
						$p[] = [$o["orig"]];
					}
					if ($o["orig"] != "") {
						$Ye = next($Ze);
						if (!$Ye) {
							$_a = "";
						}
					}
				}
				$kf = "";
				if ($if[$K["partition_by"]]) {
					$lf = [];
					if ($K["partition_by"] == 'RANGE' || $K["partition_by"] == 'LIST') {
						foreach (array_filter($K["partition_names"]) as $x => $X) {
							$Y = $K["partition_values"][$x];
							$lf[] = "\n  PARTITION " . idf_escape($X) . " VALUES " . ($K["partition_by"] == 'RANGE' ? "LESS THAN" : "IN") . ($Y != "" ? " ($Y)" : " MAXVALUE");
						}
					}
					$kf .= "\nPARTITION BY $K[partition_by]($K[partition])" . ($lf ? " (" . implode(",", $lf) . "\n)" : ($K["partitions"] ? " PARTITIONS " . (+$K["partitions"]) : ""));
				} elseif (support("partitioning") && preg_match("~partitioned~", $R["Create_options"])) {
					$kf .= "\nREMOVE PARTITIONING";
				}
				$ie = 'Tabulka byla změněna.';
				if ($a == "") {
					cookie("adminer_engine", $K["Engine"]);
					$ie = 'Tabulka byla vytvořena.';
				}
				$C = trim($K["name"]);
				queries_redirect(ME . (support("table") ? "table=" : "select=") . urlencode($C), $ie, alter_table($a, $C, ($w == "sqlite" && ($Kh || $Kc) ? $Ca : $p), $Kc, ($K["Comment"] != $R["Comment"] ? $K["Comment"] : null), ($K["Engine"] && $K["Engine"] != $R["Engine"] ? $K["Engine"] : ""), ($K["Collation"] && $K["Collation"] != $R["Collation"] ? $K["Collation"] : ""), ($K["Auto_increment"] != "" ? number($K["Auto_increment"]) : ""), $kf));
			}
		}page_header(($a != "" ? 'Pozměnit tabulku' : 'Vytvořit tabulku'), $n, ["table" => $a], h($a));if (!$_POST) {
			$K = [
				"Engine" => $_COOKIE["adminer_engine"],
				"fields" => [
					[
						"field" => "",
						"type" => (isset($zh["int"]) ? "int" : (isset($zh["integer"]) ? "integer" : "")),
					],
				],
				"partition_names" => [""],
			];
			if ($a != "") {
				$K = $R;
				$K["name"] = $a;
				$K["fields"] = [];
				if (!$_GET["auto_increment"]) {
					$K["Auto_increment"] = "";
				}
				foreach ($Ze as $o) {
					$o["has_default"] = isset($o["default"]);
					$K["fields"][] = $o;
				}
				if (support("partitioning")) {
					$Rc = "FROM information_schema.PARTITIONS WHERE TABLE_SCHEMA = " . q(DB) . " AND TABLE_NAME = " . q($a);
					$I = $g->query("SELECT PARTITION_METHOD, PARTITION_ORDINAL_POSITION, PARTITION_EXPRESSION $Rc ORDER BY PARTITION_ORDINAL_POSITION DESC LIMIT 1");
					list($K["partition_by"], $K["partitions"], $K["partition"]) = $I->fetch_row();
					$lf = get_key_vals("SELECT PARTITION_NAME, PARTITION_DESCRIPTION $Rc AND PARTITION_NAME != '' ORDER BY PARTITION_ORDINAL_POSITION");
					$lf[""] = "";
					$K["partition_names"] = array_keys($lf);
					$K["partition_values"] = array_values($lf);
				}
			}
		}$mb = collations();$mc = engines();foreach ($mc as $lc) {
			if (!strcasecmp($lc, $K["Engine"])) {
				$K["Engine"] = $lc;
				break;
			}
		}echo '
<form action="" method="post" id="form">
<p>
';if(support("columns") || $a == ""){echo 'Název tabulky: <input name="name" maxlength="64" value="', h($K["name"]), '" autocapitalize="off">
';if($a == "" && !$_POST){?><script type='
		text / javascript
		'>focus(document.getElementById('
		form
		')['
		name
		']);</script><?php }
	echo($mc ? "<select name='Engine' onchange='helpClose();'" . on_help("getTarget(event).value", 1) . ">" . optionlist(["" => "(" . 'úložiště' . ")"] + $mc, $K["Engine"]) . "</select>" : ""), ' ', ($mb && !preg_match("~sqlite|mssql~", $w) ? html_select("Collation", ["" => "(" . 'porovnávání' . ")"] + $mb, $K["Collation"]) : ""), ' <input type="submit" value="Uložit">
';
}
	echo '
';
	if (support("columns")) {
		echo '<table cellspacing="0" id="edit-fields" class="nowrap">
';
		$rb = ($_POST ? $_POST["comments"] : $K["Comment"] != "");
		if (!$_POST && !$rb) {
			foreach ($K["fields"] as $o) {
				if ($o["comment"] != "") {
					$rb = true;
					break;
				}
			}
		}
		edit_fields($K["fields"], $mb, "TABLE", $Mc, $rb);
		echo '</table>
<p>
Auto Increment: <input type="number" name="Auto_increment" size="6" value="', h($K["Auto_increment"]), '">
', checkbox("defaults", 1, true, 'Výchozí hodnoty', "columnShow(this.checked, 5)", "jsonly");
		if (!$_POST["defaults"]) {
			echo '<script type="text/javascript">editingHideDefaults()</script>';
		}
		echo(support("comment") ? "<label><input type='checkbox' name='comments' value='1' class='jsonly' onclick=\"columnShow(this.checked, 6); toggle('Comment'); if (this.checked) this.form['Comment'].focus();\"" . ($rb ? " checked" : "") . ">" . 'Komentář' . "</label>" . ' <input name="Comment" id="Comment" value="' . h($K["Comment"]) . '" maxlength="' . ($g->server_info >= 5.5 ? 2048 : 60) . '"' . ($rb ? '' : ' class="hidden"') . '>' : ''), '<p>
<input type="submit" value="Uložit">
';
	}
	echo '
';
	if ($a != "") {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	if (support("partitioning")) {
		$jf = preg_match('~RANGE|LIST~', $K["partition_by"]);
		print_fieldset("partition", 'Rozdělit podle', $K["partition_by"]);
		echo '<p>
', "<select name='partition_by' onchange='partitionByChange(this);'" . on_help("getTarget(event).value.replace(/./, 'PARTITION BY \$&')", 1) . ">" . optionlist(["" => ""] + $if, $K["partition_by"]) . "</select>", '(<input name="partition" value="', h($K["partition"]), '">)
Oddíly: <input type="number" name="partitions" class="size', ($jf || !$K["partition_by"] ? " hidden" : ""), '" value="', h($K["partitions"]), '">
<table cellspacing="0" id="partition-table"', ($jf ? "" : " class='hidden'"), '>
<thead><tr><th>Název oddílu<th>Hodnoty</thead>
';
		foreach ($K["partition_names"] as $x => $X) {
			echo '<tr>', '<td><input name="partition_names[]" value="' . h($X) . '"' . ($x == count($K["partition_names"]) - 1 ? ' onchange="partitionNameChange(this);"' : '') . ' autocapitalize="off">', '<td><input name="partition_values[]" value="' . h($K["partition_values"][$x]) . '">';
		}
		echo '</table>
</div></fieldset>
';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
}elseif (isset($_GET["indexes"])){
	$a = $_GET["indexes"];
	$nd = [
		"PRIMARY",
		"UNIQUE",
		"INDEX",
	];
	$R = table_status($a, true);
	if (preg_match('~MyISAM|M?aria' . ($g->server_info >= 5.6 ? '|InnoDB' : '') . '~i', $R["Engine"])) {
		$nd[] = "FULLTEXT";
	}
	$v = indexes($a);
	$zf = [];
	if ($w == "mongo") {
		$zf = $v["_id_"];
		unset($nd[0]);
		unset($v["_id_"]);
	}
	$K = $_POST;
	if ($_POST && !$n && !$_POST["add"] && !$_POST["drop_col"]) {
		$c = [];
		foreach ($K["indexes"] as $u) {
			$C = $u["name"];
			if (in_array($u["type"], $nd)) {
				$f = [];
				$Td = [];
				$Nb = [];
				$O = [];
				ksort($u["columns"]);
				foreach ($u["columns"] as $x => $e) {
					if ($e != "") {
						$y = $u["lengths"][$x];
						$Mb = $u["descs"][$x];
						$O[] = idf_escape($e) . ($y ? "(" . (+$y) . ")" : "") . ($Mb ? " DESC" : "");
						$f[] = $e;
						$Td[] = ($y ? $y : null);
						$Nb[] = $Mb;
					}
				}
				if ($f) {
					$vc = $v[$C];
					if ($vc) {
						ksort($vc["columns"]);
						ksort($vc["lengths"]);
						ksort($vc["descs"]);
						if ($u["type"] == $vc["type"] && array_values($vc["columns"]) === $f && (!$vc["lengths"] || array_values($vc["lengths"]) === $Td) && array_values($vc["descs"]) === $Nb) {
							unset($v[$C]);
							continue;
						}
					}
					$c[] = [
						$u["type"],
						$C,
						$O,
					];
				}
			}
		}
		foreach ($v as $C => $vc) {
			$c[] = [
				$vc["type"],
				$C,
				"DROP",
			];
		}
		if (!$c) {
			redirect(ME . "table=" . urlencode($a));
		}
		queries_redirect(ME . "table=" . urlencode($a), 'Indexy byly změněny.', alter_indexes($a, $c));
	}
	page_header('Indexy', $n, ["table" => $a], h($a));
	$p = array_keys(fields($a));
	if ($_POST["add"]) {
		foreach ($K["indexes"] as $x => $u) {
			if ($u["columns"][count($u["columns"])] != "") {
				$K["indexes"][$x]["columns"][] = "";
			}
		}
		$u = end($K["indexes"]);
		if ($u["type"] || array_filter($u["columns"], 'strlen')) {
			$K["indexes"][] = ["columns" => [1 => ""]];
		}
	}
	if (!$K) {
		foreach ($v as $x => $u) {
			$v[$x]["name"] = $x;
			$v[$x]["columns"][] = "";
		}
		$v[] = ["columns" => [1 => ""]];
		$K["indexes"] = $v;
	} ?>

	<form action="" method="post">
	<table cellspacing="0" class="nowrap">
	<thead>
		<tr>
			<th>Typ indexu
			<th><input type="submit" style="left: -1000px; position: absolute;">Sloupec (délka)
			<th>Název
			<th>
				<noscript>
					<input type='image' class='icon' name='add[0]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=plus.gif&amp;version=4.2.5' alt='+' title='Přidat další'>
				</noscript>
				&nbsp;
	</thead>
	<?php
	if ($zf) {
		echo "<tr><td>PRIMARY<td>";
		foreach ($zf["columns"] as $x => $e) {
			echo select_input(" disabled", $p, $e), "<label><input disabled type='checkbox'>" . 'sestupně' . "</label> ";
		}
		echo "<td><td>\n";
	}
	$Dd = 1;
	foreach ($K["indexes"] as $u) {
		if (!$_POST["drop_col"] || $Dd != key($_POST["drop_col"])) {
			echo "<tr><td>" . html_select("indexes[$Dd][type]", [-1 => ""] + $nd, $u["type"], ($Dd == count($K["indexes"]) ? "indexesAddRow(this);" : 1)), "<td>";
			ksort($u["columns"]);
			$s = 1;
			foreach ($u["columns"] as $x => $e) {
				echo "<span>" . select_input(" name='indexes[$Dd][columns][$s]' onchange=\"" . ($s == count($u["columns"]) ? "indexesAddColumn" : "indexesChangeColumn") . "(this, '" . h(js_escape($w == "sql" ? "" : $_GET["indexes"] . "_")) . "');\"", ($p ? array_combine($p, $p) : $p), $e), ($w == "sql" || $w == "mssql" ? "<input type='number' name='indexes[$Dd][lengths][$s]' class='size' value='" . h($u["lengths"][$x]) . "'>" : ""), ($w != "sql" ? checkbox("indexes[$Dd][descs][$s]", 1, $u["descs"][$x], 'sestupně') : ""), " </span>";
				$s++;
			}
			echo "<td><input name='indexes[$Dd][name]' value='" . h($u["name"]) . "' autocapitalize='off'>\n", "<td><input type='image' class='icon' name='drop_col[$Dd]' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=cross.gif&amp;version=4.2.5' alt='x' title='" . 'Odebrat' . "' onclick=\"return !editingRemoveRow(this, 'indexes\$1[type]');\">\n";
		}
		$Dd++;
	}
	echo '</table>
<p>
<input type="submit" value="Uložit">
<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["database"])) {
	$K = $_POST;
	if ($_POST && !$n && !isset($_POST["add_x"])) {
		$C = trim($K["name"]);
		if ($_POST["drop"]) {
			$_GET["db"] = "";
			queries_redirect(remove_from_uri("db|database"), 'Databáze byla odstraněna.', drop_databases([DB]));
		} elseif (DB !== $C) {
			if (DB != "") {
				$_GET["db"] = $C;
				queries_redirect(preg_replace('~\bdb=[^&]*&~', '', ME) . "db=" . urlencode($C), 'Databáze byla přejmenována.', rename_database($C, $K["collation"]));
			} else {
				$l = explode("\n", str_replace("\r", "", $C));
				$Kg = true;
				$Nd = "";
				foreach ($l as $m) {
					if (count($l) == 1 || $m != "") {
						if (!create_database($m, $K["collation"])) {
							$Kg = false;
						}
						$Nd = $m;
					}
				}
				restart_session();
				set_session("dbs", null);
				queries_redirect(ME . "db=" . urlencode($Nd), 'Databáze byla vytvořena.', $Kg);
			}
		} else {
			if (!$K["collation"]) {
				redirect(substr(ME, 0, -1));
			}
			query_redirect("ALTER DATABASE " . idf_escape($C) . (preg_match('~^[a-z0-9_]+$~i', $K["collation"]) ? " COLLATE $K[collation]" : ""), substr(ME, 0, -1), 'Databáze byla změněna.');
		}
	}
	page_header(DB != "" ? 'Pozměnit databázi' : 'Vytvořit databázi', $n, [], h(DB));
	$mb = collations();
	$C = DB;
	if ($_POST) {
		$C = $K["name"];
	} elseif (DB != "") {
		$K["collation"] = db_collation(DB, $mb);
	} elseif ($w == "sql") {
		foreach (get_vals("SHOW GRANTS") as $Tc) {
			if (preg_match('~ ON (`(([^\\\\`]|``|\\\\.)*)%`\\.\\*)?~', $Tc, $B) && $B[1]) {
				$C = stripcslashes(idf_unescape("`$B[2]`"));
				break;
			}
		}
	}
	echo '
<form action="" method="post">
<p>
', ($_POST["add_x"] || strpos($C, "\n") ? '<textarea id="name" name="name" rows="10" cols="40">' . h($C) . '</textarea><br>' : '<input name="name" id="name" value="' . h($C) . '" maxlength="64" autocapitalize="off">') . "\n" . ($mb ? html_select("collation", ["" => "(" . 'porovnávání' . ")"] + $mb, $K["collation"]) . doc_link([
				'sql' => "charset-charsets.html",
				'mssql' => "ms187963.aspx",
			]) : ""); ?>
	<script type='text/javascript'>focus(document.getElementById('name'));</script>
	<input type="submit" value="Uložit">
	<?php
	if (DB != "") {
		echo "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . ">\n";
	} elseif (!$_POST["add_x"] && $_GET["db"] == "") {
		echo "<input type='image' class='icon' name='add' src='" . h(preg_replace("~\\?.*~", "", ME)) . "?file=plus.gif&amp;version=4.2.5' alt='+' title='" . 'Přidat další' . "'>\n";
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["scheme"])) {
	$K = $_POST;
	if ($_POST && !$n) {
		$_ = preg_replace('~ns=[^&]*&~', '', ME) . "ns=";
		if ($_POST["drop"]) {
			query_redirect("DROP SCHEMA " . idf_escape($_GET["ns"]), $_, 'Schéma bylo odstraněno.');
		} else {
			$C = trim($K["name"]);
			$_ .= urlencode($C);
			if ($_GET["ns"] == "") {
				query_redirect("CREATE SCHEMA " . idf_escape($C), $_, 'Schéma bylo vytvořeno.');
			} elseif ($_GET["ns"] != $C) {
				query_redirect("ALTER SCHEMA " . idf_escape($_GET["ns"]) . " RENAME TO " . idf_escape($C), $_, 'Schéma bylo změněno.');
			} else {
				redirect($_);
			}
		}
	}
	page_header($_GET["ns"] != "" ? 'Pozměnit schéma' : 'Vytvořit schéma', $n);
	if (!$K) {
		$K["name"] = $_GET["ns"];
	}
	echo '
<form action="" method="post">
<p><input name="name" id="name" value="', h($K["name"]); ?>" autocapitalize="off">
	<script type='text/javascript'>focus(document.getElementById('name'));</script>
	<input type="submit" value="Uložit">
	<?php
	if ($_GET["ns"] != "") {
		echo "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . ">\n";
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["call"])) {
	$da = $_GET["call"];
	page_header('Zavolat' . ": " . h($da), $n);
	$eg = routine($da, (isset($_GET["callf"]) ? "FUNCTION" : "PROCEDURE"));
	$ld = [];
	$cf = [];
	foreach ($eg["fields"] as $s => $o) {
		if (substr($o["inout"], -3) == "OUT") {
			$cf[$s] = "@" . idf_escape($o["field"]) . " AS " . idf_escape($o["field"]);
		}
		if (!$o["inout"] || substr($o["inout"], 0, 2) == "IN") {
			$ld[] = $s;
		}
	}
	if (!$n && $_POST) {
		$Xa = [];
		foreach ($eg["fields"] as $x => $o) {
			if (in_array($x, $ld)) {
				$X = process_input($o);
				if ($X === false) {
					$X = "''";
				}
				if (isset($cf[$x])) {
					$g->query("SET @" . idf_escape($o["field"]) . " = $X");
				}
			}
			$Xa[] = (isset($cf[$x]) ? "@" . idf_escape($o["field"]) : $X);
		}
		$H = (isset($_GET["callf"]) ? "SELECT" : "CALL") . " " . idf_escape($da) . "(" . implode(", ", $Xa) . ")";
		echo "<p><code class='jush-$w'>" . h($H) . "</code> <a href='" . h(ME) . "sql=" . urlencode($H) . "'>" . 'Upravit' . "</a>\n";
		if (!$g->multi_query($H)) {
			echo "<p class='error'>" . error() . "\n";
		} else {
			$h = connect();
			if (is_object($h)) {
				$h->select_db(DB);
			}
			do {
				$I = $g->store_result();
				if (is_object($I)) {
					select($I, $h);
				} else {
					echo "<p class='message'>" . lang([
							'Procedura byla zavolána, byl změněn %d záznam.',
							'Procedura byla zavolána, byly změněny %d záznamy.',
							'Procedura byla zavolána, bylo změněno %d záznamů.',
						], $g->affected_rows) . "\n";
				}
			} while ($g->next_result());
			if ($cf) {
				select($g->query("SELECT " . implode(", ", $cf)));
			}
		}
	}
	echo '
<form action="" method="post">
';
	if ($ld) {
		echo "<table cellspacing='0'>\n";
		foreach ($ld as $x) {
			$o = $eg["fields"][$x];
			$C = $o["field"];
			echo "<tr><th>" . $b->fieldName($o);
			$Y = $_POST["fields"][$C];
			if ($Y != "") {
				if ($o["type"] == "enum") {
					$Y = +$Y;
				}
				if ($o["type"] == "set") {
					$Y = array_sum($Y);
				}
			}
			input($o, $Y, (string)$_POST["function"][$C]);
			echo "\n";
		}
		echo "</table>\n";
	}
	echo '<p>
<input type="submit" value="Zavolat">
<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["foreign"])) {
	$a = $_GET["foreign"];
	$C = $_GET["name"];
	$K = $_POST;
	if ($_POST && !$n && !$_POST["add"] && !$_POST["change"] && !$_POST["change-js"]) {
		$ie = ($_POST["drop"] ? 'Cizí klíč byl odstraněn.' : ($C != "" ? 'Cizí klíč byl změněn.' : 'Cizí klíč byl vytvořen.'));
		$A = ME . "table=" . urlencode($a);
		$K["source"] = array_filter($K["source"], 'strlen');
		ksort($K["source"]);
		$Yg = [];
		foreach ($K["source"] as $x => $X) {
			$Yg[$x] = $K["target"][$x];
		}
		$K["target"] = $Yg;
		if ($w == "sqlite") {
			queries_redirect($A, $ie, recreate_table($a, $a, [], [], [" $C" => ($_POST["drop"] ? "" : " " . format_foreign_key($K))]));
		} else {
			$c = "ALTER TABLE " . table($a);
			$Wb = "\nDROP " . ($w == "sql" ? "FOREIGN KEY " : "CONSTRAINT ") . idf_escape($C);
			if ($_POST["drop"]) {
				query_redirect($c . $Wb, $A, $ie);
			} else {
				query_redirect($c . ($C != "" ? "$Wb," : "") . "\nADD" . format_foreign_key($K), $A, $ie);
				$n = 'Zdrojové a cílové sloupce musí mít stejný datový typ, nad cílovými sloupci musí být definován index a odkazovaná data musí existovat.' . "<br>$n";
			}
		}
	}
	page_header('Cizí klíč', $n, ["table" => $a], h($a));
	if ($_POST) {
		ksort($K["source"]);
		if ($_POST["add"]) {
			$K["source"][] = "";
		} elseif ($_POST["change"] || $_POST["change-js"]) {
			$K["target"] = [];
		}
	} elseif ($C != "") {
		$Mc = foreign_keys($a);
		$K = $Mc[$C];
		$K["source"][] = "";
	} else {
		$K["table"] = $a;
		$K["source"] = [""];
	}
	$Ag = array_keys(fields($a));
	$Yg = ($a === $K["table"] ? $Ag : array_keys(fields($K["table"])));
	$Qf = array_keys(array_filter(table_status('', true), 'fk_support'));
	echo '
<form action="" method="post">
<p>
';
	if ($K["db"] == "" && $K["ns"] == "") {
		echo 'Cílová tabulka:
', html_select("table", $Qf, $K["table"], "this.form['change-js'].value = '1'; this.form.submit();"), '<input type="hidden" name="change-js" value="">
<noscript><p><input type="submit" name="change" value="Změnit"></noscript>
<table cellspacing="0">
<thead><tr><th>Zdroj<th>Cíl</thead>
';
		$Dd = 0;
		foreach ($K["source"] as $x => $X) {
			echo "<tr>", "<td>" . html_select("source[" . (+$x) . "]", [-1 => ""] + $Ag, $X, ($Dd == count($K["source"]) - 1 ? "foreignAddRow(this);" : 1)), "<td>" . html_select("target[" . (+$x) . "]", $Yg, $K["target"][$x]);
			$Dd++;
		}
		echo '</table>
<p>
Při smazání: ', html_select("on_delete", [-1 => ""] + explode("|", $Je), $K["on_delete"]), ' Při změně: ', html_select("on_update", [-1 => ""] + explode("|", $Je), $K["on_update"]), doc_link([
			'sql' => "innodb-foreign-key-constraints.html",
			'pgsql' => "sql-createtable.html#SQL-CREATETABLE-REFERENCES",
			'mssql' => "ms174979.aspx",
			'oracle' => "clauses002.htm#sthref2903",
		]), '<p>
<input type="submit" value="Uložit">
<noscript><p><input type="submit" name="add" value="Přidat sloupec"></noscript>
';
	}
	if ($C != "") {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["view"])) {
	$a = $_GET["view"];
	$K = $_POST;
	if ($_POST && !$n) {
		$C = trim($K["name"]);
		$Fa = " AS\n$K[select]";
		$A = ME . "table=" . urlencode($C);
		$ie = 'Pohled byl změněn.';
		if ($_GET["materialized"]) {
			$U = "MATERIALIZED VIEW";
		} else {
			$U = "VIEW";
			if ($w == "pgsql") {
				$Fg = table_status($C);
				$U = ($Fg ? strtoupper($Fg["Engine"]) : $U);
			}
		}
		if (!$_POST["drop"] && $a == $C && $w != "sqlite" && $U != "MATERIALIZED VIEW") {
			query_redirect(($w == "mssql" ? "ALTER" : "CREATE OR REPLACE") . " VIEW " . table($C) . $Fa, $A, $ie);
		} else {
			$ah = $C . "_adminer_" . uniqid();
			drop_create("DROP $U " . table($a), "CREATE $U " . table($C) . $Fa, "DROP $U " . table($C), "CREATE $U " . table($ah) . $Fa, "DROP $U " . table($ah), ($_POST["drop"] ? substr(ME, 0, -1) : $A), 'Pohled byl odstraněn.', $ie, 'Pohled byl vytvořen.', $a, $C);
		}
	}
	if (!$_POST && $a != "") {
		$K = view($a);
		$K["name"] = $a;
		if (!$n) {
			$n = error();
		}
	}
	page_header(($a != "" ? 'Pozměnit pohled' : 'Vytvořit pohled'), $n, ["table" => $a], h($a));
	echo '
<form action="" method="post">
<p>Název: <input name="name" value="', h($K["name"]), '" maxlength="64" autocapitalize="off">
<p>';
	textarea("select", $K["select"]);
	echo '<p>
<input type="submit" value="Uložit">
';
	if ($_GET["view"] != "") {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["event"])) {
	$aa = $_GET["event"];
	$vd = [
		"YEAR",
		"QUARTER",
		"MONTH",
		"DAY",
		"HOUR",
		"MINUTE",
		"WEEK",
		"SECOND",
		"YEAR_MONTH",
		"DAY_HOUR",
		"DAY_MINUTE",
		"DAY_SECOND",
		"HOUR_MINUTE",
		"HOUR_SECOND",
		"MINUTE_SECOND",
	];
	$Gg = [
		"ENABLED" => "ENABLE",
		"DISABLED" => "DISABLE",
		"SLAVESIDE_DISABLED" => "DISABLE ON SLAVE",
	];
	$K = $_POST;
	if ($_POST && !$n) {
		if ($_POST["drop"]) {
			query_redirect("DROP EVENT " . idf_escape($aa), substr(ME, 0, -1), 'Událost byla odstraněna.');
		} elseif (in_array($K["INTERVAL_FIELD"], $vd) && isset($Gg[$K["STATUS"]])) {
			$jg = "\nON SCHEDULE " . ($K["INTERVAL_VALUE"] ? "EVERY " . q($K["INTERVAL_VALUE"]) . " $K[INTERVAL_FIELD]" . ($K["STARTS"] ? " STARTS " . q($K["STARTS"]) : "") . ($K["ENDS"] ? " ENDS " . q($K["ENDS"]) : "") : "AT " . q($K["STARTS"])) . " ON COMPLETION" . ($K["ON_COMPLETION"] ? "" : " NOT") . " PRESERVE";
			queries_redirect(substr(ME, 0, -1), ($aa != "" ? 'Událost byla změněna.' : 'Událost byla vytvořena.'), queries(($aa != "" ? "ALTER EVENT " . idf_escape($aa) . $jg . ($aa != $K["EVENT_NAME"] ? "\nRENAME TO " . idf_escape($K["EVENT_NAME"]) : "") : "CREATE EVENT " . idf_escape($K["EVENT_NAME"]) . $jg) . "\n" . $Gg[$K["STATUS"]] . " COMMENT " . q($K["EVENT_COMMENT"]) . rtrim(" DO\n$K[EVENT_DEFINITION]", ";") . ";"));
		}
	}
	page_header(($aa != "" ? 'Pozměnit událost' . ": " . h($aa) : 'Vytvořit událost'), $n);
	if (!$K && $aa != "") {
		$L = get_rows("SELECT * FROM information_schema.EVENTS WHERE EVENT_SCHEMA = " . q(DB) . " AND EVENT_NAME = " . q($aa));
		$K = reset($L);
	}
	echo '
<form action="" method="post">
<table cellspacing="0">
<tr><th>Název<td><input name="EVENT_NAME" value="', h($K["EVENT_NAME"]), '" maxlength="64" autocapitalize="off">
<tr><th title="datetime">Začátek<td><input name="STARTS" value="', h("$K[EXECUTE_AT]$K[STARTS]"), '">
<tr><th title="datetime">Konec<td><input name="ENDS" value="', h($K["ENDS"]), '">
<tr><th>Každých<td><input type="number" name="INTERVAL_VALUE" value="', h($K["INTERVAL_VALUE"]), '" class="size"> ', html_select("INTERVAL_FIELD", $vd, $K["INTERVAL_FIELD"]), '<tr><th>Stav<td>', html_select("STATUS", $Gg, $K["STATUS"]), '<tr><th>Komentář<td><input name="EVENT_COMMENT" value="', h($K["EVENT_COMMENT"]), '" maxlength="64">
<tr><th>&nbsp;<td>', checkbox("ON_COMPLETION", "PRESERVE", $K["ON_COMPLETION"] == "PRESERVE", 'Po dokončení zachovat'), '</table>
<p>';
	textarea("EVENT_DEFINITION", $K["EVENT_DEFINITION"]);
	echo '<p>
<input type="submit" value="Uložit">
';
	if ($aa != "") {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["procedure"])) {
	$da = $_GET["procedure"];
	$eg = (isset($_GET["function"]) ? "FUNCTION" : "PROCEDURE");
	$K = $_POST;
	$K["fields"] = (array)$K["fields"];
	if ($_POST && !process_fields($K["fields"]) && !$n) {
		$ah = "$K[name]_adminer_" . uniqid();
		drop_create("DROP $eg " . idf_escape($da), create_routine($eg, $K), "DROP $eg " . idf_escape($K["name"]), create_routine($eg, ["name" => $ah] + $K), "DROP $eg " . idf_escape($ah), substr(ME, 0, -1), 'Procedura byla odstraněna.', 'Procedura byla změněna.', 'Procedura byla vytvořena.', $da, $K["name"]);
	}
	page_header(($da != "" ? (isset($_GET["function"]) ? 'Změnit funkci' : 'Změnit proceduru') . ": " . h($da) : (isset($_GET["function"]) ? 'Vytvořit funkci' : 'Vytvořit proceduru')), $n);
	if (!$_POST && $da != "") {
		$K = routine($da, $eg);
		$K["name"] = $da;
	}
	$mb = get_vals("SHOW CHARACTER SET");
	sort($mb);
	$fg = routine_languages();
	echo '
<form action="" method="post" id="form">
<p>Název: <input name="name" value="', h($K["name"]), '" maxlength="64" autocapitalize="off">
', ($fg ? 'Jazyk' . ": " . html_select("language", $fg, $K["language"]) : ""), '<input type="submit" value="Uložit">
<table cellspacing="0" class="nowrap">
';
	edit_fields($K["fields"], $mb, $eg);
	if (isset($_GET["function"])) {
		echo "<tr><td>" . 'Návratový typ';
		edit_type("returns", $K["returns"], $mb);
	}
	echo '</table>
<p>';
	textarea("definition", $K["definition"]);
	echo '<p>
<input type="submit" value="Uložit">
';
	if ($da != "") {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["sequence"])) {
	$fa = $_GET["sequence"];
	$K = $_POST;
	if ($_POST && !$n) {
		$_ = substr(ME, 0, -1);
		$C = trim($K["name"]);
		if ($_POST["drop"]) {
			query_redirect("DROP SEQUENCE " . idf_escape($fa), $_, 'Sekvence byla odstraněna.');
		} elseif ($fa == "") {
			query_redirect("CREATE SEQUENCE " . idf_escape($C), $_, 'Sekvence byla vytvořena.');
		} elseif ($fa != $C) {
			query_redirect("ALTER SEQUENCE " . idf_escape($fa) . " RENAME TO " . idf_escape($C), $_, 'Sekvence byla změněna.');
		} else {
			redirect($_);
		}
	}
	page_header($fa != "" ? 'Pozměnit sekvenci' . ": " . h($fa) : 'Vytvořit sekvenci', $n);
	if (!$K) {
		$K["name"] = $fa;
	}
	echo '
<form action="" method="post">
<p><input name="name" value="', h($K["name"]), '" autocapitalize="off">
<input type="submit" value="Uložit">
';
	if ($fa != "") {
		echo "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . ">\n";
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["type"])) {
	$ga = $_GET["type"];
	$K = $_POST;
	if ($_POST && !$n) {
		$_ = substr(ME, 0, -1);
		if ($_POST["drop"]) {
			query_redirect("DROP TYPE " . idf_escape($ga), $_, 'Typ byl odstraněn.');
		} else {
			query_redirect("CREATE TYPE " . idf_escape(trim($K["name"])) . " $K[as]", $_, 'Typ byl vytvořen.');
		}
	}
	page_header($ga != "" ? 'Pozměnit typ' . ": " . h($ga) : 'Vytvořit typ', $n);
	if (!$K) {
		$K["as"] = "AS ";
	}
	echo '
<form action="" method="post">
<p>
';
	if ($ga != "") {
		echo "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . ">\n";
	} else {
		echo "<input name='name' value='" . h($K['name']) . "' autocapitalize='off'>\n";
		textarea("as", $K["as"]);
		echo "<p><input type='submit' value='" . 'Uložit' . "'>\n";
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif(isset($_GET["trigger"])){$a=$_GET["trigger"];$C=$_GET["name"];$vh=trigger_options();$K=(array)trigger($C)+["Trigger"=>$a."_bi"];if($_POST){if(!$n&&in_array($_POST["Timing"],$vh["Timing"])&&in_array($_POST["Event"],$vh["Event"])&&in_array($_POST["Type"],$vh["Type"])){$Ie=" ON ".table($a);$Wb="DROP TRIGGER ".idf_escape($C).($w=="pgsql"?$Ie:"");$A=ME."table=".urlencode($a);if($_POST["drop"]){query_redirect($Wb,$A,'Trigger byl odstraněn.');}else{if($C!=""){queries($Wb);}queries_redirect($A,($C!=""?'Trigger byl změněn.':'Trigger byl vytvořen.'),queries(create_trigger($Ie,$_POST)));if($C!=""){queries(create_trigger($Ie,$K+["Type"=>reset($vh["Type"])]));}}}$K=$_POST;}page_header(($C!=""?'Změnit trigger'.": ".h($C):'Vytvořit trigger'),$n,["table"=>$a]);echo'
<form action="" method="post" id="form">
<table cellspacing="0">
<tr><th>Čas<td>',html_select("Timing",$vh["Timing"],$K["Timing"],"triggerChange(/^".preg_quote($a,"/")."_[ba][iud]$/, '".js_escape($a)."', this.form);"),'<tr><th>Událost<td>',html_select("Event",$vh["Event"],$K["Event"],"this.form['Timing'].onchange();"),(in_array("UPDATE OF",$vh["Event"])?" <input name='Of' value='".h($K["Of"])."' class='hidden'>":""),'<tr><th>Typ<td>',html_select("Type",$vh["Type"],$K["Type"]),'</table>
<p>Název: <input name="Trigger" value="',h($K["Trigger"]);?>" maxlength="64" autocapitalize="off">
<script type="text/javascript">document.getElementById('form')['Timing'].onchange();</script>
<p><?php textarea("Statement",$K["Statement"]);echo'<p>
<input type="submit" value="Uložit">
';if($C!=""){echo'<input type="submit" name="drop" value="Odstranit"',confirm(),'>';}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';} elseif (isset($_GET["user"])) {
	$ha = $_GET["user"];
	$Df = ["" => ["All privileges" => ""]];
	foreach (get_rows("SHOW PRIVILEGES") as $K) {
		foreach (explode(",", ($K["Privilege"] == "Grant option" ? "" : $K["Context"])) as $xb) {
			$Df[$xb][$K["Privilege"]] = $K["Comment"];
		}
	}
	$Df["Server Admin"] += $Df["File access on server"];
	$Df["Databases"]["Create routine"] = $Df["Procedures"]["Create routine"];
	unset($Df["Procedures"]["Create routine"]);
	$Df["Columns"] = [];
	foreach ([
		         "Select",
		         "Insert",
		         "Update",
		         "References",
	         ] as $X) {
		$Df["Columns"][$X] = $Df["Tables"][$X];
	}
	unset($Df["Server Admin"]["Usage"]);
	foreach ($Df["Tables"] as $x => $X) {
		unset($Df["Databases"][$x]);
	}
	$ve = [];
	if ($_POST) {
		foreach ($_POST["objects"] as $x => $X) {
			$ve[$X] = (array)$ve[$X] + (array)$_POST["grants"][$x];
		}
	}
	$Uc = [];
	$Ge = "";
	if (isset($_GET["host"]) && ($I = $g->query("SHOW GRANTS FOR " . q($ha) . "@" . q($_GET["host"])))) {
		while ($K = $I->fetch_row()) {
			if (preg_match('~GRANT (.*) ON (.*) TO ~', $K[0], $B) && preg_match_all('~ *([^(,]*[^ ,(])( *\\([^)]+\\))?~', $B[1], $ae, PREG_SET_ORDER)) {
				foreach ($ae as $X) {
					if ($X[1] != "USAGE") {
						$Uc["$B[2]$X[2]"][$X[1]] = true;
					}
					if (preg_match('~ WITH GRANT OPTION~', $K[0])) {
						$Uc["$B[2]$X[2]"]["GRANT OPTION"] = true;
					}
				}
			}
			if (preg_match("~ IDENTIFIED BY PASSWORD '([^']+)~", $K[0], $B)) {
				$Ge = $B[1];
			}
		}
	}
	if ($_POST && !$n) {
		$He = (isset($_GET["host"]) ? q($ha) . "@" . q($_GET["host"]) : "''");
		if ($_POST["drop"]) {
			query_redirect("DROP USER $He", ME . "privileges=", 'Uživatel byl odstraněn.');
		} else {
			$xe = q($_POST["user"]) . "@" . q($_POST["host"]);
			$mf = $_POST["pass"];
			if ($mf != '' && !$_POST["hashed"]) {
				$mf = $g->result("SELECT PASSWORD(" . q($mf) . ")");
				$n = !$mf;
			}
			$Bb = false;
			if (!$n) {
				if ($He != $xe) {
					$Bb = queries(($g->server_info < 5 ? "GRANT USAGE ON *.* TO" : "CREATE USER") . " $xe IDENTIFIED BY PASSWORD " . q($mf));
					$n = !$Bb;
				} elseif ($mf != $Ge) {
					queries("SET PASSWORD FOR $xe = " . q($mf));
				}
			}
			if (!$n) {
				$bg = [];
				foreach ($ve as $Be => $Tc) {
					if (isset($_GET["grant"])) {
						$Tc = array_filter($Tc);
					}
					$Tc = array_keys($Tc);
					if (isset($_GET["grant"])) {
						$bg = array_diff(array_keys(array_filter($ve[$Be], 'strlen')), $Tc);
					} elseif ($He == $xe) {
						$Ee = array_keys((array)$Uc[$Be]);
						$bg = array_diff($Ee, $Tc);
						$Tc = array_diff($Tc, $Ee);
						unset($Uc[$Be]);
					}
					if (preg_match('~^(.+)\\s*(\\(.*\\))?$~U', $Be, $B) && (!grant("REVOKE", $bg, $B[2], " ON $B[1] FROM $xe") || !grant("GRANT", $Tc, $B[2], " ON $B[1] TO $xe"))) {
						$n = true;
						break;
					}
				}
			}
			if (!$n && isset($_GET["host"])) {
				if ($He != $xe) {
					queries("DROP USER $He");
				} elseif (!isset($_GET["grant"])) {
					foreach ($Uc as $Be => $bg) {
						if (preg_match('~^(.+)(\\(.*\\))?$~U', $Be, $B)) {
							grant("REVOKE", array_keys($bg), $B[2], " ON $B[1] FROM $xe");
						}
					}
				}
			}
			queries_redirect(ME . "privileges=", (isset($_GET["host"]) ? 'Uživatel byl změněn.' : 'Uživatel byl vytvořen.'), !$n);
			if ($Bb) {
				$g->query("DROP USER $xe");
			}
		}
	}
	page_header((isset($_GET["host"]) ? 'Uživatel' . ": " . h("$ha@$_GET[host]") : 'Vytvořit uživatele'), $n, [
		"privileges" => [
			'',
			'Oprávnění',
		],
	]);
	if ($_POST) {
		$K = $_POST;
		$Uc = $ve;
	} else {
		$K = $_GET + ["host" => $g->result("SELECT SUBSTRING_INDEX(CURRENT_USER, '@', -1)")];
		$K["pass"] = $Ge;
		if ($Ge != "") {
			$K["hashed"] = true;
		}
		$Uc[(DB == "" || $Uc ? "" : idf_escape(addcslashes(DB, "%_\\"))) . ".*"] = [];
	}
	echo '<form action="" method="post">
<table cellspacing="0">
<tr><th>Server<td><input name="host" maxlength="60" value="', h($K["host"]), '" autocapitalize="off">
<tr><th>Uživatel<td><input name="user" maxlength="16" value="', h($K["user"]), '" autocapitalize="off">
<tr><th>Heslo<td><input name="pass" id="pass" value="', h($K["pass"]), '">
';
	if (!$K["hashed"]) {
		echo '<script type="text/javascript">typePassword(document.getElementById(\'pass\'));</script>';
	}
	echo checkbox("hashed", 1, $K["hashed"], 'Zahašované', "typePassword(this.form['pass'], this.checked);"), '</table>

';
	echo "<table cellspacing='0'>\n", "<thead><tr><th colspan='2'>" . 'Oprávnění' . doc_link(['sql' => "grant.html#priv_level"]);
	$s = 0;
	foreach ($Uc as $Be => $Tc) {
		echo '<th>' . ($Be != "*.*" ? "<input name='objects[$s]' value='" . h($Be) . "' size='10' autocapitalize='off'>" : "<input type='hidden' name='objects[$s]' value='*.*' size='10'>*.*");
		$s++;
	}
	echo "</thead>\n";
	foreach ([
		         "" => "",
		         "Server Admin" => 'Server',
		         "Databases" => 'Databáze',
		         "Tables" => 'Tabulka',
		         "Columns" => 'Sloupec',
		         "Procedures" => 'Procedura',
	         ] as $xb => $Mb) {
		foreach ((array)$Df[$xb] as $Cf => $qb) {
			echo "<tr" . odd() . "><td" . ($Mb ? ">$Mb<td" : " colspan='2'") . ' lang="en" title="' . h($qb) . '">' . h($Cf);
			$s = 0;
			foreach ($Uc as $Be => $Tc) {
				$C = "'grants[$s][" . h(strtoupper($Cf)) . "]'";
				$Y = $Tc[strtoupper($Cf)];
				if ($xb == "Server Admin" && $Be != (isset($Uc["*.*"]) ? "*.*" : ".*")) {
					echo "<td>&nbsp;";
				} elseif (isset($_GET["grant"])) {
					echo "<td><select name=$C><option><option value='1'" . ($Y ? " selected" : "") . ">" . 'Povolit' . "<option value='0'" . ($Y == "0" ? " selected" : "") . ">" . 'Zakázat' . "</select>";
				} else {
					echo "<td align='center'><label class='block'><input type='checkbox' name=$C value='1'" . ($Y ? " checked" : "") . ($Cf == "All privileges" ? " id='grants-$s-all'" : ($Cf == "Grant option" ? "" : " onclick=\"if (this.checked) formUncheck('grants-$s-all');\"")) . "></label>";
				}
				$s++;
			}
		}
	}
	echo "</table>\n", '<p>
<input type="submit" value="Uložit">
';
	if (isset($_GET["host"])) {
		echo '<input type="submit" name="drop" value="Odstranit"', confirm(), '>';
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["processlist"])) {
	if (support("kill") && $_POST && !$n) {
		$Kd = 0;
		foreach ((array)$_POST["kill"] as $X) {
			if (kill_process($X)) {
				$Kd++;
			}
		}
		queries_redirect(ME . "processlist=", lang([
			'Byl ukončen %d proces.',
			'Byly ukončeny %d procesy.',
			'Bylo ukončeno %d procesů.',
		], $Kd), $Kd || !$_POST["kill"]);
	}
	page_header('Seznam procesů', $n);
	echo '
<form action="" method="post">
<table cellspacing="0" onclick="tableClick(event);" ondblclick="tableClick(event, true);" class="nowrap checkable">
';
	$s = -1;
	foreach (process_list() as $s => $K) {
		if (!$s) {
			echo "<thead><tr lang='en'>" . (support("kill") ? "<th>&nbsp;" : "");
			foreach ($K as $x => $X) {
				echo "<th>$x" . doc_link([
						'sql' => "show-processlist.html#processlist_" . strtolower($x),
						'pgsql' => "monitoring-stats.html#PG-STAT-ACTIVITY-VIEW",
						'oracle' => "../b14237/dynviews_2088.htm",
					]);
			}
			echo "</thead>\n";
		}
		echo "<tr" . odd() . ">" . (support("kill") ? "<td>" . checkbox("kill[]", $K[$w == "sql" ? "Id" : "pid"], 0) : "");
		foreach ($K as $x => $X) {
			echo "<td>" . (($w == "sql" && $x == "Info" && preg_match("~Query|Killed~", $K["Command"]) && $X != "") || ($w == "pgsql" && $x == "current_query" && $X != "<IDLE>") || ($w == "oracle" && $x == "sql_text" && $X != "") ? "<code class='jush-$w'>" . shorten_utf8($X, 100, "</code>") . ' <a href="' . h(ME . ($K["db"] != "" ? "db=" . urlencode($K["db"]) . "&" : "") . "sql=" . urlencode($X)) . '">' . 'Klonovat' . '</a>' : nbsp($X));
		}
		echo "\n";
	}
	echo '</table>
<script type=\'text/javascript\'>tableCheck();</script>
<p>
';
	if (support("kill")) {
		echo ($s + 1) . "/" . sprintf('%d celkem', max_connections()), "<p><input type='submit' value='" . 'Ukončit' . "'>\n";
	}
	echo '<input type="hidden" name="token" value="', $T, '">
</form>
';
} elseif (isset($_GET["select"])) {
	$a = $_GET["select"];
	$R = table_status1($a);
	$v = indexes($a);
	$p = fields($a);
	$Mc = column_foreign_keys($a);
	$De = "";
	if ($R["Oid"]) {
		$De = ($w == "sqlite" ? "rowid" : "oid");
		$v[] = [
			"type" => "PRIMARY",
			"columns" => [$De],
		];
	}
	parse_str($_COOKIE["adminer_import"], $xa);
	$cg = [];
	$f = [];
	$eh = null;
	foreach ($p as $x => $o) {
		$C = $b->fieldName($o);
		if (isset($o["privileges"]["select"]) && $C != "") {
			$f[$x] = html_entity_decode(strip_tags($C), ENT_QUOTES);
			if (is_shortable($o)) {
				$eh = $b->selectLengthProcess();
			}
		}
		$cg += $o["privileges"];
	}
	list($M, $Vc) = $b->selectColumnsProcess($f, $v);
	$zd = count($Vc) < count($M);
	$Z = $b->selectSearchProcess($p, $v);
	$Te = $b->selectOrderProcess($p, $v);
	$z = $b->selectLimitProcess();
	$Rc = ($M ? implode(", ", $M) : "*" . ($De ? ", $De" : "")) . convert_fields($f, $p, $M) . "\nFROM " . table($a);
	$Wc = ($Vc && $zd ? "\nGROUP BY " . implode(", ", $Vc) : "") . ($Te ? "\nORDER BY " . implode(", ", $Te) : "");
	if ($_GET["val"] && is_ajax()) {
		header("Content-Type: text/plain; charset=utf-8");
		foreach ($_GET["val"] as $Ch => $K) {
			$Fa = convert_field($p[key($K)]);
			$M = [$Fa ? $Fa : idf_escape(key($K))];
			$Z[] = where_check($Ch, $p);
			$J = $Ub->select($a, $M, $Z, $M);
			if ($J) {
				echo reset($J->fetch_row());
			}
		}
		exit;
	}
	if ($_POST && !$n) {
		$Zh = $Z;
		if (!$_POST["all"] && is_array($_POST["check"])) {
			$db = [];
			foreach ($_POST["check"] as $ab) {
				$db[] = where_check($ab, $p);
			}
			$Zh[] = "((" . implode(") OR (", $db) . "))";
		}
		$Zh = ($Zh ? "\nWHERE " . implode(" AND ", $Zh) : "");
		$zf = $Eh = null;
		foreach ($v as $u) {
			if ($u["type"] == "PRIMARY") {
				$zf = array_flip($u["columns"]);
				$Eh = ($M ? $zf : []);
				break;
			}
		}
		foreach ((array)$Eh as $x => $X) {
			if (in_array(idf_escape($x), $M)) {
				unset($Eh[$x]);
			}
		}
		if ($_POST["export"]) {
			cookie("adminer_import", "output=" . urlencode($_POST["output"]) . "&format=" . urlencode($_POST["format"]));
			dump_headers($a);
			$b->dumpTable($a, "");
			if (!is_array($_POST["check"]) || $Eh === []) {
				$H = "SELECT $Rc$Zh$Wc";
			} else {
				$Ah = [];
				foreach ($_POST["check"] as $X) {
					$Ah[] = "(SELECT" . limit($Rc, "\nWHERE " . ($Z ? implode(" AND ", $Z) . " AND " : "") . where_check($X, $p) . $Wc, 1) . ")";
				}
				$H = implode(" UNION ALL ", $Ah);
			}
			$b->dumpData($a, "table", $H);
			exit;
		}
		if (!$b->selectEmailProcess($Z, $Mc)) {
			if ($_POST["save"] || $_POST["delete"]) {
				$I = true;
				$ya = 0;
				$O = [];
				if (!$_POST["delete"]) {
					foreach ($f as $C => $X) {
						$X = process_input($p[$C]);
						if ($X !== null && ($_POST["clone"] || $X !== false)) {
							$O[idf_escape($C)] = ($X !== false ? $X : idf_escape($C));
						}
					}
				}
				if ($_POST["delete"] || $O) {
					if ($_POST["clone"]) {
						$H = "INTO " . table($a) . " (" . implode(", ", array_keys($O)) . ")\nSELECT " . implode(", ", $O) . "\nFROM " . table($a);
					}
					if ($_POST["all"] || ($Eh === [] && is_array($_POST["check"])) || $zd) {
						$I = ($_POST["delete"] ? $Ub->delete($a, $Zh) : ($_POST["clone"] ? queries("INSERT $H$Zh") : $Ub->update($a, $O, $Zh)));
						$ya = $g->affected_rows;
					} else {
						foreach ((array)$_POST["check"] as $X) {
							$Yh = "\nWHERE " . ($Z ? implode(" AND ", $Z) . " AND " : "") . where_check($X, $p);
							$I = ($_POST["delete"] ? $Ub->delete($a, $Yh, 1) : ($_POST["clone"] ? queries("INSERT" . limit1($H, $Yh)) : $Ub->update($a, $O, $Yh)));
							if (!$I) {
								break;
							}
							$ya += $g->affected_rows;
						}
					}
				}
				$ie = lang([
					'Byl ovlivněn %d záznam.',
					'Byly ovlivněny %d záznamy.',
					'Bylo ovlivněno %d záznamů.',
				], $ya);
				if ($_POST["clone"] && $I && $ya == 1) {
					$Od = last_id();
					if ($Od) {
						$ie = sprintf('Položka%s byla vložena.', " $Od");
					}
				}
				queries_redirect(remove_from_uri($_POST["all"] && $_POST["delete"] ? "page" : ""), $ie, $I);
				if (!$_POST["delete"]) {
					edit_form($a, $p, (array)$_POST["fields"], !$_POST["clone"]);
					page_footer();
					exit;
				}
			} elseif (!$_POST["import"]) {
				if (!$_POST["val"]) {
					$n = 'Ctrl+klikněte na políčko, které chcete změnit.';
				} else {
					$I = true;
					$ya = 0;
					foreach ($_POST["val"] as $Ch => $K) {
						$O = [];
						foreach ($K as $x => $X) {
							$x = bracket_escape($x, 1);
							$O[idf_escape($x)] = (preg_match('~char|text~', $p[$x]["type"]) || $X != "" ? $b->processInput($p[$x], $X) : "NULL");
						}
						$I = $Ub->update($a, $O, " WHERE " . ($Z ? implode(" AND ", $Z) . " AND " : "") . where_check($Ch, $p), !($zd || $Eh === []), " ");
						if (!$I) {
							break;
						}
						$ya += $g->affected_rows;
					}
					queries_redirect(remove_from_uri(), lang([
						'Byl ovlivněn %d záznam.',
						'Byly ovlivněny %d záznamy.',
						'Bylo ovlivněno %d záznamů.',
					], $ya), $I);
				}
			} elseif (!is_string($Fc = get_file("csv_file", true))) {
				$n = upload_error($Fc);
			} elseif (!preg_match('~~u', $Fc)) {
				$n = 'Soubor musí být v kódování UTF-8.';
			} else {
				cookie("adminer_import", "output=" . urlencode($xa["output"]) . "&format=" . urlencode($_POST["separator"]));
				$I = true;
				$nb = array_keys($p);
				preg_match_all('~(?>"[^"]*"|[^"\\r\\n]+)+~', $Fc, $ae);
				$ya = count($ae[0]);
				$Ub->begin();
				$rg = ($_POST["separator"] == "csv" ? "," : ($_POST["separator"] == "tsv" ? "\t" : ";"));
				$L = [];
				foreach ($ae[0] as $x => $X) {
					preg_match_all("~((?>\"[^\"]*\")+|[^$rg]*)$rg~", $X . $rg, $be);
					if (!$x && !array_diff($be[1], $nb)) {
						$nb = $be[1];
						$ya--;
					} else {
						$O = [];
						foreach ($be[1] as $s => $kb) {
							$O[idf_escape($nb[$s])] = ($kb == "" && $p[$nb[$s]]["null"] ? "NULL" : q(str_replace('""', '"', preg_replace('~^"|"$~', '', $kb))));
						}
						$L[] = $O;
					}
				}
				$I = (!$L || $Ub->insertUpdate($a, $L, $zf));
				if ($I) {
					$Ub->commit();
				}
				queries_redirect(remove_from_uri("page"), lang([
					'Byl importován %d záznam.',
					'Byly importovány %d záznamy.',
					'Bylo importováno %d záznamů.',
				], $ya), $I);
				$Ub->rollback();
			}
		}
	}
	$Qg = $b->tableName($R);
	if (is_ajax()) {
		page_headers();
		ob_start();
	} else {
		page_header('Vypsat' . ": $Qg", $n);
	}
	$O = null;
	if (isset($cg["insert"]) || !support("table")) {
		$O = "";
		foreach ((array)$_GET["where"] as $X) {
			if (count($Mc[$X["col"]]) == 1 && ($X["op"] == "=" || (!$X["op"] && !preg_match('~[_%]~', $X["val"])))) {
				$O .= "&set" . urlencode("[" . bracket_escape($X["col"]) . "]") . "=" . urlencode($X["val"]);
			}
		}
	}
	$b->selectLinks($R, $O);
	if (!$f && support("table")) {
		echo "<p class='error'>" . 'Nepodařilo se vypsat tabulku' . ($p ? "." : ": " . error()) . "\n";
	} else {
		echo "<form action='' id='form'>\n", "<div style='display: none;'>";
		hidden_fields_get();
		echo(DB != "" ? '<input type="hidden" name="db" value="' . h(DB) . '">' . (isset($_GET["ns"]) ? '<input type="hidden" name="ns" value="' . h($_GET["ns"]) . '">' : "") : "");
		echo '<input type="hidden" name="select" value="' . h($a) . '">', "</div>\n";
		$b->selectColumnsPrint($M, $f);
		$b->selectSearchPrint($Z, $f, $v);
		$b->selectOrderPrint($Te, $f, $v);
		$b->selectLimitPrint($z);
		$b->selectLengthPrint($eh);
		$b->selectActionPrint($v);
		echo "</form>\n";
		$E = $_GET["page"];
		if ($E == "last") {
			$Pc = $g->result(count_rows($a, $Z, $zd, $Vc));
			$E = floor(max(0, $Pc - 1) / $z);
		}
		$og = $M;
		if (!$og) {
			$og[] = "*";
			if ($De) {
				$og[] = $De;
			}
		}
		$yb = convert_fields($f, $p, $M);
		if ($yb) {
			$og[] = substr($yb, 2);
		}
		$I = $Ub->select($a, $og, $Z, $Vc, $Te, $z, $E, true);
		if (!$I) {
			echo "<p class='error'>" . error() . "\n";
		} else {
			if ($w == "mssql" && $E) {
				$I->seek($z * $E);
			}
			$jc = [];
			echo "<form action='' method='post' enctype='multipart/form-data'>\n";
			$L = [];
			while ($K = $I->fetch_assoc()) {
				if ($E && $w == "oracle") {
					unset($K["RNUM"]);
				}
				$L[] = $K;
			}
			if ($_GET["page"] != "last" && +$z && $Vc && $zd && $w == "sql") {
				$Pc = $g->result(" SELECT FOUND_ROWS()");
			}
			if (!$L) {
				echo "<p class='message'>" . 'Žádné řádky.' . "\n";
			} else {
				$Oa = $b->backwardKeys($a, $Qg);
				echo "<table id='table' cellspacing='0' class='nowrap checkable' onclick='tableClick(event);' ondblclick='tableClick(event, true);' onkeydown='return editingKeydown(event);'>\n", "<thead><tr>" . (!$Vc && $M ? "" : "<td><input type='checkbox' id='all-page' onclick='formCheck(this, /check/);'> <a href='" . h($_GET["modify"] ? remove_from_uri("modify") : $_SERVER["REQUEST_URI"] . "&modify=1") . "'>" . 'Změnit' . "</a>");
				$ue = [];
				$Sc = [];
				reset($M);
				$Mf = 1;
				foreach ($L[0] as $x => $X) {
					if ($x != $De) {
						$X = $_GET["columns"][key($M)];
						$o = $p[$M ? ($X ? $X["col"] : current($M)) : $x];
						$C = ($o ? $b->fieldName($o, $Mf) : ($X["fun"] ? "*" : $x));
						if ($C != "") {
							$Mf++;
							$ue[$x] = $C;
							$e = idf_escape($x);
							$gd = remove_from_uri('(order|desc)[^=]*|page') . '&order%5B0%5D=' . urlencode($x);
							$Mb = "&desc%5B0%5D=1";
							echo '<th onmouseover="columnMouse(this);" onmouseout="columnMouse(this, \' hidden\');">', '<a href="' . h($gd . ($Te[0] == $e || $Te[0] == $x || (!$Te && $zd && $Vc[0] == $e) ? $Mb : '')) . '">';
							echo apply_sql_function($X["fun"], $C) . "</a>";
							echo "<span class='column hidden'>", "<a href='" . h($gd . $Mb) . "' title='" . 'sestupně' . "' class='text'> ↓</a>";
							if (!$X["fun"]) {
								echo '<a href="#fieldset-search" onclick="selectSearch(\'' . h(js_escape($x)) . '\'); return false;" title="' . 'Vyhledat' . '" class="text jsonly"> =</a>';
							}
							echo "</span>";
						}
						$Sc[$x] = $X["fun"];
						next($M);
					}
				}
				$Td = [];
				if ($_GET["modify"]) {
					foreach ($L as $K) {
						foreach ($K as $x => $X) {
							$Td[$x] = max($Td[$x], min(40, strlen(utf8_decode($X))));
						}
					}
				}
				echo ($Oa ? "<th>" . 'Vztahy' : "") . "</thead>\n";
				if (is_ajax()) {
					if ($z % 2 == 1 && $E % 2 == 1) {
						odd();
					}
					ob_end_clean();
				}
				foreach ($b->rowDescriptions($L, $Mc) as $te => $K) {
					$Bh = unique_array($L[$te], $v);
					if (!$Bh) {
						$Bh = [];
						foreach ($L[$te] as $x => $X) {
							if (!preg_match('~^(COUNT\\((\\*|(DISTINCT )?`(?:[^`]|``)+`)\\)|(AVG|GROUP_CONCAT|MAX|MIN|SUM)\\(`(?:[^`]|``)+`\\))$~', $x)) {
								$Bh[$x] = $X;
							}
						}
					}
					$Ch = "";
					foreach ($Bh as $x => $X) {
						if (($w == "sql" || $w == "pgsql") && strlen($X) > 64) {
							$x = (strpos($x, '(') ? $x : idf_escape($x));
							$x = "MD5(" . ($w == 'sql' && preg_match("~^utf8_~", $p[$x]["collation"]) ? $x : "CONVERT($x USING " . charset($g) . ")") . ")";
							$X = md5($X);
						}
						$Ch .= "&" . ($X !== null ? urlencode("where[" . bracket_escape($x) . "]") . "=" . urlencode($X) : "null%5B%5D=" . urlencode($x));
					}
					echo "<tr" . odd() . ">" . (!$Vc && $M ? "" : "<td>" . checkbox("check[]", substr($Ch, 1), in_array(substr($Ch, 1), (array)$_POST["check"]), "", "this.form['all'].checked = false; formUncheck('all-page');") . ($zd || information_schema(DB) ? "" : " <a href='" . h(ME . "edit=" . urlencode($a) . $Ch) . "'>" . 'upravit' . "</a>"));
					foreach ($K as $x => $X) {
						if (isset($ue[$x])) {
							$o = $p[$x];
							if ($X != "" && (!isset($jc[$x]) || $jc[$x] != "")) {
								$jc[$x] = (is_mail($X) ? $ue[$x] : "");
							}
							$_ = "";
							if (preg_match('~blob|bytea|raw|file~', $o["type"]) && $X != "") {
								$_ = ME . 'download=' . urlencode($a) . '&field=' . urlencode($x) . $Ch;
							}
							if (!$_ && $X !== null) {
								foreach ((array)$Mc[$x] as $q) {
									if (count($Mc[$x]) == 1 || end($q["source"]) == $x) {
										$_ = "";
										foreach ($q["source"] as $s => $Ag) {
											$_ .= where_link($s, $q["target"][$s], $L[$te][$Ag]);
										}
										$_ = ($q["db"] != "" ? preg_replace('~([?&]db=)[^&]+~', '\\1' . urlencode($q["db"]), ME) : ME) . 'select=' . urlencode($q["table"]) . $_;
										if (count($q["source"]) == 1) {
											break;
										}
									}
								}
							}
							if ($x == "COUNT(*)") {
								$_ = ME . "select=" . urlencode($a);
								$s = 0;
								foreach ((array)$_GET["where"] as $W) {
									if (!array_key_exists($W["col"], $Bh)) {
										$_ .= where_link($s++, $W["col"], $W["val"], $W["op"]);
									}
								}
								foreach ($Bh as $Ed => $W) {
									$_ .= where_link($s++, $Ed, $W);
								}
							}
							$X = select_value($X, $_, $o, $eh);
							$hd = h("val[$Ch][" . bracket_escape($x) . "]");
							$Y = $_POST["val"][$Ch][bracket_escape($x)];
							$ec = !is_array($K[$x]) && is_utf8($X) && $L[$te][$x] == $K[$x] && !$Sc[$x];
							$dh = preg_match('~text|lob~', $o["type"]);
							if (($_GET["modify"] && $ec) || $Y !== null) {
								$Yc = h($Y !== null ? $Y : $K[$x]);
								echo "<td>" . ($dh ? "<textarea name='$hd' cols='30' rows='" . (substr_count($K[$x], "\n") + 1) . "'>$Yc</textarea>" : "<input name='$hd' value='$Yc' size='$Td[$x]'>");
							} else {
								$Xd = strpos($X, "<i>...</i>");
								echo "<td id='$hd' onclick=\"selectClick(this, event, " . ($Xd ? 2 : ($dh ? 1 : 0)) . ($ec ? "" : ", '" . h('Ke změně této hodnoty použijte odkaz upravit.') . "'") . ");\">$X";
							}
						}
					}
					if ($Oa) {
						echo "<td>";
					}
					$b->backwardKeysPrint($Oa, $L[$te]);
					echo "</tr>\n";
				}
				if (is_ajax()) {
					exit;
				}
				echo "</table>\n";
			}
			if (($L || $E) && !is_ajax()) {
				$tc = true;
				if ($_GET["page"] != "last") {
					if (!+$z) {
						$Pc = count($L);
					} elseif ($w != "sql" || !$zd) {
						$Pc = ($zd ? false : found_rows($R, $Z));
						if ($Pc < max(1e4, 2 * ($E + 1) * $z)) {
							$Pc = reset(slow_query(count_rows($a, $Z, $zd, $Vc)));
						} else {
							$tc = false;
						}
					}
				}
				if (+$z && ($Pc === false || $Pc > $z || $E)) {
					echo "<p class='pages'>";
					$de = ($Pc === false ? $E + (count($L) >= $z ? 2 : 1) : floor(($Pc - 1) / $z));
					if ($w != "simpledb") {
						echo '<a href="' . h(remove_from_uri("page")) . "\" onclick=\"pageClick(this.href, +prompt('" . 'Stránka' . "', '" . ($E + 1) . "'), event); return false;\">" . 'Stránka' . "</a>:", pagination(0, $E) . ($E > 5 ? " ..." : "");
						for ($s = max(1, $E - 4); $s < min($de, $E + 5); $s++) {
							echo pagination($s, $E);
						}
						if ($de > 0) {
							echo($E + 5 < $de ? " ..." : ""), ($tc && $Pc !== false ? pagination($de, $E) : " <a href='" . h(remove_from_uri("page") . "&page=last") . "' title='~$de'>" . 'poslední' . "</a>");
						}
						echo(($Pc === false ? count($L) + 1 : $Pc - $E * $z) > $z ? ' <a href="' . h(remove_from_uri("page") . "&page=" . ($E + 1)) . '" onclick="return !selectLoadMore(this, ' . (+$z) . ', \'' . 'Nahrává se' . '...\');" class="loadmore">' . 'Nahrát další data' . '</a>' : '');
					} else {
						echo 'Stránka' . ":", pagination(0, $E) . ($E > 1 ? " ..." : ""), ($E ? pagination($E, $E) : ""), ($de > $E ? pagination($E + 1, $E) . ($de > $E + 1 ? " ..." : "") : "");
					}
				}
				echo "<p class='count'>\n", ($Pc !== false ? "(" . ($tc ? "" : "~ ") . lang([
						'%d řádek',
						'%d řádky',
						'%d řádků',
					], $Pc) . ") " : "");
				$Rb = ($tc ? "" : "~ ") . $Pc;
				echo checkbox("all", 1, 0, 'celý výsledek', "var checked = formChecked(this, /check/); selectCount('selected', this.checked ? '$Rb' : checked); selectCount('selected2', this.checked || !checked ? '$Rb' : checked);") . "\n";
				if ($b->selectCommandPrint()) {
					echo '<fieldset', ($_GET["modify"] ? '' : ' class="jsonly"'), '><legend>Změnit</legend><div>
<input type="submit" value="Uložit"', ($_GET["modify"] ? '' : ' title="' . 'Ctrl+klikněte na políčko, které chcete změnit.' . '"'), '>
</div></fieldset>
<fieldset><legend>Označené <span id="selected"></span></legend><div>
<input type="submit" name="edit" value="Upravit">
<input type="submit" name="clone" value="Klonovat">
<input type="submit" name="delete" value="Smazat"', confirm(), '>
</div></fieldset>
';
				}
				$Nc = $b->dumpFormat();
				foreach ((array)$_GET["columns"] as $e) {
					if ($e["fun"]) {
						unset($Nc['sql']);
						break;
					}
				}
				if ($Nc) {
					print_fieldset("export", 'Export' . " <span id='selected2'></span>");
					$df = $b->dumpOutput();
					echo($df ? html_select("output", $df, $xa["output"]) . " " : ""), html_select("format", $Nc, $xa["format"]), " <input type='submit' name='export' value='" . 'Export' . "'>\n", "</div></fieldset>\n";
				}
				echo(!$Vc && $M ? "" : "<script type='text/javascript'>tableCheck();</script>\n");
			}
			if ($b->selectImportPrint()) {
				print_fieldset("import", 'Import', !$L);
				echo "<input type='file' name='csv_file'> ", html_select("separator", [
					"csv" => "CSV,",
					"csv;" => "CSV;",
					"tsv" => "TSV",
				], $xa["format"], 1);
				echo " <input type='submit' name='import' value='" . 'Import' . "'>", "</div></fieldset>\n";
			}
			$b->selectEmailPrint(array_filter($jc, 'strlen'), $f);
			echo "<p><input type='hidden' name='token' value='$T'></p>\n", "</form>\n";
		}
	}
	if (is_ajax()) {
		ob_end_clean();
		exit;
	}
} elseif (isset($_GET["variables"])) {
	$Fg = isset($_GET["status"]);
	page_header($Fg ? 'Stav' : 'Proměnné');
	$Rh = ($Fg ? show_status() : show_variables());
	if (!$Rh) {
		echo "<p class='message'>" . 'Žádné řádky.' . "\n";
	} else {
		echo "<table cellspacing='0'>\n";
		foreach ($Rh as $x => $X) {
			echo "<tr>", "<th><code class='jush-" . $w . ($Fg ? "status" : "set") . "'>" . h($x) . "</code>", "<td>" . nbsp($X);
		}
		echo "</table>\n";
	}
} elseif (isset($_GET["script"])) {
	header("Content-Type: text/javascript; charset=utf-8");
	if ($_GET["script"] == "db") {
		$Ng = [
			"Data_length" => 0,
			"Index_length" => 0,
			"Data_free" => 0,
		];
		foreach (table_status() as $C => $R) {
			json_row("Comment-$C", nbsp($R["Comment"]));
			if (!is_view($R)) {
				foreach ([
					         "Engine",
					         "Collation",
				         ] as $x) {
					json_row("$x-$C", nbsp($R[$x]));
				}
				foreach ($Ng + [
					"Auto_increment" => 0,
					"Rows" => 0,
				] as $x => $X) {
					if ($R[$x] != "") {
						$X = format_number($R[$x]);
						json_row("$x-$C", ($x == "Rows" && $X && $R["Engine"] == ($Cg == "pgsql" ? "table" : "InnoDB") ? "~ $X" : $X));
						if (isset($Ng[$x])) {
							$Ng[$x] += ($R["Engine"] != "InnoDB" || $x != "Data_free" ? $R[$x] : 0);
						}
					} elseif (array_key_exists($x, $R)) {
						json_row("$x-$C");
					}
				}
			}
		}
		foreach ($Ng as $x => $X) {
			json_row("sum-$x", format_number($X));
		}
		json_row("");
	} elseif ($_GET["script"] == "kill") {
		$g->query("KILL " . number($_POST["kill"]));
	} else {
		foreach (count_tables($b->databases()) as $m => $X) {
			json_row("tables-$m", $X);
			json_row("size-$m", db_size($m));
		}
		json_row("");
	}
	exit;
} else {
	$Wg = array_merge((array)$_POST["tables"], (array)$_POST["views"]);
	if ($Wg && !$n && !$_POST["search"]) {
		$I = true;
		$ie = "";
		if ($w == "sql" && count($_POST["tables"]) > 1 && ($_POST["drop"] || $_POST["truncate"] || $_POST["copy"])) {
			queries("SET foreign_key_checks = 0");
		}
		if ($_POST["truncate"]) {
			if ($_POST["tables"]) {
				$I = truncate_tables($_POST["tables"]);
			}
			$ie = 'Tabulky byly vyprázdněny.';
		} elseif ($_POST["move"]) {
			$I = move_tables((array)$_POST["tables"], (array)$_POST["views"], $_POST["target"]);
			$ie = 'Tabulky byly přesunuty.';
		} elseif ($_POST["copy"]) {
			$I = copy_tables((array)$_POST["tables"], (array)$_POST["views"], $_POST["target"]);
			$ie = 'Tabulky byly zkopírovány.';
		} elseif ($_POST["drop"]) {
			if ($_POST["views"]) {
				$I = drop_views($_POST["views"]);
			}
			if ($I && $_POST["tables"]) {
				$I = drop_tables($_POST["tables"]);
			}
			$ie = 'Tabulky byly odstraněny.';
		} elseif ($w != "sql") {
			$I = ($w == "sqlite" ? queries("VACUUM") : apply_queries("VACUUM" . ($_POST["optimize"] ? "" : " ANALYZE"), $_POST["tables"]));
			$ie = 'Tabulky byly optimalizovány.';
		} elseif (!$_POST["tables"]) {
			$ie = 'Žádné tabulky.';
		} elseif ($I = queries(($_POST["optimize"] ? "OPTIMIZE" : ($_POST["check"] ? "CHECK" : ($_POST["repair"] ? "REPAIR" : "ANALYZE"))) . " TABLE " . implode(", ", array_map('idf_escape', $_POST["tables"])))) {
			while ($K = $I->fetch_assoc()) {
				$ie .= "<b>" . h($K["Table"]) . "</b>: " . h($K["Msg_text"]) . "<br>";
			}
		}
		queries_redirect(substr(ME, 0, -1), $ie, $I);
	}
	page_header(($_GET["ns"] == "" ? 'Databáze' . ": " . h(DB) : 'Schéma' . ": " . h($_GET["ns"])), $n, true);
	if ($b->homepage()) {
		if ($_GET["ns"] !== "") {
			echo "<h3 id='tables-views'>" . 'Tabulky a pohledy' . "</h3>\n";
			$Vg = tables_list();
			if (!$Vg) {
				echo "<p class='message'>" . 'Žádné tabulky.' . "\n";
			} else {
				echo "<form action='' method='post'>\n";
				if (support("table")) {
					echo "<fieldset><legend>" . 'Vyhledat data v tabulkách' . " <span id='selected2'></span></legend><div>", "<input type='search' name='query' value='" . h($_POST["query"]) . "'> <input type='submit' name='search' value='" . 'Vyhledat' . "'>\n", "</div></fieldset>\n";
					if ($_POST["search"] && $_POST["query"] != "") {
						search_tables();
					}
				}
				echo "<table cellspacing='0' class='nowrap checkable' onclick='tableClick(event);' ondblclick='tableClick(event, true);'>\n", '<thead><tr class="wrap"><td><input id="check-all" type="checkbox" onclick="formCheck(this, /^(tables|views)\[/);">';
				$Sb = doc_link(['sql' => 'show-table-status.html']);
				echo '<th>' . 'Tabulka', '<td>' . 'Úložiště' . doc_link(['sql' => 'storage-engines.html']), '<td>' . 'Porovnávání' . doc_link(['sql' => 'charset-mysql.html']), '<td>' . 'Velikost dat' . $Sb, '<td>' . 'Velikost indexů' . $Sb, '<td>' . 'Volné místo' . $Sb, '<td>' . 'Auto Increment' . doc_link(['sql' => 'example-auto-increment.html']), '<td>' . 'Řádků' . $Sb, (support("comment") ? '<td>' . 'Komentář' . $Sb : ''), "</thead>\n";
				$S = 0;
				foreach ($Vg as $C => $U) {
					$Uh = ($U !== null && !preg_match('~table~i', $U));
					echo '<tr' . odd() . '><td>' . checkbox(($Uh ? "views[]" : "tables[]"), $C, in_array($C, $Wg, true), "", "formUncheck('check-all');"), '<th>' . (support("table") || support("indexes") ? '<a href="' . h(ME) . 'table=' . urlencode($C) . '" title="' . 'Zobrazit strukturu' . '">' . h($C) . '</a>' : h($C));
					if ($Uh) {
						echo '<td colspan="6"><a href="' . h(ME) . "view=" . urlencode($C) . '" title="' . 'Pozměnit pohled' . '">' . (preg_match('~materialized~i', $U) ? 'Materializovaný pohled' : 'Pohled') . '</a>', '<td align="right"><a href="' . h(ME) . "select=" . urlencode($C) . '" title="' . 'Vypsat data' . '">?</a>';
					} else {
						foreach ([
							         "Engine" => [],
							         "Collation" => [],
							         "Data_length" => [
								         "create",
								         'Pozměnit tabulku',
							         ],
							         "Index_length" => [
								         "indexes",
								         'Pozměnit indexy',
							         ],
							         "Data_free" => [
								         "edit",
								         'Nová položka',
							         ],
							         "Auto_increment" => [
								         "auto_increment=1&create",
								         'Pozměnit tabulku',
							         ],
							         "Rows" => [
								         "select",
								         'Vypsat data',
							         ],
						         ] as $x => $_) {
							$hd = " id='$x-" . h($C) . "'";
							echo($_ ? "<td align='right'>" . (support("table") || $x == "Rows" || (support("indexes") && $x != "Data_length") ? "<a href='" . h(ME . "$_[0]=") . urlencode($C) . "'$hd title='$_[1]'>?</a>" : "<span$hd>?</span>") : "<td id='$x-" . h($C) . "'>&nbsp;");
						}
						$S++;
					}
					echo(support("comment") ? "<td id='Comment-" . h($C) . "'>&nbsp;" : "");
				}
				echo "<tr><td>&nbsp;<th>" . sprintf('%d celkem', count($Vg)), "<td>" . nbsp($w == "sql" ? $g->result("SELECT @@storage_engine") : ""), "<td>" . nbsp(db_collation(DB, collations()));
				foreach ([
					         "Data_length",
					         "Index_length",
					         "Data_free",
				         ] as $x) {
					echo "<td align='right' id='sum-$x'>&nbsp;";
				}
				echo "</table>\n";
				if (!information_schema(DB)) {
					$Oh = "<input type='submit' value='" . 'Vyčistit' . "'" . on_help("'VACUUM'") . "> ";
					$Pe = "<input type='submit' name='optimize' value='" . 'Optimalizovat' . "'" . on_help($w == "sql" ? "'OPTIMIZE TABLE'" : "'VACUUM OPTIMIZE'") . "> ";
					echo "<fieldset><legend>" . 'Označené' . " <span id='selected'></span></legend><div>" . ($w == "sqlite" ? $Oh : ($w == "pgsql" ? $Oh . $Pe : ($w == "sql" ? "<input type='submit' value='" . 'Analyzovat' . "'" . on_help("'ANALYZE TABLE'") . "> " . $Pe . "<input type='submit' name='check' value='" . 'Zkontrolovat' . "'" . on_help("'CHECK TABLE'") . "> " . "<input type='submit' name='repair' value='" . 'Opravit' . "'" . on_help("'REPAIR TABLE'") . "> " : ""))) . "<input type='submit' name='truncate' value='" . 'Vyprázdnit' . "'" . confirm() . on_help($w == "sqlite" ? "'DELETE'" : "'TRUNCATE" . ($w == "pgsql" ? "'" : " TABLE'")) . "> " . "<input type='submit' name='drop' value='" . 'Odstranit' . "'" . confirm() . on_help("'DROP TABLE'") . ">\n";
					$l = (support("scheme") ? $b->schemas() : $b->databases());
					if (count($l) != 1 && $w != "sqlite") {
						$m = (isset($_POST["target"]) ? $_POST["target"] : (support("scheme") ? $_GET["ns"] : DB));
						echo "<p>" . 'Přesunout do jiné databáze' . ": ", ($l ? html_select("target", $l, $m) : '<input name="target" value="' . h($m) . '" autocapitalize="off">'), " <input type='submit' name='move' value='" . 'Přesunout' . "'>", (support("copy") ? " <input type='submit' name='copy' value='" . 'Zkopírovat' . "'>" : ""), "\n";
					}
					echo "<input type='hidden' name='all' value='' onclick=\"selectCount('selected', formChecked(this, /^(tables|views)\[/));" . (support("table") ? " selectCount('selected2', formChecked(this, /^tables\[/) || $S);" : "") . "\">\n";
					echo "<input type='hidden' name='token' value='$T'>\n", "</div></fieldset>\n";
				}
				echo "</form>\n", "<script type='text/javascript'>tableCheck();</script>\n";
			}
			echo '<p class="links"><a href="' . h(ME) . 'create=">' . 'Vytvořit tabulku' . "</a>\n", (support("view") ? '<a href="' . h(ME) . 'view=">' . 'Vytvořit pohled' . "</a>\n" : ""), (support("materializedview") ? '<a href="' . h(ME) . 'view=&amp;materialized=1">' . 'Vytvořit materializovaný pohled' . "</a>\n" : "");
			if (support("routine")) {
				echo "<h3 id='routines'>" . 'Procedury a funkce' . "</h3>\n";
				$gg = routines();
				if ($gg) {
					echo "<table cellspacing='0'>\n", '<thead><tr><th>' . 'Název' . '<td>' . 'Typ' . '<td>' . 'Návratový typ' . "<td>&nbsp;</thead>\n";
					odd('');
					foreach ($gg as $K) {
						echo '<tr' . odd() . '>', '<th><a href="' . h(ME) . ($K["ROUTINE_TYPE"] != "PROCEDURE" ? 'callf=' : 'call=') . urlencode($K["ROUTINE_NAME"]) . '">' . h($K["ROUTINE_NAME"]) . '</a>', '<td>' . h($K["ROUTINE_TYPE"]), '<td>' . h($K["DTD_IDENTIFIER"]), '<td><a href="' . h(ME) . ($K["ROUTINE_TYPE"] != "PROCEDURE" ? 'function=' : 'procedure=') . urlencode($K["ROUTINE_NAME"]) . '">' . 'Změnit' . "</a>";
					}
					echo "</table>\n";
				}
				echo '<p class="links">' . (support("procedure") ? '<a href="' . h(ME) . 'procedure=">' . 'Vytvořit proceduru' . '</a>' : '') . '<a href="' . h(ME) . 'function=">' . 'Vytvořit funkci' . "</a>\n";
			}
			if (support("sequence")) {
				echo "<h3 id='sequences'>" . 'Sekvence' . "</h3>\n";
				$sg = get_vals("SELECT sequence_name FROM information_schema.sequences WHERE sequence_schema = current_schema() ORDER BY sequence_name");
				if ($sg) {
					echo "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Název' . "</thead>\n";
					odd('');
					foreach ($sg as $X) {
						echo "<tr" . odd() . "><th><a href='" . h(ME) . "sequence=" . urlencode($X) . "'>" . h($X) . "</a>\n";
					}
					echo "</table>\n";
				}
				echo "<p class='links'><a href='" . h(ME) . "sequence='>" . 'Vytvořit sekvenci' . "</a>\n";
			}
			if (support("type")) {
				echo "<h3 id='user-types'>" . 'Uživatelské typy' . "</h3>\n";
				$Mh = types();
				if ($Mh) {
					echo "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Název' . "</thead>\n";
					odd('');
					foreach ($Mh as $X) {
						echo "<tr" . odd() . "><th><a href='" . h(ME) . "type=" . urlencode($X) . "'>" . h($X) . "</a>\n";
					}
					echo "</table>\n";
				}
				echo "<p class='links'><a href='" . h(ME) . "type='>" . 'Vytvořit typ' . "</a>\n";
			}
			if (support("event")) {
				echo "<h3 id='events'>" . 'Události' . "</h3>\n";
				$L = get_rows("SHOW EVENTS");
				if ($L) {
					echo "<table cellspacing='0'>\n", "<thead><tr><th>" . 'Název' . "<td>" . 'Plán' . "<td>" . 'Začátek' . "<td>" . 'Konec' . "<td></thead>\n";
					foreach ($L as $K) {
						echo "<tr>", "<th>" . h($K["Name"]), "<td>" . ($K["Execute at"] ? 'V daný čas' . "<td>" . $K["Execute at"] : 'Každých' . " " . $K["Interval value"] . " " . $K["Interval field"] . "<td>$K[Starts]"), "<td>$K[Ends]", '<td><a href="' . h(ME) . 'event=' . urlencode($K["Name"]) . '">' . 'Změnit' . '</a>';
					}
					echo "</table>\n";
					$rc = $g->result("SELECT @@event_scheduler");
					if ($rc && $rc != "ON") {
						echo "<p class='error'><code class='jush-sqlset'>event_scheduler</code>: " . h($rc) . "\n";
					}
				}
				echo '<p class="links"><a href="' . h(ME) . 'event=">' . 'Vytvořit událost' . "</a>\n";
			}
			if ($Vg) {
				echo "<script type='text/javascript'>ajaxSetHtml('" . js_escape(ME) . "script=db');</script>\n";
			}
		}
	}
}
	page_footer();
